var iA=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import"../logic.js";var OF=iA((DF,td)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Nx={exports:{}},Uc={},Mx={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Symbol.for("react.element"),sA=Symbol.for("react.portal"),oA=Symbol.for("react.fragment"),aA=Symbol.for("react.strict_mode"),lA=Symbol.for("react.profiler"),uA=Symbol.for("react.provider"),hA=Symbol.for("react.context"),cA=Symbol.for("react.forward_ref"),dA=Symbol.for("react.suspense"),fA=Symbol.for("react.memo"),pA=Symbol.for("react.lazy"),Fv=Symbol.iterator;function mA(t){return t===null||typeof t!="object"?null:(t=Fv&&t[Fv]||t["@@iterator"],typeof t=="function"?t:null)}var Fx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ox=Object.assign,Lx={};function ra(t,e,r){this.props=t,this.context=e,this.refs=Lx,this.updater=r||Fx}ra.prototype.isReactComponent={};ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bx(){}Bx.prototype=ra.prototype;function kg(t,e,r){this.props=t,this.context=e,this.refs=Lx,this.updater=r||Fx}var Ng=kg.prototype=new Bx;Ng.constructor=kg;Ox(Ng,ra.prototype);Ng.isPureReactComponent=!0;var Ov=Array.isArray,Dx=Object.prototype.hasOwnProperty,Mg={current:null},Ux={key:!0,ref:!0,__self:!0,__source:!0};function zx(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Dx.call(e,n)&&!Ux.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var h=Array(u),c=0;c<u;c++)h[c]=arguments[c+2];i.children=h}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:Gl,type:t,key:s,ref:a,props:i,_owner:Mg.current}}function gA(t,e){return{$$typeof:Gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gl}function yA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Lv=/\/+/g;function Mf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yA(""+t.key):e.toString(36)}function Eh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Gl:case sA:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Mf(a,0):n,Ov(i)?(r="",t!=null&&(r=t.replace(Lv,"$&/")+"/"),Eh(i,e,r,"",function(c){return c})):i!=null&&(Fg(i)&&(i=gA(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Lv,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Ov(t))for(var u=0;u<t.length;u++){s=t[u];var h=n+Mf(s,u);a+=Eh(s,e,r,h,i)}else if(h=mA(t),typeof h=="function")for(t=h.call(t),u=0;!(s=t.next()).done;)s=s.value,h=n+Mf(s,u++),a+=Eh(s,e,r,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Lu(t,e,r){if(t==null)return t;var n=[],i=0;return Eh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function vA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Ah={transition:null},_A={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Ah,ReactCurrentOwner:Mg};Te.Children={map:Lu,forEach:function(t,e,r){Lu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Lu(t,function(){e++}),e},toArray:function(t){return Lu(t,function(e){return e})||[]},only:function(t){if(!Fg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=ra;Te.Fragment=oA;Te.Profiler=lA;Te.PureComponent=kg;Te.StrictMode=aA;Te.Suspense=dA;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_A;Te.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ox({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Mg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)Dx.call(e,h)&&!Ux.hasOwnProperty(h)&&(n[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){u=Array(h);for(var c=0;c<h;c++)u[c]=arguments[c+2];n.children=u}return{$$typeof:Gl,type:t.type,key:i,ref:s,props:n,_owner:a}};Te.createContext=function(t){return t={$$typeof:hA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uA,_context:t},t.Consumer=t};Te.createElement=zx;Te.createFactory=function(t){var e=zx.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:cA,render:t}};Te.isValidElement=Fg;Te.lazy=function(t){return{$$typeof:pA,_payload:{_status:-1,_result:t},_init:vA}};Te.memo=function(t,e){return{$$typeof:fA,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Ah.transition;Ah.transition={};try{t()}finally{Ah.transition=e}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(t,e){return Qt.current.useCallback(t,e)};Te.useContext=function(t){return Qt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Qt.current.useEffect(t,e)};Te.useId=function(){return Qt.current.useId()};Te.useImperativeHandle=function(t,e,r){return Qt.current.useImperativeHandle(t,e,r)};Te.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Qt.current.useMemo(t,e)};Te.useReducer=function(t,e,r){return Qt.current.useReducer(t,e,r)};Te.useRef=function(t){return Qt.current.useRef(t)};Te.useState=function(t){return Qt.current.useState(t)};Te.useSyncExternalStore=function(t,e,r){return Qt.current.useSyncExternalStore(t,e,r)};Te.useTransition=function(){return Qt.current.useTransition()};Te.version="18.2.0";Mx.exports=Te;var en=Mx.exports,Rn=Dc(en);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA=en,wA=Symbol.for("react.element"),SA=Symbol.for("react.fragment"),bA=Object.prototype.hasOwnProperty,TA=xA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EA={key:!0,ref:!0,__self:!0,__source:!0};function Gx(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)bA.call(e,n)&&!EA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:wA,type:t,key:s,ref:a,props:i,_owner:TA.current}}Uc.Fragment=SA;Uc.jsx=Gx;Uc.jsxs=Gx;Nx.exports=Uc;var mo=Nx.exports,Vp={},$x={exports:{}},_r={},jx={exports:{}},Hx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,H){var F=R.length;R.push(H);e:for(;0<F;){var z=F-1>>>1,J=R[z];if(0<i(J,H))R[z]=H,R[F]=J,F=z;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var H=R[0],F=R.pop();if(F!==H){R[0]=F;e:for(var z=0,J=R.length,_e=J>>>1;z<_e;){var ye=2*(z+1)-1,Fe=R[ye],we=ye+1,Me=R[we];if(0>i(Fe,F))we<J&&0>i(Me,Fe)?(R[z]=Me,R[we]=F,z=we):(R[z]=Fe,R[ye]=F,z=ye);else if(we<J&&0>i(Me,F))R[z]=Me,R[we]=F,z=we;else break e}}return H}function i(R,H){var F=R.sortIndex-H.sortIndex;return F!==0?F:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],c=[],p=1,y=null,g=3,v=!1,x=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(R){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=R)n(c),H.sortIndex=H.expirationTime,e(h,H);else break;H=r(c)}}function C(R){if(T=!1,S(R),!x)if(r(h)!==null)x=!0,pe(k);else{var H=r(c);H!==null&&he(C,H.startTime-R)}}function k(R,H){x=!1,T&&(T=!1,w(N),N=-1),v=!0;var F=g;try{for(S(H),y=r(h);y!==null&&(!(y.expirationTime>H)||R&&!fe());){var z=y.callback;if(typeof z=="function"){y.callback=null,g=y.priorityLevel;var J=z(y.expirationTime<=H);H=t.unstable_now(),typeof J=="function"?y.callback=J:y===r(h)&&n(h),S(H)}else n(h);y=r(h)}if(y!==null)var _e=!0;else{var ye=r(c);ye!==null&&he(C,ye.startTime-H),_e=!1}return _e}finally{y=null,g=F,v=!1}}var L=!1,O=null,N=-1,W=5,X=-1;function fe(){return!(t.unstable_now()-X<W)}function K(){if(O!==null){var R=t.unstable_now();X=R;var H=!0;try{H=O(!0,R)}finally{H?D():(L=!1,O=null)}}else L=!1}var D;if(typeof b=="function")D=function(){b(K)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ue=q.port2;q.port1.onmessage=K,D=function(){ue.postMessage(null)}}else D=function(){E(K,0)};function pe(R){O=R,L||(L=!0,D())}function he(R,H){N=E(function(){R(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,pe(k))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(R){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var F=g;g=H;try{return R()}finally{g=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=g;g=R;try{return H()}finally{g=F}},t.unstable_scheduleCallback=function(R,H,F){var z=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?z+F:z):F=z,R){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,R={id:p++,callback:H,priorityLevel:R,startTime:F,expirationTime:J,sortIndex:-1},F>z?(R.sortIndex=F,e(c,R),r(h)===null&&R===r(c)&&(T?(w(N),N=-1):T=!0,he(C,F-z))):(R.sortIndex=J,e(h,R),x||v||(x=!0,pe(k))),R},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(R){var H=g;return function(){var F=g;g=H;try{return R.apply(this,arguments)}finally{g=F}}}})(Hx);jx.exports=Hx;var AA=jx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=en,yr=AA;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wx=new Set,pl={};function Ls(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(pl[t]=e,t=0;t<e.length;t++)Wx.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wp=Object.prototype.hasOwnProperty,CA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bv={},Dv={};function IA(t){return Wp.call(Dv,t)?!0:Wp.call(Bv,t)?!1:CA.test(t)?Dv[t]=!0:(Bv[t]=!0,!1)}function RA(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PA(t,e,r,n){if(e===null||typeof e>"u"||RA(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qt(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Og=/[\-:]([a-z])/g;function Lg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Og,Lg);Ft[e]=new qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Og,Lg);Ft[e]=new qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Og,Lg);Ft[e]=new qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bg(t,e,r,n){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PA(e,r,i,n)&&(r=null),n||i===null?IA(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var si=Vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bu=Symbol.for("react.element"),go=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),Dg=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Yx=Symbol.for("react.context"),Ug=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Qp=Symbol.for("react.suspense_list"),zg=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),Qx=Symbol.for("react.offscreen"),Uv=Symbol.iterator;function Ra(t){return t===null||typeof t!="object"?null:(t=Uv&&t[Uv]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Ff;function ja(t){if(Ff===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ff=e&&e[1]||""}return`
`+Ff+t}var Of=!1;function Lf(t,e){if(!t||Of)return"";Of=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var h=`
`+i[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=u);break}}}finally{Of=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ja(t):""}function kA(t){switch(t.tag){case 5:return ja(t.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 2:case 15:return t=Lf(t.type,!1),t;case 11:return t=Lf(t.type.render,!1),t;case 1:return t=Lf(t.type,!0),t;default:return""}}function qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yo:return"Fragment";case go:return"Portal";case Xp:return"Profiler";case Dg:return"StrictMode";case Yp:return"Suspense";case Qp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yx:return(t.displayName||"Context")+".Consumer";case Xx:return(t._context.displayName||"Context")+".Provider";case Ug:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zg:return e=t.displayName||null,e!==null?e:qp(t.type)||"Memo";case wi:e=t._payload,t=t._init;try{return qp(t(e))}catch{}}return null}function NA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qp(e);case 8:return e===Dg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MA(t){var e=qx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Du(t){t._valueTracker||(t._valueTracker=MA(t))}function Kx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=qx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Xh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kp(t,e){var r=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function zv(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ui(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zx(t,e){e=e.checked,e!=null&&Bg(t,"checked",e,!1)}function Zp(t,e){Zx(t,e);var r=Ui(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jp(t,e.type,r):e.hasOwnProperty("defaultValue")&&Jp(t,e.type,Ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gv(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Jp(t,e,r){(e!=="number"||Xh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ha=Array.isArray;function Fo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ui(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function em(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $v(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Y(92));if(Ha(r)){if(1<r.length)throw Error(Y(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ui(r)}}function Jx(t,e){var r=Ui(e.value),n=Ui(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function jv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ew(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ew(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uu,tw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ml(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FA=["Webkit","ms","Moz","O"];Object.keys(Ja).forEach(function(t){FA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ja[e]=Ja[t]})});function rw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ja.hasOwnProperty(t)&&Ja[t]?(""+e).trim():e+"px"}function nw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var OA=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rm(t,e){if(e){if(OA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function nm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=null;function Gg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sm=null,Oo=null,Lo=null;function Hv(t){if(t=Hl(t)){if(typeof sm!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Hc(e),sm(t.stateNode,t.type,e))}}function iw(t){Oo?Lo?Lo.push(t):Lo=[t]:Oo=t}function sw(){if(Oo){var t=Oo,e=Lo;if(Lo=Oo=null,Hv(t),e)for(t=0;t<e.length;t++)Hv(e[t])}}function ow(t,e){return t(e)}function aw(){}var Bf=!1;function lw(t,e,r){if(Bf)return t(e,r);Bf=!0;try{return ow(t,e,r)}finally{Bf=!1,(Oo!==null||Lo!==null)&&(aw(),sw())}}function gl(t,e){var r=t.stateNode;if(r===null)return null;var n=Hc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Y(231,e,typeof r));return r}var om=!1;if(ei)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){om=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{om=!1}function LA(t,e,r,n,i,s,a,u,h){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(p){this.onError(p)}}var el=!1,Yh=null,Qh=!1,am=null,BA={onError:function(t){el=!0,Yh=t}};function DA(t,e,r,n,i,s,a,u,h){el=!1,Yh=null,LA.apply(BA,arguments)}function UA(t,e,r,n,i,s,a,u,h){if(DA.apply(this,arguments),el){if(el){var c=Yh;el=!1,Yh=null}else throw Error(Y(198));Qh||(Qh=!0,am=c)}}function Bs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function uw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vv(t){if(Bs(t)!==t)throw Error(Y(188))}function zA(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Vv(i),t;if(s===n)return Vv(i),e;s=s.sibling}throw Error(Y(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,u=i.child;u;){if(u===r){a=!0,r=i,n=s;break}if(u===n){a=!0,n=i,r=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===r){a=!0,r=s,n=i;break}if(u===n){a=!0,n=s,r=i;break}u=u.sibling}if(!a)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?t:e}function hw(t){return t=zA(t),t!==null?cw(t):null}function cw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cw(t);if(e!==null)return e;t=t.sibling}return null}var dw=yr.unstable_scheduleCallback,Wv=yr.unstable_cancelCallback,GA=yr.unstable_shouldYield,$A=yr.unstable_requestPaint,ht=yr.unstable_now,jA=yr.unstable_getCurrentPriorityLevel,$g=yr.unstable_ImmediatePriority,fw=yr.unstable_UserBlockingPriority,qh=yr.unstable_NormalPriority,HA=yr.unstable_LowPriority,pw=yr.unstable_IdlePriority,zc=null,Pn=null;function VA(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(zc,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:YA,WA=Math.log,XA=Math.LN2;function YA(t){return t>>>=0,t===0?32:31-(WA(t)/XA|0)|0}var zu=64,Gu=4194304;function Va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var u=a&~i;u!==0?n=Va(u):(s&=a,s!==0&&(n=Va(s)))}else a=r&~i,a!==0?n=Va(a):s!==0&&(n=Va(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-nn(e),i=1<<r,n|=t[r],e&=~i;return n}function QA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qA(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-nn(s),u=1<<a,h=i[a];h===-1?(!(u&r)||u&n)&&(i[a]=QA(u,e)):h<=e&&(t.expiredLanes|=u),s&=~u}}function lm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mw(){var t=zu;return zu<<=1,!(zu&4194240)&&(zu=64),t}function Df(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $l(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nn(e),t[e]=r}function KA(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-nn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function jg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-nn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Be=0;function gw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yw,Hg,vw,_w,xw,um=!1,$u=[],Pi=null,ki=null,Ni=null,yl=new Map,vl=new Map,Ti=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xv(t,e){switch(t){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(e.pointerId)}}function ka(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Hl(e),e!==null&&Hg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JA(t,e,r,n,i){switch(e){case"focusin":return Pi=ka(Pi,t,e,r,n,i),!0;case"dragenter":return ki=ka(ki,t,e,r,n,i),!0;case"mouseover":return Ni=ka(Ni,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return yl.set(s,ka(yl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,vl.set(s,ka(vl.get(s)||null,t,e,r,n,i)),!0}return!1}function ww(t){var e=ws(t.target);if(e!==null){var r=Bs(e);if(r!==null){if(e=r.tag,e===13){if(e=uw(r),e!==null){t.blockedOn=e,xw(t.priority,function(){vw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ch(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=hm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);im=n,r.target.dispatchEvent(n),im=null}else return e=Hl(r),e!==null&&Hg(e),t.blockedOn=r,!1;e.shift()}return!0}function Yv(t,e,r){Ch(t)&&r.delete(e)}function eC(){um=!1,Pi!==null&&Ch(Pi)&&(Pi=null),ki!==null&&Ch(ki)&&(ki=null),Ni!==null&&Ch(Ni)&&(Ni=null),yl.forEach(Yv),vl.forEach(Yv)}function Na(t,e){t.blockedOn===e&&(t.blockedOn=null,um||(um=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,eC)))}function _l(t){function e(i){return Na(i,t)}if(0<$u.length){Na($u[0],t);for(var r=1;r<$u.length;r++){var n=$u[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Pi!==null&&Na(Pi,t),ki!==null&&Na(ki,t),Ni!==null&&Na(Ni,t),yl.forEach(e),vl.forEach(e),r=0;r<Ti.length;r++)n=Ti[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ti.length&&(r=Ti[0],r.blockedOn===null);)ww(r),r.blockedOn===null&&Ti.shift()}var Bo=si.ReactCurrentBatchConfig,Zh=!0;function tC(t,e,r,n){var i=Be,s=Bo.transition;Bo.transition=null;try{Be=1,Vg(t,e,r,n)}finally{Be=i,Bo.transition=s}}function rC(t,e,r,n){var i=Be,s=Bo.transition;Bo.transition=null;try{Be=4,Vg(t,e,r,n)}finally{Be=i,Bo.transition=s}}function Vg(t,e,r,n){if(Zh){var i=hm(t,e,r,n);if(i===null)Yf(t,e,n,Jh,r),Xv(t,n);else if(JA(i,t,e,r,n))n.stopPropagation();else if(Xv(t,n),e&4&&-1<ZA.indexOf(t)){for(;i!==null;){var s=Hl(i);if(s!==null&&yw(s),s=hm(t,e,r,n),s===null&&Yf(t,e,n,Jh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Yf(t,e,n,null,r)}}var Jh=null;function hm(t,e,r,n){if(Jh=null,t=Gg(n),t=ws(t),t!==null)if(e=Bs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=uw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jh=t,null}function Sw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jA()){case $g:return 1;case fw:return 4;case qh:case HA:return 16;case pw:return 536870912;default:return 16}default:return 16}}var Ai=null,Wg=null,Ih=null;function bw(){if(Ih)return Ih;var t,e=Wg,r=e.length,n,i="value"in Ai?Ai.value:Ai.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Ih=i.slice(t,1<n?1-n:void 0)}function Rh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ju(){return!0}function Qv(){return!1}function xr(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ju:Qv,this.isPropagationStopped=Qv,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),e}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xg=xr(na),jl=tt({},na,{view:0,detail:0}),nC=xr(jl),Uf,zf,Ma,Gc=tt({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(Uf=t.screenX-Ma.screenX,zf=t.screenY-Ma.screenY):zf=Uf=0,Ma=t),Uf)},movementY:function(t){return"movementY"in t?t.movementY:zf}}),qv=xr(Gc),iC=tt({},Gc,{dataTransfer:0}),sC=xr(iC),oC=tt({},jl,{relatedTarget:0}),Gf=xr(oC),aC=tt({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),lC=xr(aC),uC=tt({},na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hC=xr(uC),cC=tt({},na,{data:0}),Kv=xr(cC),dC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pC[t])?!!e[t]:!1}function Yg(){return mC}var gC=tt({},jl,{key:function(t){if(t.key){var e=dC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yg,charCode:function(t){return t.type==="keypress"?Rh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yC=xr(gC),vC=tt({},Gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zv=xr(vC),_C=tt({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yg}),xC=xr(_C),wC=tt({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),SC=xr(wC),bC=tt({},Gc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TC=xr(bC),EC=[9,13,27,32],Qg=ei&&"CompositionEvent"in window,tl=null;ei&&"documentMode"in document&&(tl=document.documentMode);var AC=ei&&"TextEvent"in window&&!tl,Tw=ei&&(!Qg||tl&&8<tl&&11>=tl),Jv=String.fromCharCode(32),e1=!1;function Ew(t,e){switch(t){case"keyup":return EC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vo=!1;function CC(t,e){switch(t){case"compositionend":return Aw(e);case"keypress":return e.which!==32?null:(e1=!0,Jv);case"textInput":return t=e.data,t===Jv&&e1?null:t;default:return null}}function IC(t,e){if(vo)return t==="compositionend"||!Qg&&Ew(t,e)?(t=bw(),Ih=Wg=Ai=null,vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tw&&e.locale!=="ko"?null:e.data;default:return null}}var RC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RC[t.type]:e==="textarea"}function Cw(t,e,r,n){iw(n),e=ec(e,"onChange"),0<e.length&&(r=new Xg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var rl=null,xl=null;function PC(t){Dw(t,0)}function $c(t){var e=wo(t);if(Kx(e))return t}function kC(t,e){if(t==="change")return e}var Iw=!1;if(ei){var $f;if(ei){var jf="oninput"in document;if(!jf){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),jf=typeof r1.oninput=="function"}$f=jf}else $f=!1;Iw=$f&&(!document.documentMode||9<document.documentMode)}function n1(){rl&&(rl.detachEvent("onpropertychange",Rw),xl=rl=null)}function Rw(t){if(t.propertyName==="value"&&$c(xl)){var e=[];Cw(e,xl,t,Gg(t)),lw(PC,e)}}function NC(t,e,r){t==="focusin"?(n1(),rl=e,xl=r,rl.attachEvent("onpropertychange",Rw)):t==="focusout"&&n1()}function MC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $c(xl)}function FC(t,e){if(t==="click")return $c(e)}function OC(t,e){if(t==="input"||t==="change")return $c(e)}function LC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:LC;function wl(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Wp.call(e,i)||!ln(t[i],e[i]))return!1}return!0}function i1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s1(t,e){var r=i1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=i1(r)}}function Pw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kw(){for(var t=window,e=Xh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Xh(t.document)}return e}function qg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BC(t){var e=kw(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Pw(r.ownerDocument.documentElement,r)){if(n!==null&&qg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=s1(r,s);var a=s1(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DC=ei&&"documentMode"in document&&11>=document.documentMode,_o=null,cm=null,nl=null,dm=!1;function o1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dm||_o==null||_o!==Xh(n)||(n=_o,"selectionStart"in n&&qg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nl&&wl(nl,n)||(nl=n,n=ec(cm,"onSelect"),0<n.length&&(e=new Xg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_o)))}function Hu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var xo={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},Hf={},Nw={};ei&&(Nw=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function jc(t){if(Hf[t])return Hf[t];if(!xo[t])return t;var e=xo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Nw)return Hf[t]=e[r];return t}var Mw=jc("animationend"),Fw=jc("animationiteration"),Ow=jc("animationstart"),Lw=jc("transitionend"),Bw=new Map,a1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hi(t,e){Bw.set(t,e),Ls(e,[t])}for(var Vf=0;Vf<a1.length;Vf++){var Wf=a1[Vf],UC=Wf.toLowerCase(),zC=Wf[0].toUpperCase()+Wf.slice(1);Hi(UC,"on"+zC)}Hi(Mw,"onAnimationEnd");Hi(Fw,"onAnimationIteration");Hi(Ow,"onAnimationStart");Hi("dblclick","onDoubleClick");Hi("focusin","onFocus");Hi("focusout","onBlur");Hi(Lw,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function l1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,UA(n,e,void 0,t),t.currentTarget=null}function Dw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var u=n[a],h=u.instance,c=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;l1(i,u,c),s=h}else for(a=0;a<n.length;a++){if(u=n[a],h=u.instance,c=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;l1(i,u,c),s=h}}}if(Qh)throw t=am,Qh=!1,am=null,t}function Ge(t,e){var r=e[ym];r===void 0&&(r=e[ym]=new Set);var n=t+"__bubble";r.has(n)||(Uw(e,t,2,!1),r.add(n))}function Xf(t,e,r){var n=0;e&&(n|=4),Uw(r,t,n,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Sl(t){if(!t[Vu]){t[Vu]=!0,Wx.forEach(function(r){r!=="selectionchange"&&(GC.has(r)||Xf(r,!1,t),Xf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,Xf("selectionchange",!1,e))}}function Uw(t,e,r,n){switch(Sw(e)){case 1:var i=tC;break;case 4:i=rC;break;default:i=Vg}r=i.bind(null,e,r,t),i=void 0,!om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Yf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;a=a.return}for(;u!==null;){if(a=ws(u),a===null)return;if(h=a.tag,h===5||h===6){n=s=a;continue e}u=u.parentNode}}n=n.return}lw(function(){var c=s,p=Gg(r),y=[];e:{var g=Bw.get(t);if(g!==void 0){var v=Xg,x=t;switch(t){case"keypress":if(Rh(r)===0)break e;case"keydown":case"keyup":v=yC;break;case"focusin":x="focus",v=Gf;break;case"focusout":x="blur",v=Gf;break;case"beforeblur":case"afterblur":v=Gf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=qv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=sC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=xC;break;case Mw:case Fw:case Ow:v=lC;break;case Lw:v=SC;break;case"scroll":v=nC;break;case"wheel":v=TC;break;case"copy":case"cut":case"paste":v=hC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Zv}var T=(e&4)!==0,E=!T&&t==="scroll",w=T?g!==null?g+"Capture":null:g;T=[];for(var b=c,S;b!==null;){S=b;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,w!==null&&(C=gl(b,w),C!=null&&T.push(bl(b,C,S)))),E)break;b=b.return}0<T.length&&(g=new v(g,x,null,r,p),y.push({event:g,listeners:T}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&r!==im&&(x=r.relatedTarget||r.fromElement)&&(ws(x)||x[ti]))break e;if((v||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?ws(x):null,x!==null&&(E=Bs(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(T=qv,C="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(T=Zv,C="onPointerLeave",w="onPointerEnter",b="pointer"),E=v==null?g:wo(v),S=x==null?g:wo(x),g=new T(C,b+"leave",v,r,p),g.target=E,g.relatedTarget=S,C=null,ws(p)===c&&(T=new T(w,b+"enter",x,r,p),T.target=S,T.relatedTarget=E,C=T),E=C,v&&x)t:{for(T=v,w=x,b=0,S=T;S;S=no(S))b++;for(S=0,C=w;C;C=no(C))S++;for(;0<b-S;)T=no(T),b--;for(;0<S-b;)w=no(w),S--;for(;b--;){if(T===w||w!==null&&T===w.alternate)break t;T=no(T),w=no(w)}T=null}else T=null;v!==null&&u1(y,g,v,T,!1),x!==null&&E!==null&&u1(y,E,x,T,!0)}}e:{if(g=c?wo(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var k=kC;else if(t1(g))if(Iw)k=OC;else{k=MC;var L=NC}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(k=FC);if(k&&(k=k(t,c))){Cw(y,k,r,p);break e}L&&L(t,g,c),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&Jp(g,"number",g.value)}switch(L=c?wo(c):window,t){case"focusin":(t1(L)||L.contentEditable==="true")&&(_o=L,cm=c,nl=null);break;case"focusout":nl=cm=_o=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,o1(y,r,p);break;case"selectionchange":if(DC)break;case"keydown":case"keyup":o1(y,r,p)}var O;if(Qg)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else vo?Ew(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Tw&&r.locale!=="ko"&&(vo||N!=="onCompositionStart"?N==="onCompositionEnd"&&vo&&(O=bw()):(Ai=p,Wg="value"in Ai?Ai.value:Ai.textContent,vo=!0)),L=ec(c,N),0<L.length&&(N=new Kv(N,t,null,r,p),y.push({event:N,listeners:L}),O?N.data=O:(O=Aw(r),O!==null&&(N.data=O)))),(O=AC?CC(t,r):IC(t,r))&&(c=ec(c,"onBeforeInput"),0<c.length&&(p=new Kv("onBeforeInput","beforeinput",null,r,p),y.push({event:p,listeners:c}),p.data=O))}Dw(y,e)})}function bl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ec(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gl(t,r),s!=null&&n.unshift(bl(t,s,i)),s=gl(t,e),s!=null&&n.push(bl(t,s,i))),t=t.return}return n}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u1(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var u=r,h=u.alternate,c=u.stateNode;if(h!==null&&h===n)break;u.tag===5&&c!==null&&(u=c,i?(h=gl(r,s),h!=null&&a.unshift(bl(r,h,u))):i||(h=gl(r,s),h!=null&&a.push(bl(r,h,u)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var $C=/\r\n?/g,jC=/\u0000|\uFFFD/g;function h1(t){return(typeof t=="string"?t:""+t).replace($C,`
`).replace(jC,"")}function Wu(t,e,r){if(e=h1(e),h1(t)!==e&&r)throw Error(Y(425))}function tc(){}var fm=null,pm=null;function mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,HC=typeof clearTimeout=="function"?clearTimeout:void 0,c1=typeof Promise=="function"?Promise:void 0,VC=typeof queueMicrotask=="function"?queueMicrotask:typeof c1<"u"?function(t){return c1.resolve(null).then(t).catch(WC)}:gm;function WC(t){setTimeout(function(){throw t})}function Qf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),_l(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);_l(e)}function Mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ia=Math.random().toString(36).slice(2),Cn="__reactFiber$"+ia,Tl="__reactProps$"+ia,ti="__reactContainer$"+ia,ym="__reactEvents$"+ia,XC="__reactListeners$"+ia,YC="__reactHandles$"+ia;function ws(t){var e=t[Cn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ti]||r[Cn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=d1(t);t!==null;){if(r=t[Cn])return r;t=d1(t)}return e}t=r,r=t.parentNode}return null}function Hl(t){return t=t[Cn]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Hc(t){return t[Tl]||null}var vm=[],So=-1;function Vi(t){return{current:t}}function je(t){0>So||(t.current=vm[So],vm[So]=null,So--)}function Ue(t,e){So++,vm[So]=t.current,t.current=e}var zi={},jt=Vi(zi),nr=Vi(!1),Rs=zi;function Vo(t,e){var r=t.type.contextTypes;if(!r)return zi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ir(t){return t=t.childContextTypes,t!=null}function rc(){je(nr),je(jt)}function f1(t,e,r){if(jt.current!==zi)throw Error(Y(168));Ue(jt,e),Ue(nr,r)}function zw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Y(108,NA(t)||"Unknown",i));return tt({},r,n)}function nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zi,Rs=jt.current,Ue(jt,t),Ue(nr,nr.current),!0}function p1(t,e,r){var n=t.stateNode;if(!n)throw Error(Y(169));r?(t=zw(t,e,Rs),n.__reactInternalMemoizedMergedChildContext=t,je(nr),je(jt),Ue(jt,t)):je(nr),Ue(nr,r)}var Vn=null,Vc=!1,qf=!1;function Gw(t){Vn===null?Vn=[t]:Vn.push(t)}function QC(t){Vc=!0,Gw(t)}function Wi(){if(!qf&&Vn!==null){qf=!0;var t=0,e=Be;try{var r=Vn;for(Be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vn=null,Vc=!1}catch(i){throw Vn!==null&&(Vn=Vn.slice(t+1)),dw($g,Wi),i}finally{Be=e,qf=!1}}return null}var bo=[],To=0,ic=null,sc=0,Nr=[],Mr=0,Ps=null,Xn=1,Yn="";function us(t,e){bo[To++]=sc,bo[To++]=ic,ic=t,sc=e}function $w(t,e,r){Nr[Mr++]=Xn,Nr[Mr++]=Yn,Nr[Mr++]=Ps,Ps=t;var n=Xn;t=Yn;var i=32-nn(n)-1;n&=~(1<<i),r+=1;var s=32-nn(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Xn=1<<32-nn(e)+i|r<<i|n,Yn=s+t}else Xn=1<<s|r<<i|n,Yn=t}function Kg(t){t.return!==null&&(us(t,1),$w(t,1,0))}function Zg(t){for(;t===ic;)ic=bo[--To],bo[To]=null,sc=bo[--To],bo[To]=null;for(;t===Ps;)Ps=Nr[--Mr],Nr[Mr]=null,Yn=Nr[--Mr],Nr[Mr]=null,Xn=Nr[--Mr],Nr[Mr]=null}var mr=null,fr=null,Ye=!1,Zr=null;function jw(t,e){var r=Fr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function m1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,fr=Mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ps!==null?{id:Xn,overflow:Yn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,mr=t,fr=null,!0):!1;default:return!1}}function _m(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xm(t){if(Ye){var e=fr;if(e){var r=e;if(!m1(t,e)){if(_m(t))throw Error(Y(418));e=Mi(r.nextSibling);var n=mr;e&&m1(t,e)?jw(n,r):(t.flags=t.flags&-4097|2,Ye=!1,mr=t)}}else{if(_m(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ye=!1,mr=t}}}function g1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function Xu(t){if(t!==mr)return!1;if(!Ye)return g1(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mm(t.type,t.memoizedProps)),e&&(e=fr)){if(_m(t))throw Hw(),Error(Y(418));for(;e;)jw(t,e),e=Mi(e.nextSibling)}if(g1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fr=Mi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fr=null}}else fr=mr?Mi(t.stateNode.nextSibling):null;return!0}function Hw(){for(var t=fr;t;)t=Mi(t.nextSibling)}function Wo(){fr=mr=null,Ye=!1}function Jg(t){Zr===null?Zr=[t]:Zr.push(t)}var qC=si.ReactCurrentBatchConfig;function qr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var oc=Vi(null),ac=null,Eo=null,ey=null;function ty(){ey=Eo=ac=null}function ry(t){var e=oc.current;je(oc),t._currentValue=e}function wm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Do(t,e){ac=t,ey=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rr=!0),t.firstContext=null)}function zr(t){var e=t._currentValue;if(ey!==t)if(t={context:t,memoizedValue:e,next:null},Eo===null){if(ac===null)throw Error(Y(308));Eo=t,ac.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var Ss=null;function ny(t){Ss===null?Ss=[t]:Ss.push(t)}function Vw(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ny(e)):(r.next=i.next,i.next=r),e.interleaved=r,ri(t,n)}function ri(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Si=!1;function iy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ww(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ri(t,r)}return i=n.interleaved,i===null?(e.next=e,ny(n)):(e.next=i.next,i.next=e),n.interleaved=e,ri(t,r)}function Ph(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jg(t,r)}}function y1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function lc(t,e,r,n){var i=t.updateQueue;Si=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,c=h.next;h.next=null,a===null?s=c:a.next=c,a=h;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==a&&(u===null?p.firstBaseUpdate=c:u.next=c,p.lastBaseUpdate=h))}if(s!==null){var y=i.baseState;a=0,p=c=h=null,u=s;do{var g=u.lane,v=u.eventTime;if((n&g)===g){p!==null&&(p=p.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,T=u;switch(g=e,v=r,T.tag){case 1:if(x=T.payload,typeof x=="function"){y=x.call(v,y,g);break e}y=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=T.payload,g=typeof x=="function"?x.call(v,y,g):x,g==null)break e;y=tt({},y,g);break e;case 2:Si=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else v={eventTime:v,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(c=p=v,h=y):p=p.next=v,a|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(p===null&&(h=y),i.baseState=h,i.firstBaseUpdate=c,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ns|=a,t.lanes=a,t.memoizedState=y}}function v1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Y(191,i));i.call(n)}}}var Xw=new Vx.Component().refs;function Sm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:tt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wc={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Yt(),i=Li(t),s=Kn(n,i);s.payload=e,r!=null&&(s.callback=r),e=Fi(t,s,i),e!==null&&(sn(e,t,i,n),Ph(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Yt(),i=Li(t),s=Kn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Fi(t,s,i),e!==null&&(sn(e,t,i,n),Ph(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Yt(),n=Li(t),i=Kn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Fi(t,i,n),e!==null&&(sn(e,t,n,r),Ph(e,t,n))}};function _1(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!wl(r,n)||!wl(i,s):!0}function Yw(t,e,r){var n=!1,i=zi,s=e.contextType;return typeof s=="object"&&s!==null?s=zr(s):(i=ir(e)?Rs:jt.current,n=e.contextTypes,s=(n=n!=null)?Vo(t,i):zi),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function x1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Wc.enqueueReplaceState(e,e.state,null)}function bm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Xw,iy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zr(s):(s=ir(e)?Rs:jt.current,i.context=Vo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sm(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wc.enqueueReplaceState(i,i.state,null),lc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fa(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;u===Xw&&(u=i.refs={}),a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,t))}return t}function Yu(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function w1(t){var e=t._init;return e(t._payload)}function Qw(t){function e(w,b){if(t){var S=w.deletions;S===null?(w.deletions=[b],w.flags|=16):S.push(b)}}function r(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=Bi(w,b),w.index=0,w.sibling=null,w}function s(w,b,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<b?(w.flags|=2,b):S):(w.flags|=2,b)):(w.flags|=1048576,b)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function u(w,b,S,C){return b===null||b.tag!==6?(b=np(S,w.mode,C),b.return=w,b):(b=i(b,S),b.return=w,b)}function h(w,b,S,C){var k=S.type;return k===yo?p(w,b,S.props.children,C,S.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wi&&w1(k)===b.type)?(C=i(b,S.props),C.ref=Fa(w,b,S),C.return=w,C):(C=Lh(S.type,S.key,S.props,null,w.mode,C),C.ref=Fa(w,b,S),C.return=w,C)}function c(w,b,S,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=ip(S,w.mode,C),b.return=w,b):(b=i(b,S.children||[]),b.return=w,b)}function p(w,b,S,C,k){return b===null||b.tag!==7?(b=Es(S,w.mode,C,k),b.return=w,b):(b=i(b,S),b.return=w,b)}function y(w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=np(""+b,w.mode,S),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bu:return S=Lh(b.type,b.key,b.props,null,w.mode,S),S.ref=Fa(w,null,b),S.return=w,S;case go:return b=ip(b,w.mode,S),b.return=w,b;case wi:var C=b._init;return y(w,C(b._payload),S)}if(Ha(b)||Ra(b))return b=Es(b,w.mode,S,null),b.return=w,b;Yu(w,b)}return null}function g(w,b,S,C){var k=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:u(w,b,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bu:return S.key===k?h(w,b,S,C):null;case go:return S.key===k?c(w,b,S,C):null;case wi:return k=S._init,g(w,b,k(S._payload),C)}if(Ha(S)||Ra(S))return k!==null?null:p(w,b,S,C,null);Yu(w,S)}return null}function v(w,b,S,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(S)||null,u(b,w,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Bu:return w=w.get(C.key===null?S:C.key)||null,h(b,w,C,k);case go:return w=w.get(C.key===null?S:C.key)||null,c(b,w,C,k);case wi:var L=C._init;return v(w,b,S,L(C._payload),k)}if(Ha(C)||Ra(C))return w=w.get(S)||null,p(b,w,C,k,null);Yu(b,C)}return null}function x(w,b,S,C){for(var k=null,L=null,O=b,N=b=0,W=null;O!==null&&N<S.length;N++){O.index>N?(W=O,O=null):W=O.sibling;var X=g(w,O,S[N],C);if(X===null){O===null&&(O=W);break}t&&O&&X.alternate===null&&e(w,O),b=s(X,b,N),L===null?k=X:L.sibling=X,L=X,O=W}if(N===S.length)return r(w,O),Ye&&us(w,N),k;if(O===null){for(;N<S.length;N++)O=y(w,S[N],C),O!==null&&(b=s(O,b,N),L===null?k=O:L.sibling=O,L=O);return Ye&&us(w,N),k}for(O=n(w,O);N<S.length;N++)W=v(O,w,N,S[N],C),W!==null&&(t&&W.alternate!==null&&O.delete(W.key===null?N:W.key),b=s(W,b,N),L===null?k=W:L.sibling=W,L=W);return t&&O.forEach(function(fe){return e(w,fe)}),Ye&&us(w,N),k}function T(w,b,S,C){var k=Ra(S);if(typeof k!="function")throw Error(Y(150));if(S=k.call(S),S==null)throw Error(Y(151));for(var L=k=null,O=b,N=b=0,W=null,X=S.next();O!==null&&!X.done;N++,X=S.next()){O.index>N?(W=O,O=null):W=O.sibling;var fe=g(w,O,X.value,C);if(fe===null){O===null&&(O=W);break}t&&O&&fe.alternate===null&&e(w,O),b=s(fe,b,N),L===null?k=fe:L.sibling=fe,L=fe,O=W}if(X.done)return r(w,O),Ye&&us(w,N),k;if(O===null){for(;!X.done;N++,X=S.next())X=y(w,X.value,C),X!==null&&(b=s(X,b,N),L===null?k=X:L.sibling=X,L=X);return Ye&&us(w,N),k}for(O=n(w,O);!X.done;N++,X=S.next())X=v(O,w,N,X.value,C),X!==null&&(t&&X.alternate!==null&&O.delete(X.key===null?N:X.key),b=s(X,b,N),L===null?k=X:L.sibling=X,L=X);return t&&O.forEach(function(K){return e(w,K)}),Ye&&us(w,N),k}function E(w,b,S,C){if(typeof S=="object"&&S!==null&&S.type===yo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Bu:e:{for(var k=S.key,L=b;L!==null;){if(L.key===k){if(k=S.type,k===yo){if(L.tag===7){r(w,L.sibling),b=i(L,S.props.children),b.return=w,w=b;break e}}else if(L.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===wi&&w1(k)===L.type){r(w,L.sibling),b=i(L,S.props),b.ref=Fa(w,L,S),b.return=w,w=b;break e}r(w,L);break}else e(w,L);L=L.sibling}S.type===yo?(b=Es(S.props.children,w.mode,C,S.key),b.return=w,w=b):(C=Lh(S.type,S.key,S.props,null,w.mode,C),C.ref=Fa(w,b,S),C.return=w,w=C)}return a(w);case go:e:{for(L=S.key;b!==null;){if(b.key===L)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(w,b.sibling),b=i(b,S.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else e(w,b);b=b.sibling}b=ip(S,w.mode,C),b.return=w,w=b}return a(w);case wi:return L=S._init,E(w,b,L(S._payload),C)}if(Ha(S))return x(w,b,S,C);if(Ra(S))return T(w,b,S,C);Yu(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(w,b.sibling),b=i(b,S),b.return=w,w=b):(r(w,b),b=np(S,w.mode,C),b.return=w,w=b),a(w)):r(w,b)}return E}var Xo=Qw(!0),qw=Qw(!1),Vl={},kn=Vi(Vl),El=Vi(Vl),Al=Vi(Vl);function bs(t){if(t===Vl)throw Error(Y(174));return t}function sy(t,e){switch(Ue(Al,e),Ue(El,t),Ue(kn,Vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tm(e,t)}je(kn),Ue(kn,e)}function Yo(){je(kn),je(El),je(Al)}function Kw(t){bs(Al.current);var e=bs(kn.current),r=tm(e,t.type);e!==r&&(Ue(El,t),Ue(kn,r))}function oy(t){El.current===t&&(je(kn),je(El))}var Ke=Vi(0);function uc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kf=[];function ay(){for(var t=0;t<Kf.length;t++)Kf[t]._workInProgressVersionPrimary=null;Kf.length=0}var kh=si.ReactCurrentDispatcher,Zf=si.ReactCurrentBatchConfig,ks=0,Je=null,gt=null,Et=null,hc=!1,il=!1,Cl=0,KC=0;function Ut(){throw Error(Y(321))}function ly(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ln(t[r],e[r]))return!1;return!0}function uy(t,e,r,n,i,s){if(ks=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kh.current=t===null||t.memoizedState===null?tI:rI,t=r(n,i),il){s=0;do{if(il=!1,Cl=0,25<=s)throw Error(Y(301));s+=1,Et=gt=null,e.updateQueue=null,kh.current=nI,t=r(n,i)}while(il)}if(kh.current=cc,e=gt!==null&&gt.next!==null,ks=0,Et=gt=Je=null,hc=!1,e)throw Error(Y(300));return t}function hy(){var t=Cl!==0;return Cl=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Je.memoizedState=Et=t:Et=Et.next=t,Et}function Gr(){if(gt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Et===null?Je.memoizedState:Et.next;if(e!==null)Et=e,gt=t;else{if(t===null)throw Error(Y(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Et===null?Je.memoizedState=Et=t:Et=Et.next=t}return Et}function Il(t,e){return typeof e=="function"?e(t):e}function Jf(t){var e=Gr(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=gt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=a=null,h=null,c=s;do{var p=c.lane;if((ks&p)===p)h!==null&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var y={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};h===null?(u=h=y,a=n):h=h.next=y,Je.lanes|=p,Ns|=p}c=c.next}while(c!==null&&c!==s);h===null?a=n:h.next=u,ln(n,e.memoizedState)||(rr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=h,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,Ns|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ep(t){var e=Gr(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ln(s,e.memoizedState)||(rr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Zw(){}function Jw(t,e){var r=Je,n=Gr(),i=e(),s=!ln(n.memoizedState,i);if(s&&(n.memoizedState=i,rr=!0),n=n.queue,cy(rS.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,Rl(9,tS.bind(null,r,n,i,e),void 0,null),Ct===null)throw Error(Y(349));ks&30||eS(r,e,i)}return i}function eS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function tS(t,e,r,n){e.value=r,e.getSnapshot=n,nS(e)&&iS(t)}function rS(t,e,r){return r(function(){nS(e)&&iS(t)})}function nS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ln(t,r)}catch{return!0}}function iS(t){var e=ri(t,1);e!==null&&sn(e,t,1,-1)}function S1(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:t},e.queue=t,t=t.dispatch=eI.bind(null,Je,t),[e.memoizedState,t]}function Rl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function sS(){return Gr().memoizedState}function Nh(t,e,r,n){var i=En();Je.flags|=t,i.memoizedState=Rl(1|e,r,void 0,n===void 0?null:n)}function Xc(t,e,r,n){var i=Gr();n=n===void 0?null:n;var s=void 0;if(gt!==null){var a=gt.memoizedState;if(s=a.destroy,n!==null&&ly(n,a.deps)){i.memoizedState=Rl(e,r,s,n);return}}Je.flags|=t,i.memoizedState=Rl(1|e,r,s,n)}function b1(t,e){return Nh(8390656,8,t,e)}function cy(t,e){return Xc(2048,8,t,e)}function oS(t,e){return Xc(4,2,t,e)}function aS(t,e){return Xc(4,4,t,e)}function lS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uS(t,e,r){return r=r!=null?r.concat([t]):null,Xc(4,4,lS.bind(null,e,t),r)}function dy(){}function hS(t,e){var r=Gr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ly(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function cS(t,e){var r=Gr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ly(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function dS(t,e,r){return ks&21?(ln(r,e)||(r=mw(),Je.lanes|=r,Ns|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rr=!0),t.memoizedState=r)}function ZC(t,e){var r=Be;Be=r!==0&&4>r?r:4,t(!0);var n=Zf.transition;Zf.transition={};try{t(!1),e()}finally{Be=r,Zf.transition=n}}function fS(){return Gr().memoizedState}function JC(t,e,r){var n=Li(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pS(t))mS(e,r);else if(r=Vw(t,e,r,n),r!==null){var i=Yt();sn(r,t,n,i),gS(r,e,n)}}function eI(t,e,r){var n=Li(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pS(t))mS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,r);if(i.hasEagerState=!0,i.eagerState=u,ln(u,a)){var h=e.interleaved;h===null?(i.next=i,ny(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}r=Vw(t,e,i,n),r!==null&&(i=Yt(),sn(r,t,n,i),gS(r,e,n))}}function pS(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function mS(t,e){il=hc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gS(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jg(t,r)}}var cc={readContext:zr,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},tI={readContext:zr,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:zr,useEffect:b1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Nh(4194308,4,lS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Nh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nh(4,2,t,e)},useMemo:function(t,e){var r=En();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=En();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=JC.bind(null,Je,t),[n.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:S1,useDebugValue:dy,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=S1(!1),e=t[0];return t=ZC.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Je,i=En();if(Ye){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=e(),Ct===null)throw Error(Y(349));ks&30||eS(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,b1(rS.bind(null,n,s,t),[t]),n.flags|=2048,Rl(9,tS.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=En(),e=Ct.identifierPrefix;if(Ye){var r=Yn,n=Xn;r=(n&~(1<<32-nn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Cl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=KC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rI={readContext:zr,useCallback:hS,useContext:zr,useEffect:cy,useImperativeHandle:uS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:cS,useReducer:Jf,useRef:sS,useState:function(){return Jf(Il)},useDebugValue:dy,useDeferredValue:function(t){var e=Gr();return dS(e,gt.memoizedState,t)},useTransition:function(){var t=Jf(Il)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:Zw,useSyncExternalStore:Jw,useId:fS,unstable_isNewReconciler:!1},nI={readContext:zr,useCallback:hS,useContext:zr,useEffect:cy,useImperativeHandle:uS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:cS,useReducer:ep,useRef:sS,useState:function(){return ep(Il)},useDebugValue:dy,useDeferredValue:function(t){var e=Gr();return gt===null?e.memoizedState=t:dS(e,gt.memoizedState,t)},useTransition:function(){var t=ep(Il)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:Zw,useSyncExternalStore:Jw,useId:fS,unstable_isNewReconciler:!1};function Qo(t,e){try{var r="",n=e;do r+=kA(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Tm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var iI=typeof WeakMap=="function"?WeakMap:Map;function yS(t,e,r){r=Kn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){fc||(fc=!0,Fm=n),Tm(t,e)},r}function vS(t,e,r){r=Kn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Tm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Tm(t,e),typeof n!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function T1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new iI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=vI.bind(null,t,e,r),e.then(t,t))}function E1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function A1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Kn(-1,1),e.tag=2,Fi(r,e,1))),r.lanes|=1),t)}var sI=si.ReactCurrentOwner,rr=!1;function Xt(t,e,r,n){e.child=t===null?qw(e,null,r,n):Xo(e,t.child,r,n)}function C1(t,e,r,n,i){r=r.render;var s=e.ref;return Do(e,i),n=uy(t,e,r,n,s,i),r=hy(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(Ye&&r&&Kg(e),e.flags|=1,Xt(t,e,n,i),e.child)}function I1(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!xy(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,_S(t,e,s,n,i)):(t=Lh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:wl,r(a,n)&&t.ref===e.ref)return ni(t,e,i)}return e.flags|=1,t=Bi(s,n),t.ref=e.ref,t.return=e,e.child=t}function _S(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(wl(s,n)&&t.ref===e.ref)if(rr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(rr=!0);else return e.lanes=t.lanes,ni(t,e,i)}return Em(t,e,r,n,i)}function xS(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Co,dr),dr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(Co,dr),dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ue(Co,dr),dr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ue(Co,dr),dr|=n;return Xt(t,e,i,r),e.child}function wS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Em(t,e,r,n,i){var s=ir(r)?Rs:jt.current;return s=Vo(e,s),Do(e,i),r=uy(t,e,r,n,s,i),n=hy(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ni(t,e,i)):(Ye&&n&&Kg(e),e.flags|=1,Xt(t,e,r,i),e.child)}function R1(t,e,r,n,i){if(ir(r)){var s=!0;nc(e)}else s=!1;if(Do(e,i),e.stateNode===null)Mh(t,e),Yw(e,r,n),bm(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var h=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=zr(c):(c=ir(r)?Rs:jt.current,c=Vo(e,c));var p=r.getDerivedStateFromProps,y=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==n||h!==c)&&x1(e,a,n,c),Si=!1;var g=e.memoizedState;a.state=g,lc(e,n,a,i),h=e.memoizedState,u!==n||g!==h||nr.current||Si?(typeof p=="function"&&(Sm(e,r,p,n),h=e.memoizedState),(u=Si||_1(e,r,u,n,g,h,c))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=h),a.props=n,a.state=h,a.context=c,n=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Ww(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:qr(e.type,u),a.props=c,y=e.pendingProps,g=a.context,h=r.contextType,typeof h=="object"&&h!==null?h=zr(h):(h=ir(r)?Rs:jt.current,h=Vo(e,h));var v=r.getDerivedStateFromProps;(p=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==y||g!==h)&&x1(e,a,n,h),Si=!1,g=e.memoizedState,a.state=g,lc(e,n,a,i);var x=e.memoizedState;u!==y||g!==x||nr.current||Si?(typeof v=="function"&&(Sm(e,r,v,n),x=e.memoizedState),(c=Si||_1(e,r,c,n,g,x,h)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=h,n=c):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return Am(t,e,r,n,s,i)}function Am(t,e,r,n,i,s){wS(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&p1(e,r,!1),ni(t,e,s);n=e.stateNode,sI.current=e;var u=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Xo(e,t.child,null,s),e.child=Xo(e,null,u,s)):Xt(t,e,u,s),e.memoizedState=n.state,i&&p1(e,r,!0),e.child}function SS(t){var e=t.stateNode;e.pendingContext?f1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f1(t,e.context,!1),sy(t,e.containerInfo)}function P1(t,e,r,n,i){return Wo(),Jg(i),e.flags|=256,Xt(t,e,r,n),e.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function Im(t){return{baseLanes:t,cachePool:null,transitions:null}}function bS(t,e,r){var n=e.pendingProps,i=Ke.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ke,i&1),t===null)return xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=qc(a,n,0,null),t=Es(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Im(r),e.memoizedState=Cm,t):fy(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return oI(t,e,a,n,u,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=h,e.deletions=null):(n=Bi(i,h),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Bi(u,s):(s=Es(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Im(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Cm,n}return s=t.child,t=s.sibling,n=Bi(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function fy(t,e){return e=qc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qu(t,e,r,n){return n!==null&&Jg(n),Xo(e,t.child,null,r),t=fy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oI(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=tp(Error(Y(422))),Qu(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=qc({mode:"visible",children:n.children},i,0,null),s=Es(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Xo(e,t.child,null,a),e.child.memoizedState=Im(a),e.memoizedState=Cm,s);if(!(e.mode&1))return Qu(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(Y(419)),n=tp(s,n,void 0),Qu(t,e,a,n)}if(u=(a&t.childLanes)!==0,rr||u){if(n=Ct,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ri(t,i),sn(n,t,i,-1))}return _y(),n=tp(Error(Y(421))),Qu(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_I.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fr=Mi(i.nextSibling),mr=e,Ye=!0,Zr=null,t!==null&&(Nr[Mr++]=Xn,Nr[Mr++]=Yn,Nr[Mr++]=Ps,Xn=t.id,Yn=t.overflow,Ps=e),e=fy(e,n.children),e.flags|=4096,e)}function k1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),wm(t.return,e,r)}function rp(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function TS(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Xt(t,e,n.children,r),n=Ke.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k1(t,r,e);else if(t.tag===19)k1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ue(Ke,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&uc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),rp(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}rp(e,!0,r,null,s);break;case"together":rp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ni(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,r=Bi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Bi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function aI(t,e,r){switch(e.tag){case 3:SS(e),Wo();break;case 5:Kw(e);break;case 1:ir(e.type)&&nc(e);break;case 4:sy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ue(oc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ue(Ke,Ke.current&1),e.flags|=128,null):r&e.child.childLanes?bS(t,e,r):(Ue(Ke,Ke.current&1),t=ni(t,e,r),t!==null?t.sibling:null);Ue(Ke,Ke.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return TS(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ke,Ke.current),n)break;return null;case 22:case 23:return e.lanes=0,xS(t,e,r)}return ni(t,e,r)}var ES,Rm,AS,CS;ES=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Rm=function(){};AS=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,bs(kn.current);var s=null;switch(r){case"input":i=Kp(t,i),n=Kp(t,n),s=[];break;case"select":i=tt({},i,{value:void 0}),n=tt({},n,{value:void 0}),s=[];break;case"textarea":i=em(t,i),n=em(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=tc)}rm(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var h=n[c];if(u=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&h!==u&&(h!=null||u!=null))if(c==="style")if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(r||(r={}),r[a]=h[a])}else r||(s||(s=[]),s.push(c,r)),r=h;else c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(c,h)):c==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(c,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pl.hasOwnProperty(c)?(h!=null&&c==="onScroll"&&Ge("scroll",t),s||u===h||(s=[])):(s=s||[]).push(c,h))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};CS=function(t,e,r,n){r!==n&&(e.flags|=4)};function Oa(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function lI(t,e,r){var n=e.pendingProps;switch(Zg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return ir(e.type)&&rc(),zt(e),null;case 3:return n=e.stateNode,Yo(),je(nr),je(jt),ay(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zr!==null&&(Bm(Zr),Zr=null))),Rm(t,e),zt(e),null;case 5:oy(e);var i=bs(Al.current);if(r=e.type,t!==null&&e.stateNode!=null)AS(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Y(166));return zt(e),null}if(t=bs(kn.current),Xu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Cn]=e,n[Tl]=s,t=(e.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(i=0;i<Wa.length;i++)Ge(Wa[i],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":zv(n,s),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",n);break;case"textarea":$v(n,s),Ge("invalid",n)}rm(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&Wu(n.textContent,u,t),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Wu(n.textContent,u,t),i=["children",""+u]):pl.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Ge("scroll",n)}switch(r){case"input":Du(n),Gv(n,s,!0);break;case"textarea":Du(n),jv(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=tc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ew(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Cn]=e,t[Tl]=n,ES(t,e,!1,!1),e.stateNode=t;e:{switch(a=nm(r,n),r){case"dialog":Ge("cancel",t),Ge("close",t),i=n;break;case"iframe":case"object":case"embed":Ge("load",t),i=n;break;case"video":case"audio":for(i=0;i<Wa.length;i++)Ge(Wa[i],t);i=n;break;case"source":Ge("error",t),i=n;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=n;break;case"details":Ge("toggle",t),i=n;break;case"input":zv(t,n),i=Kp(t,n),Ge("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=tt({},n,{value:void 0}),Ge("invalid",t);break;case"textarea":$v(t,n),i=em(t,n),Ge("invalid",t);break;default:i=n}rm(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?nw(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&tw(t,h)):s==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&ml(t,h):typeof h=="number"&&ml(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Ge("scroll",t):h!=null&&Bg(t,s,h,a))}switch(r){case"input":Du(t),Gv(t,n,!1);break;case"textarea":Du(t),jv(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ui(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Fo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Fo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)CS(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Y(166));if(r=bs(Al.current),bs(kn.current),Xu(e)){if(n=e.stateNode,r=e.memoizedProps,n[Cn]=e,(s=n.nodeValue!==r)&&(t=mr,t!==null))switch(t.tag){case 3:Wu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Cn]=e,e.stateNode=n}return zt(e),null;case 13:if(je(Ke),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&fr!==null&&e.mode&1&&!(e.flags&128))Hw(),Wo(),e.flags|=98560,s=!1;else if(s=Xu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[Cn]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),s=!1}else Zr!==null&&(Bm(Zr),Zr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?yt===0&&(yt=3):_y())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return Yo(),Rm(t,e),t===null&&Sl(e.stateNode.containerInfo),zt(e),null;case 10:return ry(e.type._context),zt(e),null;case 17:return ir(e.type)&&rc(),zt(e),null;case 19:if(je(Ke),s=e.memoizedState,s===null)return zt(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Oa(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=uc(t),a!==null){for(e.flags|=128,Oa(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ue(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&ht()>qo&&(e.flags|=128,n=!0,Oa(s,!1),e.lanes=4194304)}else{if(!n)if(t=uc(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ye)return zt(e),null}else 2*ht()-s.renderingStartTime>qo&&r!==1073741824&&(e.flags|=128,n=!0,Oa(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,r=Ke.current,Ue(Ke,n?r&1|2:r&1),e):(zt(e),null);case 22:case 23:return vy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?dr&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function uI(t,e){switch(Zg(e),e.tag){case 1:return ir(e.type)&&rc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),je(nr),je(jt),ay(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oy(e),null;case 13:if(je(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(Ke),null;case 4:return Yo(),null;case 10:return ry(e.type._context),null;case 22:case 23:return vy(),null;case 24:return null;default:return null}}var qu=!1,$t=!1,hI=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ao(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){it(t,e,n)}else r.current=null}function Pm(t,e,r){try{r()}catch(n){it(t,e,n)}}var N1=!1;function cI(t,e){if(fm=Zh,t=kw(),qg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,u=-1,h=-1,c=0,p=0,y=t,g=null;t:for(;;){for(var v;y!==r||i!==0&&y.nodeType!==3||(u=a+i),y!==s||n!==0&&y.nodeType!==3||(h=a+n),y.nodeType===3&&(a+=y.nodeValue.length),(v=y.firstChild)!==null;)g=y,y=v;for(;;){if(y===t)break t;if(g===r&&++c===i&&(u=a),g===s&&++p===n&&(h=a),(v=y.nextSibling)!==null)break;y=g,g=y.parentNode}y=v}r=u===-1||h===-1?null:{start:u,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(pm={focusedElem:t,selectionRange:r},Zh=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var T=x.memoizedProps,E=x.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?T:qr(e.type,T),E);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(C){it(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return x=N1,N1=!1,x}function sl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Pm(e,r,s)}i=i.next}while(i!==n)}}function Yc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function km(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function IS(t){var e=t.alternate;e!==null&&(t.alternate=null,IS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cn],delete e[Tl],delete e[ym],delete e[XC],delete e[YC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RS(t){return t.tag===5||t.tag===3||t.tag===4}function M1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=tc));else if(n!==4&&(t=t.child,t!==null))for(Nm(t,e,r),t=t.sibling;t!==null;)Nm(t,e,r),t=t.sibling}function Mm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Mm(t,e,r),t=t.sibling;t!==null;)Mm(t,e,r),t=t.sibling}var kt=null,Kr=!1;function yi(t,e,r){for(r=r.child;r!==null;)PS(t,e,r),r=r.sibling}function PS(t,e,r){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(zc,r)}catch{}switch(r.tag){case 5:$t||Ao(r,e);case 6:var n=kt,i=Kr;kt=null,yi(t,e,r),kt=n,Kr=i,kt!==null&&(Kr?(t=kt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(Kr?(t=kt,r=r.stateNode,t.nodeType===8?Qf(t.parentNode,r):t.nodeType===1&&Qf(t,r),_l(t)):Qf(kt,r.stateNode));break;case 4:n=kt,i=Kr,kt=r.stateNode.containerInfo,Kr=!0,yi(t,e,r),kt=n,Kr=i;break;case 0:case 11:case 14:case 15:if(!$t&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Pm(r,e,a),i=i.next}while(i!==n)}yi(t,e,r);break;case 1:if(!$t&&(Ao(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){it(r,e,u)}yi(t,e,r);break;case 21:yi(t,e,r);break;case 22:r.mode&1?($t=(n=$t)||r.memoizedState!==null,yi(t,e,r),$t=n):yi(t,e,r);break;default:yi(t,e,r)}}function F1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new hI),e.forEach(function(n){var i=xI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:kt=u.stateNode,Kr=!1;break e;case 3:kt=u.stateNode.containerInfo,Kr=!0;break e;case 4:kt=u.stateNode.containerInfo,Kr=!0;break e}u=u.return}if(kt===null)throw Error(Y(160));PS(s,a,i),kt=null,Kr=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(c){it(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kS(e,t),e=e.sibling}function kS(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xr(e,t),_n(t),n&4){try{sl(3,t,t.return),Yc(3,t)}catch(T){it(t,t.return,T)}try{sl(5,t,t.return)}catch(T){it(t,t.return,T)}}break;case 1:Xr(e,t),_n(t),n&512&&r!==null&&Ao(r,r.return);break;case 5:if(Xr(e,t),_n(t),n&512&&r!==null&&Ao(r,r.return),t.flags&32){var i=t.stateNode;try{ml(i,"")}catch(T){it(t,t.return,T)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Zx(i,s),nm(u,a);var c=nm(u,s);for(a=0;a<h.length;a+=2){var p=h[a],y=h[a+1];p==="style"?nw(i,y):p==="dangerouslySetInnerHTML"?tw(i,y):p==="children"?ml(i,y):Bg(i,p,y,c)}switch(u){case"input":Zp(i,s);break;case"textarea":Jx(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Fo(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?Fo(i,!!s.multiple,s.defaultValue,!0):Fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tl]=s}catch(T){it(t,t.return,T)}}break;case 6:if(Xr(e,t),_n(t),n&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){it(t,t.return,T)}}break;case 3:if(Xr(e,t),_n(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{_l(e.containerInfo)}catch(T){it(t,t.return,T)}break;case 4:Xr(e,t),_n(t);break;case 13:Xr(e,t),_n(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gy=ht())),n&4&&F1(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?($t=(c=$t)||p,Xr(e,t),$t=c):Xr(e,t),_n(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!p&&t.mode&1)for(ne=t,p=t.child;p!==null;){for(y=ne=p;ne!==null;){switch(g=ne,v=g.child,g.tag){case 0:case 11:case 14:case 15:sl(4,g,g.return);break;case 1:Ao(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(T){it(n,r,T)}}break;case 5:Ao(g,g.return);break;case 22:if(g.memoizedState!==null){L1(y);continue}}v!==null?(v.return=g,ne=v):L1(y)}p=p.sibling}e:for(p=null,y=t;;){if(y.tag===5){if(p===null){p=y;try{i=y.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=y.stateNode,h=y.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=rw("display",a))}catch(T){it(t,t.return,T)}}}else if(y.tag===6){if(p===null)try{y.stateNode.nodeValue=c?"":y.memoizedProps}catch(T){it(t,t.return,T)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;p===y&&(p=null),y=y.return}p===y&&(p=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Xr(e,t),_n(t),n&4&&F1(t);break;case 21:break;default:Xr(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(RS(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ml(i,""),n.flags&=-33);var s=M1(t);Mm(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,u=M1(t);Nm(t,u,a);break;default:throw Error(Y(161))}}catch(h){it(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dI(t,e,r){ne=t,NS(t)}function NS(t,e,r){for(var n=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||qu;if(!a){var u=i.alternate,h=u!==null&&u.memoizedState!==null||$t;u=qu;var c=$t;if(qu=a,($t=h)&&!c)for(ne=i;ne!==null;)a=ne,h=a.child,a.tag===22&&a.memoizedState!==null?B1(i):h!==null?(h.return=a,ne=h):B1(i);for(;s!==null;)ne=s,NS(s),s=s.sibling;ne=i,qu=u,$t=c}O1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):O1(t)}}function O1(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||Yc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!$t)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:qr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&v1(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}v1(e,a,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var y=p.dehydrated;y!==null&&_l(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}$t||e.flags&512&&km(e)}catch(g){it(e,e.return,g)}}if(e===t){ne=null;break}if(r=e.sibling,r!==null){r.return=e.return,ne=r;break}ne=e.return}}function L1(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ne=r;break}ne=e.return}}function B1(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Yc(4,e)}catch(h){it(e,r,h)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(h){it(e,i,h)}}var s=e.return;try{km(e)}catch(h){it(e,s,h)}break;case 5:var a=e.return;try{km(e)}catch(h){it(e,a,h)}}}catch(h){it(e,e.return,h)}if(e===t){ne=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ne=u;break}ne=e.return}}var fI=Math.ceil,dc=si.ReactCurrentDispatcher,py=si.ReactCurrentOwner,Dr=si.ReactCurrentBatchConfig,Ie=0,Ct=null,ft=null,Mt=0,dr=0,Co=Vi(0),yt=0,Pl=null,Ns=0,Qc=0,my=0,ol=null,tr=null,gy=0,qo=1/0,Hn=null,fc=!1,Fm=null,Oi=null,Ku=!1,Ci=null,pc=0,al=0,Om=null,Fh=-1,Oh=0;function Yt(){return Ie&6?ht():Fh!==-1?Fh:Fh=ht()}function Li(t){return t.mode&1?Ie&2&&Mt!==0?Mt&-Mt:qC.transition!==null?(Oh===0&&(Oh=mw()),Oh):(t=Be,t!==0||(t=window.event,t=t===void 0?16:Sw(t.type)),t):1}function sn(t,e,r,n){if(50<al)throw al=0,Om=null,Error(Y(185));$l(t,r,n),(!(Ie&2)||t!==Ct)&&(t===Ct&&(!(Ie&2)&&(Qc|=r),yt===4&&Ei(t,Mt)),sr(t,n),r===1&&Ie===0&&!(e.mode&1)&&(qo=ht()+500,Vc&&Wi()))}function sr(t,e){var r=t.callbackNode;qA(t,e);var n=Kh(t,t===Ct?Mt:0);if(n===0)r!==null&&Wv(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Wv(r),e===1)t.tag===0?QC(D1.bind(null,t)):Gw(D1.bind(null,t)),VC(function(){!(Ie&6)&&Wi()}),r=null;else{switch(gw(n)){case 1:r=$g;break;case 4:r=fw;break;case 16:r=qh;break;case 536870912:r=pw;break;default:r=qh}r=zS(r,MS.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function MS(t,e){if(Fh=-1,Oh=0,Ie&6)throw Error(Y(327));var r=t.callbackNode;if(Uo()&&t.callbackNode!==r)return null;var n=Kh(t,t===Ct?Mt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=mc(t,n);else{e=n;var i=Ie;Ie|=2;var s=OS();(Ct!==t||Mt!==e)&&(Hn=null,qo=ht()+500,Ts(t,e));do try{gI();break}catch(u){FS(t,u)}while(1);ty(),dc.current=s,Ie=i,ft!==null?e=0:(Ct=null,Mt=0,e=yt)}if(e!==0){if(e===2&&(i=lm(t),i!==0&&(n=i,e=Lm(t,i))),e===1)throw r=Pl,Ts(t,0),Ei(t,n),sr(t,ht()),r;if(e===6)Ei(t,n);else{if(i=t.current.alternate,!(n&30)&&!pI(i)&&(e=mc(t,n),e===2&&(s=lm(t),s!==0&&(n=s,e=Lm(t,s))),e===1))throw r=Pl,Ts(t,0),Ei(t,n),sr(t,ht()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Y(345));case 2:hs(t,tr,Hn);break;case 3:if(Ei(t,n),(n&130023424)===n&&(e=gy+500-ht(),10<e)){if(Kh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gm(hs.bind(null,t,tr,Hn),e);break}hs(t,tr,Hn);break;case 4:if(Ei(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-nn(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fI(n/1960))-n,10<n){t.timeoutHandle=gm(hs.bind(null,t,tr,Hn),n);break}hs(t,tr,Hn);break;case 5:hs(t,tr,Hn);break;default:throw Error(Y(329))}}}return sr(t,ht()),t.callbackNode===r?MS.bind(null,t):null}function Lm(t,e){var r=ol;return t.current.memoizedState.isDehydrated&&(Ts(t,e).flags|=256),t=mc(t,e),t!==2&&(e=tr,tr=r,e!==null&&Bm(e)),t}function Bm(t){tr===null?tr=t:tr.push.apply(tr,t)}function pI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ln(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ei(t,e){for(e&=~my,e&=~Qc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-nn(e),n=1<<r;t[r]=-1,e&=~n}}function D1(t){if(Ie&6)throw Error(Y(327));Uo();var e=Kh(t,0);if(!(e&1))return sr(t,ht()),null;var r=mc(t,e);if(t.tag!==0&&r===2){var n=lm(t);n!==0&&(e=n,r=Lm(t,n))}if(r===1)throw r=Pl,Ts(t,0),Ei(t,e),sr(t,ht()),r;if(r===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,tr,Hn),sr(t,ht()),null}function yy(t,e){var r=Ie;Ie|=1;try{return t(e)}finally{Ie=r,Ie===0&&(qo=ht()+500,Vc&&Wi())}}function Ms(t){Ci!==null&&Ci.tag===0&&!(Ie&6)&&Uo();var e=Ie;Ie|=1;var r=Dr.transition,n=Be;try{if(Dr.transition=null,Be=1,t)return t()}finally{Be=n,Dr.transition=r,Ie=e,!(Ie&6)&&Wi()}}function vy(){dr=Co.current,je(Co)}function Ts(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,HC(r)),ft!==null)for(r=ft.return;r!==null;){var n=r;switch(Zg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rc();break;case 3:Yo(),je(nr),je(jt),ay();break;case 5:oy(n);break;case 4:Yo();break;case 13:je(Ke);break;case 19:je(Ke);break;case 10:ry(n.type._context);break;case 22:case 23:vy()}r=r.return}if(Ct=t,ft=t=Bi(t.current,null),Mt=dr=e,yt=0,Pl=null,my=Qc=Ns=0,tr=ol=null,Ss!==null){for(e=0;e<Ss.length;e++)if(r=Ss[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ss=null}return t}function FS(t,e){do{var r=ft;try{if(ty(),kh.current=cc,hc){for(var n=Je.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hc=!1}if(ks=0,Et=gt=Je=null,il=!1,Cl=0,py.current=null,r===null||r.return===null){yt=1,Pl=e,ft=null;break}e:{var s=t,a=r.return,u=r,h=e;if(e=Mt,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var c=h,p=u,y=p.tag;if(!(p.mode&1)&&(y===0||y===11||y===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=E1(a);if(v!==null){v.flags&=-257,A1(v,a,u,s,e),v.mode&1&&T1(s,c,e),e=v,h=c;var x=e.updateQueue;if(x===null){var T=new Set;T.add(h),e.updateQueue=T}else x.add(h);break e}else{if(!(e&1)){T1(s,c,e),_y();break e}h=Error(Y(426))}}else if(Ye&&u.mode&1){var E=E1(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),A1(E,a,u,s,e),Jg(Qo(h,u));break e}}s=h=Qo(h,u),yt!==4&&(yt=2),ol===null?ol=[s]:ol.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=yS(s,h,e);y1(s,w);break e;case 1:u=h;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Oi===null||!Oi.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=vS(s,u,e);y1(s,C);break e}}s=s.return}while(s!==null)}BS(r)}catch(k){e=k,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(1)}function OS(){var t=dc.current;return dc.current=cc,t===null?cc:t}function _y(){(yt===0||yt===3||yt===2)&&(yt=4),Ct===null||!(Ns&268435455)&&!(Qc&268435455)||Ei(Ct,Mt)}function mc(t,e){var r=Ie;Ie|=2;var n=OS();(Ct!==t||Mt!==e)&&(Hn=null,Ts(t,e));do try{mI();break}catch(i){FS(t,i)}while(1);if(ty(),Ie=r,dc.current=n,ft!==null)throw Error(Y(261));return Ct=null,Mt=0,yt}function mI(){for(;ft!==null;)LS(ft)}function gI(){for(;ft!==null&&!GA();)LS(ft)}function LS(t){var e=US(t.alternate,t,dr);t.memoizedProps=t.pendingProps,e===null?BS(t):ft=e,py.current=null}function BS(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=uI(r,e),r!==null){r.flags&=32767,ft=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ft=null;return}}else if(r=lI(r,e,dr),r!==null){ft=r;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);yt===0&&(yt=5)}function hs(t,e,r){var n=Be,i=Dr.transition;try{Dr.transition=null,Be=1,yI(t,e,r,n)}finally{Dr.transition=i,Be=n}return null}function yI(t,e,r,n){do Uo();while(Ci!==null);if(Ie&6)throw Error(Y(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(KA(t,s),t===Ct&&(ft=Ct=null,Mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ku||(Ku=!0,zS(qh,function(){return Uo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Dr.transition,Dr.transition=null;var a=Be;Be=1;var u=Ie;Ie|=4,py.current=null,cI(t,r),kS(r,t),BC(pm),Zh=!!fm,pm=fm=null,t.current=r,dI(r),$A(),Ie=u,Be=a,Dr.transition=s}else t.current=r;if(Ku&&(Ku=!1,Ci=t,pc=i),s=t.pendingLanes,s===0&&(Oi=null),VA(r.stateNode),sr(t,ht()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(fc)throw fc=!1,t=Fm,Fm=null,t;return pc&1&&t.tag!==0&&Uo(),s=t.pendingLanes,s&1?t===Om?al++:(al=0,Om=t):al=0,Wi(),null}function Uo(){if(Ci!==null){var t=gw(pc),e=Dr.transition,r=Be;try{if(Dr.transition=null,Be=16>t?16:t,Ci===null)var n=!1;else{if(t=Ci,Ci=null,pc=0,Ie&6)throw Error(Y(331));var i=Ie;for(Ie|=4,ne=t.current;ne!==null;){var s=ne,a=s.child;if(ne.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var c=u[h];for(ne=c;ne!==null;){var p=ne;switch(p.tag){case 0:case 11:case 15:sl(8,p,s)}var y=p.child;if(y!==null)y.return=p,ne=y;else for(;ne!==null;){p=ne;var g=p.sibling,v=p.return;if(IS(p),p===c){ne=null;break}if(g!==null){g.return=v,ne=g;break}ne=v}}}var x=s.alternate;if(x!==null){var T=x.child;if(T!==null){x.child=null;do{var E=T.sibling;T.sibling=null,T=E}while(T!==null)}}ne=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ne=a;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ne=w;break e}ne=s.return}}var b=t.current;for(ne=b;ne!==null;){a=ne;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ne=S;else e:for(a=b;ne!==null;){if(u=ne,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Yc(9,u)}}catch(k){it(u,u.return,k)}if(u===a){ne=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,ne=C;break e}ne=u.return}}if(Ie=i,Wi(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(zc,t)}catch{}n=!0}return n}finally{Be=r,Dr.transition=e}}return!1}function U1(t,e,r){e=Qo(r,e),e=yS(t,e,1),t=Fi(t,e,1),e=Yt(),t!==null&&($l(t,1,e),sr(t,e))}function it(t,e,r){if(t.tag===3)U1(t,t,r);else for(;e!==null;){if(e.tag===3){U1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Oi===null||!Oi.has(n))){t=Qo(r,t),t=vS(e,t,1),e=Fi(e,t,1),t=Yt(),e!==null&&($l(e,1,t),sr(e,t));break}}e=e.return}}function vI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&r,Ct===t&&(Mt&r)===r&&(yt===4||yt===3&&(Mt&130023424)===Mt&&500>ht()-gy?Ts(t,0):my|=r),sr(t,e)}function DS(t,e){e===0&&(t.mode&1?(e=Gu,Gu<<=1,!(Gu&130023424)&&(Gu=4194304)):e=1);var r=Yt();t=ri(t,e),t!==null&&($l(t,e,r),sr(t,r))}function _I(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),DS(t,r)}function xI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(e),DS(t,r)}var US;US=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nr.current)rr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return rr=!1,aI(t,e,r);rr=!!(t.flags&131072)}else rr=!1,Ye&&e.flags&1048576&&$w(e,sc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Mh(t,e),t=e.pendingProps;var i=Vo(e,jt.current);Do(e,r),i=uy(null,e,n,t,i,r);var s=hy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ir(n)?(s=!0,nc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iy(e),i.updater=Wc,e.stateNode=i,i._reactInternals=e,bm(e,n,t,r),e=Am(null,e,n,!0,s,r)):(e.tag=0,Ye&&s&&Kg(e),Xt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Mh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=SI(n),t=qr(n,t),i){case 0:e=Em(null,e,n,t,r);break e;case 1:e=R1(null,e,n,t,r);break e;case 11:e=C1(null,e,n,t,r);break e;case 14:e=I1(null,e,n,qr(n.type,t),r);break e}throw Error(Y(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qr(n,i),Em(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qr(n,i),R1(t,e,n,i,r);case 3:e:{if(SS(e),t===null)throw Error(Y(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Ww(t,e),lc(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qo(Error(Y(423)),e),e=P1(t,e,n,r,i);break e}else if(n!==i){i=Qo(Error(Y(424)),e),e=P1(t,e,n,r,i);break e}else for(fr=Mi(e.stateNode.containerInfo.firstChild),mr=e,Ye=!0,Zr=null,r=qw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wo(),n===i){e=ni(t,e,r);break e}Xt(t,e,n,r)}e=e.child}return e;case 5:return Kw(e),t===null&&xm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,mm(n,i)?a=null:s!==null&&mm(n,s)&&(e.flags|=32),wS(t,e),Xt(t,e,a,r),e.child;case 6:return t===null&&xm(e),null;case 13:return bS(t,e,r);case 4:return sy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xo(e,null,n,r):Xt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qr(n,i),C1(t,e,n,i,r);case 7:return Xt(t,e,e.pendingProps,r),e.child;case 8:return Xt(t,e,e.pendingProps.children,r),e.child;case 12:return Xt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ue(oc,n._currentValue),n._currentValue=a,s!==null)if(ln(s.value,a)){if(s.children===i.children&&!nr.current){e=ni(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var h=u.firstContext;h!==null;){if(h.context===n){if(s.tag===1){h=Kn(-1,r&-r),h.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?h.next=h:(h.next=p.next,p.next=h),c.pending=h}}s.lanes|=r,h=s.alternate,h!==null&&(h.lanes|=r),wm(s.return,r,e),u.lanes|=r;break}h=h.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Y(341));a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),wm(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Xt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Do(e,r),i=zr(i),n=n(i),e.flags|=1,Xt(t,e,n,r),e.child;case 14:return n=e.type,i=qr(n,e.pendingProps),i=qr(n.type,i),I1(t,e,n,i,r);case 15:return _S(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qr(n,i),Mh(t,e),e.tag=1,ir(n)?(t=!0,nc(e)):t=!1,Do(e,r),Yw(e,n,i),bm(e,n,i,r),Am(null,e,n,!0,t,r);case 19:return TS(t,e,r);case 22:return xS(t,e,r)}throw Error(Y(156,e.tag))};function zS(t,e){return dw(t,e)}function wI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(t,e,r,n){return new wI(t,e,r,n)}function xy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SI(t){if(typeof t=="function")return xy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ug)return 11;if(t===zg)return 14}return 2}function Bi(t,e){var r=t.alternate;return r===null?(r=Fr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Lh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")xy(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case yo:return Es(r.children,i,s,e);case Dg:a=8,i|=8;break;case Xp:return t=Fr(12,r,e,i|2),t.elementType=Xp,t.lanes=s,t;case Yp:return t=Fr(13,r,e,i),t.elementType=Yp,t.lanes=s,t;case Qp:return t=Fr(19,r,e,i),t.elementType=Qp,t.lanes=s,t;case Qx:return qc(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xx:a=10;break e;case Yx:a=9;break e;case Ug:a=11;break e;case zg:a=14;break e;case wi:a=16,n=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Fr(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Es(t,e,r,n){return t=Fr(7,t,n,e),t.lanes=r,t}function qc(t,e,r,n){return t=Fr(22,t,n,e),t.elementType=Qx,t.lanes=r,t.stateNode={isHidden:!1},t}function np(t,e,r){return t=Fr(6,t,null,e),t.lanes=r,t}function ip(t,e,r){return e=Fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Df(0),this.expirationTimes=Df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Df(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wy(t,e,r,n,i,s,a,u,h){return t=new bI(t,e,r,u,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iy(s),t}function TI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:go,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function GS(t){if(!t)return zi;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var r=t.type;if(ir(r))return zw(t,r,e)}return e}function $S(t,e,r,n,i,s,a,u,h){return t=wy(r,n,!0,t,i,s,a,u,h),t.context=GS(null),r=t.current,n=Yt(),i=Li(r),s=Kn(n,i),s.callback=e??null,Fi(r,s,i),t.current.lanes=i,$l(t,i,n),sr(t,n),t}function Kc(t,e,r,n){var i=e.current,s=Yt(),a=Li(i);return r=GS(r),e.context===null?e.context=r:e.pendingContext=r,e=Kn(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Fi(i,e,a),t!==null&&(sn(t,i,a,s),Ph(t,i,a)),a}function gc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function z1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Sy(t,e){z1(t,e),(t=t.alternate)&&z1(t,e)}function EI(){return null}var jS=typeof reportError=="function"?reportError:function(t){console.error(t)};function by(t){this._internalRoot=t}Zc.prototype.render=by.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Kc(t,e,null,null)};Zc.prototype.unmount=by.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ms(function(){Kc(null,t,null,null)}),e[ti]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=_w();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ti.length&&e!==0&&e<Ti[r].priority;r++);Ti.splice(r,0,t),r===0&&ww(t)}};function Ty(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function G1(){}function AI(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=gc(a);s.call(c)}}var a=$S(e,n,t,0,null,!1,!1,"",G1);return t._reactRootContainer=a,t[ti]=a.current,Sl(t.nodeType===8?t.parentNode:t),Ms(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var c=gc(h);u.call(c)}}var h=wy(t,0,!1,null,null,!1,!1,"",G1);return t._reactRootContainer=h,t[ti]=h.current,Sl(t.nodeType===8?t.parentNode:t),Ms(function(){Kc(e,h,r,n)}),h}function ed(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var h=gc(a);u.call(h)}}Kc(e,a,t,i)}else a=AI(r,e,t,i,n);return gc(a)}yw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Va(e.pendingLanes);r!==0&&(jg(e,r|1),sr(e,ht()),!(Ie&6)&&(qo=ht()+500,Wi()))}break;case 13:Ms(function(){var n=ri(t,1);if(n!==null){var i=Yt();sn(n,t,1,i)}}),Sy(t,1)}};Hg=function(t){if(t.tag===13){var e=ri(t,134217728);if(e!==null){var r=Yt();sn(e,t,134217728,r)}Sy(t,134217728)}};vw=function(t){if(t.tag===13){var e=Li(t),r=ri(t,e);if(r!==null){var n=Yt();sn(r,t,e,n)}Sy(t,e)}};_w=function(){return Be};xw=function(t,e){var r=Be;try{return Be=t,e()}finally{Be=r}};sm=function(t,e,r){switch(e){case"input":if(Zp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Hc(n);if(!i)throw Error(Y(90));Kx(n),Zp(n,i)}}}break;case"textarea":Jx(t,r);break;case"select":e=r.value,e!=null&&Fo(t,!!r.multiple,e,!1)}};ow=yy;aw=Ms;var CI={usingClientEntryPoint:!1,Events:[Hl,wo,Hc,iw,sw,yy]},La={findFiberByHostInstance:ws,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},II={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hw(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||EI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{zc=Zu.inject(II),Pn=Zu}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI;_r.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ty(e))throw Error(Y(200));return TI(t,e,null,r)};_r.createRoot=function(t,e){if(!Ty(t))throw Error(Y(299));var r=!1,n="",i=jS;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wy(t,1,!1,null,null,r,!1,n,i),t[ti]=e.current,Sl(t.nodeType===8?t.parentNode:t),new by(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=hw(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return Ms(t)};_r.hydrate=function(t,e,r){if(!Jc(e))throw Error(Y(200));return ed(null,t,e,!0,r)};_r.hydrateRoot=function(t,e,r){if(!Ty(t))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=jS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=$S(e,null,t,1,r??null,i,!1,s,a),t[ti]=e.current,Sl(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Zc(e)};_r.render=function(t,e,r){if(!Jc(e))throw Error(Y(200));return ed(null,t,e,!1,r)};_r.unmountComponentAtNode=function(t){if(!Jc(t))throw Error(Y(40));return t._reactRootContainer?(Ms(function(){ed(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};_r.unstable_batchedUpdates=yy;_r.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Jc(r))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return ed(t,e,r,!1,n)};_r.version="18.2.0-next-9e3b772b8-20220608";function HS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HS)}catch(t){console.error(t)}}HS(),$x.exports=_r;var RI=$x.exports,$1=RI;Vp.createRoot=$1.createRoot,Vp.hydrateRoot=$1.hydrateRoot;var td={exports:{}},Ds=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Ds||{}),VS=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(VS||{}),Dm=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Dm||{}),ge=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ge||{}),tn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(tn||{}),ee=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ee||{}),zo=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(zo||{}),ve=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ve||{}),te=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(te||{}),Qn=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Qn||{}),Zn=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Zn||{}),Gi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Gi||{}),Or=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Or||{}),cs=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(cs||{}),Ey=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Ey||{}),Lr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Lr||{}),mt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(mt||{}),dt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(dt||{}),Nn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Nn||{});const PI={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ce={ADAPTER:PI,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var sp=/iPhone/i,j1=/iPod/i,H1=/iPad/i,V1=/\biOS-universal(?:.+)Mac\b/i,op=/\bAndroid(?:.+)Mobile\b/i,W1=/Android/i,io=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ju=/Silk/i,Gn=/Windows Phone/i,X1=/\bWindows(?:.+)ARM\b/i,Y1=/BlackBerry/i,Q1=/BB10/i,q1=/Opera Mini/i,K1=/\b(CriOS|Chrome)(?:.+)Mobile/i,Z1=/Mobile(?:.+)Firefox\b/i,J1=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function kI(t){return function(e){return e.test(t)}}function e_(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=kI(r),s={apple:{phone:i(sp)&&!i(Gn),ipod:i(j1),tablet:!i(sp)&&(i(H1)||J1(e))&&!i(Gn),universal:i(V1),device:(i(sp)||i(j1)||i(H1)||i(V1)||J1(e))&&!i(Gn)},amazon:{phone:i(io),tablet:!i(io)&&i(Ju),device:i(io)||i(Ju)},android:{phone:!i(Gn)&&i(io)||!i(Gn)&&i(op),tablet:!i(Gn)&&!i(io)&&!i(op)&&(i(Ju)||i(W1)),device:!i(Gn)&&(i(io)||i(Ju)||i(op)||i(W1))||i(/\bokhttp\b/i)},windows:{phone:i(Gn),tablet:i(X1),device:i(Gn)||i(X1)},other:{blackberry:i(Y1),blackberry10:i(Q1),opera:i(q1),firefox:i(Z1),chrome:i(K1),device:i(Y1)||i(Q1)||i(q1)||i(Z1)||i(K1)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const NI=e_.default??e_,Io=NI(globalThis.navigator);ce.RETINA_PREFIX=/@([0-9\.]+)x/;ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var WS={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(h,c,p){this.fn=h,this.context=c,this.once=p||!1}function s(h,c,p,y,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new i(p,y||h,g),x=r?r+c:c;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],v]:h._events[x].push(v):(h._events[x]=v,h._eventsCount++),h}function a(h,c){--h._eventsCount===0?h._events=new n:delete h._events[c]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],p,y;if(this._eventsCount===0)return c;for(y in p=this._events)e.call(p,y)&&c.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(p)):c},u.prototype.listeners=function(c){var p=r?r+c:c,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var g=0,v=y.length,x=new Array(v);g<v;g++)x[g]=y[g].fn;return x},u.prototype.listenerCount=function(c){var p=r?r+c:c,y=this._events[p];return y?y.fn?1:y.length:0},u.prototype.emit=function(c,p,y,g,v,x){var T=r?r+c:c;if(!this._events[T])return!1;var E=this._events[T],w=arguments.length,b,S;if(E.fn){switch(E.once&&this.removeListener(c,E.fn,void 0,!0),w){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,y),!0;case 4:return E.fn.call(E.context,p,y,g),!0;case 5:return E.fn.call(E.context,p,y,g,v),!0;case 6:return E.fn.call(E.context,p,y,g,v,x),!0}for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];E.fn.apply(E.context,b)}else{var C=E.length,k;for(S=0;S<C;S++)switch(E[S].once&&this.removeListener(c,E[S].fn,void 0,!0),w){case 1:E[S].fn.call(E[S].context);break;case 2:E[S].fn.call(E[S].context,p);break;case 3:E[S].fn.call(E[S].context,p,y);break;case 4:E[S].fn.call(E[S].context,p,y,g);break;default:if(!b)for(k=1,b=new Array(w-1);k<w;k++)b[k-1]=arguments[k];E[S].fn.apply(E[S].context,b)}}return!0},u.prototype.on=function(c,p,y){return s(this,c,p,y,!1)},u.prototype.once=function(c,p,y){return s(this,c,p,y,!0)},u.prototype.removeListener=function(c,p,y,g){var v=r?r+c:c;if(!this._events[v])return this;if(!p)return a(this,v),this;var x=this._events[v];if(x.fn)x.fn===p&&(!g||x.once)&&(!y||x.context===y)&&a(this,v);else{for(var T=0,E=[],w=x.length;T<w;T++)(x[T].fn!==p||g&&!x[T].once||y&&x[T].context!==y)&&E.push(x[T]);E.length?this._events[v]=E.length===1?E[0]:E:a(this,v)}return this},u.prototype.removeAllListeners=function(c){var p;return c?(p=r?r+c:c,this._events[p]&&a(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(WS);var MI=WS.exports,rd=Dc(MI),Ay={exports:{}};Ay.exports=nd;Ay.exports.default=nd;function nd(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=XS(t,0,i,r,!0),a=[];if(!s||s.next===s.prev)return a;var u,h,c,p,y,g,v;if(n&&(s=DI(t,e,s,r)),t.length>80*r){u=c=t[0],h=p=t[1];for(var x=r;x<i;x+=r)y=t[x],g=t[x+1],y<u&&(u=y),g<h&&(h=g),y>c&&(c=y),g>p&&(p=g);v=Math.max(c-u,p-h),v=v!==0?32767/v:0}return kl(s,a,r,u,h,v,0),a}function XS(t,e,r,n,i){var s,a;if(i===Gm(t,e,r,n)>0)for(s=e;s<r;s+=n)a=t_(s,t[s],t[s+1],a);else for(s=r-n;s>=e;s-=n)a=t_(s,t[s],t[s+1],a);return a&&id(a,a.next)&&(Ml(a),a=a.next),a}function Fs(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(id(r,r.next)||Ze(r.prev,r,r.next)===0)){if(Ml(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function kl(t,e,r,n,i,s,a){if(t){!a&&s&&jI(t,n,i,s);for(var u=t,h,c;t.prev!==t.next;){if(h=t.prev,c=t.next,s?OI(t,n,i,s):FI(t)){e.push(h.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),Ml(t),t=c.next,u=c.next;continue}if(t=c,t===u){a?a===1?(t=LI(Fs(t),e,r),kl(t,e,r,n,i,s,2)):a===2&&BI(t,e,r,n,i,s):kl(Fs(t),e,r,n,i,s,1);break}}}}function FI(t){var e=t.prev,r=t,n=t.next;if(Ze(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,a=n.x,u=e.y,h=r.y,c=n.y,p=i<s?i<a?i:a:s<a?s:a,y=u<h?u<c?u:c:h<c?h:c,g=i>s?i>a?i:a:s>a?s:a,v=u>h?u>c?u:c:h>c?h:c,x=n.next;x!==e;){if(x.x>=p&&x.x<=g&&x.y>=y&&x.y<=v&&Ro(i,u,s,h,a,c,x.x,x.y)&&Ze(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function OI(t,e,r,n){var i=t.prev,s=t,a=t.next;if(Ze(i,s,a)>=0)return!1;for(var u=i.x,h=s.x,c=a.x,p=i.y,y=s.y,g=a.y,v=u<h?u<c?u:c:h<c?h:c,x=p<y?p<g?p:g:y<g?y:g,T=u>h?u>c?u:c:h>c?h:c,E=p>y?p>g?p:g:y>g?y:g,w=Um(v,x,e,r,n),b=Um(T,E,e,r,n),S=t.prevZ,C=t.nextZ;S&&S.z>=w&&C&&C.z<=b;){if(S.x>=v&&S.x<=T&&S.y>=x&&S.y<=E&&S!==i&&S!==a&&Ro(u,p,h,y,c,g,S.x,S.y)&&Ze(S.prev,S,S.next)>=0||(S=S.prevZ,C.x>=v&&C.x<=T&&C.y>=x&&C.y<=E&&C!==i&&C!==a&&Ro(u,p,h,y,c,g,C.x,C.y)&&Ze(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;S&&S.z>=w;){if(S.x>=v&&S.x<=T&&S.y>=x&&S.y<=E&&S!==i&&S!==a&&Ro(u,p,h,y,c,g,S.x,S.y)&&Ze(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;C&&C.z<=b;){if(C.x>=v&&C.x<=T&&C.y>=x&&C.y<=E&&C!==i&&C!==a&&Ro(u,p,h,y,c,g,C.x,C.y)&&Ze(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function LI(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!id(i,s)&&YS(i,n,n.next,s)&&Nl(i,s)&&Nl(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Ml(n),Ml(n.next),n=t=s),n=n.next}while(n!==t);return Fs(n)}function BI(t,e,r,n,i,s){var a=t;do{for(var u=a.next.next;u!==a.prev;){if(a.i!==u.i&&WI(a,u)){var h=QS(a,u);a=Fs(a,a.next),h=Fs(h,h.next),kl(a,e,r,n,i,s,0),kl(h,e,r,n,i,s,0);return}u=u.next}a=a.next}while(a!==t)}function DI(t,e,r,n){var i=[],s,a,u,h,c;for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:t.length,c=XS(t,u,h,n,!1),c===c.next&&(c.steiner=!0),i.push(VI(c));for(i.sort(UI),s=0;s<i.length;s++)r=zI(i[s],r);return r}function UI(t,e){return t.x-e.x}function zI(t,e){var r=GI(t,e);if(!r)return e;var n=QS(r,t);return Fs(n,n.next),Fs(r,r.next)}function GI(t,e){var r=e,n=t.x,i=t.y,s=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s&&(s=u,a=r.x<r.next.x?r:r.next,u===n))return a}r=r.next}while(r!==e);if(!a)return null;var h=a,c=a.x,p=a.y,y=1/0,g;r=a;do n>=r.x&&r.x>=c&&n!==r.x&&Ro(i<p?n:s,i,c,p,i<p?s:n,i,r.x,r.y)&&(g=Math.abs(i-r.y)/(n-r.x),Nl(r,t)&&(g<y||g===y&&(r.x>a.x||r.x===a.x&&$I(a,r)))&&(a=r,y=g)),r=r.next;while(r!==h);return a}function $I(t,e){return Ze(t.prev,t,e.prev)<0&&Ze(e.next,t,t.next)<0}function jI(t,e,r,n){var i=t;do i.z===0&&(i.z=Um(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,HI(i)}function HI(t){var e,r,n,i,s,a,u,h,c=1;do{for(r=t,t=null,s=null,a=0;r;){for(a++,n=r,u=0,e=0;e<c&&(u++,n=n.nextZ,!!n);e++);for(h=c;u>0||h>0&&n;)u!==0&&(h===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,h--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,c*=2}while(a>1);return t}function Um(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function VI(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Ro(t,e,r,n,i,s,a,u){return(i-a)*(e-u)>=(t-a)*(s-u)&&(t-a)*(n-u)>=(r-a)*(e-u)&&(r-a)*(s-u)>=(i-a)*(n-u)}function WI(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!XI(t,e)&&(Nl(t,e)&&Nl(e,t)&&YI(t,e)&&(Ze(t.prev,t,e.prev)||Ze(t,e.prev,e))||id(t,e)&&Ze(t.prev,t,t.next)>0&&Ze(e.prev,e,e.next)>0)}function Ze(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function id(t,e){return t.x===e.x&&t.y===e.y}function YS(t,e,r,n){var i=th(Ze(t,e,r)),s=th(Ze(t,e,n)),a=th(Ze(r,n,t)),u=th(Ze(r,n,e));return!!(i!==s&&a!==u||i===0&&eh(t,r,e)||s===0&&eh(t,n,e)||a===0&&eh(r,t,n)||u===0&&eh(r,e,n))}function eh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function th(t){return t>0?1:t<0?-1:0}function XI(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&YS(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Nl(t,e){return Ze(t.prev,t,t.next)<0?Ze(t,e,t.next)>=0&&Ze(t,t.prev,e)>=0:Ze(t,e,t.prev)<0||Ze(t,t.next,e)<0}function YI(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function QS(t,e){var r=new zm(t.i,t.x,t.y),n=new zm(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function t_(t,e,r,n){var i=new zm(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ml(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zm(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}nd.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,a=Math.abs(Gm(t,0,s,r));if(i)for(var u=0,h=e.length;u<h;u++){var c=e[u]*r,p=u<h-1?e[u+1]*r:t.length;a-=Math.abs(Gm(t,c,p,r))}var y=0;for(u=0;u<n.length;u+=3){var g=n[u]*r,v=n[u+1]*r,x=n[u+2]*r;y+=Math.abs((t[g]-t[x])*(t[v+1]-t[g+1])-(t[g]-t[v])*(t[x+1]-t[g+1]))}return a===0&&y===0?0:Math.abs((y-a)/a)};function Gm(t,e,r,n){for(var i=0,s=e,a=r-n;s<r;s+=n)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}nd.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var a=0;a<e;a++)r.vertices.push(t[i][s][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var QI=Ay.exports,qI=Dc(QI),yc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */yc.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Th=="object"&&Th;(s.global===s||s.window===s||s.self===s)&&(r=s);var a,u=2147483647,h=36,c=1,p=26,y=38,g=700,v=72,x=128,T="-",E=/^xn--/,w=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=h-c,k=Math.floor,L=String.fromCharCode,O;function N(F){throw new RangeError(S[F])}function W(F,z){for(var J=F.length,_e=[];J--;)_e[J]=z(F[J]);return _e}function X(F,z){var J=F.split("@"),_e="";J.length>1&&(_e=J[0]+"@",F=J[1]),F=F.replace(b,".");var ye=F.split("."),Fe=W(ye,z).join(".");return _e+Fe}function fe(F){for(var z=[],J=0,_e=F.length,ye,Fe;J<_e;)ye=F.charCodeAt(J++),ye>=55296&&ye<=56319&&J<_e?(Fe=F.charCodeAt(J++),(Fe&64512)==56320?z.push(((ye&1023)<<10)+(Fe&1023)+65536):(z.push(ye),J--)):z.push(ye);return z}function K(F){return W(F,function(z){var J="";return z>65535&&(z-=65536,J+=L(z>>>10&1023|55296),z=56320|z&1023),J+=L(z),J}).join("")}function D(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:h}function q(F,z){return F+22+75*(F<26)-((z!=0)<<5)}function ue(F,z,J){var _e=0;for(F=J?k(F/g):F>>1,F+=k(F/z);F>C*p>>1;_e+=h)F=k(F/C);return k(_e+(C+1)*F/(F+y))}function pe(F){var z=[],J=F.length,_e,ye=0,Fe=x,we=v,Me,vt,It,rt,Se,ze,Re,wr,Sr;for(Me=F.lastIndexOf(T),Me<0&&(Me=0),vt=0;vt<Me;++vt)F.charCodeAt(vt)>=128&&N("not-basic"),z.push(F.charCodeAt(vt));for(It=Me>0?Me+1:0;It<J;){for(rt=ye,Se=1,ze=h;It>=J&&N("invalid-input"),Re=D(F.charCodeAt(It++)),(Re>=h||Re>k((u-ye)/Se))&&N("overflow"),ye+=Re*Se,wr=ze<=we?c:ze>=we+p?p:ze-we,!(Re<wr);ze+=h)Sr=h-wr,Se>k(u/Sr)&&N("overflow"),Se*=Sr;_e=z.length+1,we=ue(ye-rt,_e,rt==0),k(ye/_e)>u-Fe&&N("overflow"),Fe+=k(ye/_e),ye%=_e,z.splice(ye++,0,Fe)}return K(z)}function he(F){var z,J,_e,ye,Fe,we,Me,vt,It,rt,Se,ze=[],Re,wr,Sr,qi;for(F=fe(F),Re=F.length,z=x,J=0,Fe=v,we=0;we<Re;++we)Se=F[we],Se<128&&ze.push(L(Se));for(_e=ye=ze.length,ye&&ze.push(T);_e<Re;){for(Me=u,we=0;we<Re;++we)Se=F[we],Se>=z&&Se<Me&&(Me=Se);for(wr=_e+1,Me-z>k((u-J)/wr)&&N("overflow"),J+=(Me-z)*wr,z=Me,we=0;we<Re;++we)if(Se=F[we],Se<z&&++J>u&&N("overflow"),Se==z){for(vt=J,It=h;rt=It<=Fe?c:It>=Fe+p?p:It-Fe,!(vt<rt);It+=h)qi=vt-rt,Sr=h-rt,ze.push(L(q(rt+qi%Sr,0))),vt=k(qi/Sr);ze.push(L(q(vt,0))),Fe=ue(J,wr,_e==ye),J=0,++_e}++J,++z}return ze.join("")}function R(F){return X(F,function(z){return E.test(z)?pe(z.slice(4).toLowerCase()):z})}function H(F){return X(F,function(z){return w.test(z)?"xn--"+he(z):z})}if(a={version:"1.4.1",ucs2:{decode:fe,encode:K},decode:pe,encode:he,toASCII:H,toUnicode:R},n&&i)if(t.exports==n)i.exports=a;else for(O in a)a.hasOwnProperty(O)&&(n[O]=a[O]);else r.punycode=a})(Th)})(yc,yc.exports);var KI=yc.exports,ZI=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0},r_=typeof Symbol<"u"&&Symbol,JI=ZI,eR=function(){return typeof r_!="function"||typeof Symbol!="function"||typeof r_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:JI()},n_={foo:{}},tR=Object,rR=function(){return{__proto__:n_}.foo===n_.foo&&!({__proto__:null}instanceof tR)},nR="Function.prototype.bind called on incompatible ",iR=Object.prototype.toString,sR=Math.max,oR="[object Function]",i_=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},aR=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},lR=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},uR=function(e){var r=this;if(typeof r!="function"||iR.apply(r)!==oR)throw new TypeError(nR+r);for(var n=aR(arguments,1),i,s=function(){if(this instanceof i){var p=r.apply(this,i_(n,arguments));return Object(p)===p?p:this}return r.apply(e,i_(n,arguments))},a=sR(0,r.length-n.length),u=[],h=0;h<a;h++)u[h]="$"+h;if(i=Function("binder","return function ("+lR(u,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},hR=uR,Cy=Function.prototype.bind||hR,cR=Function.prototype.call,dR=Object.prototype.hasOwnProperty,fR=Cy,pR=fR.call(cR,dR),be,Ko=SyntaxError,qS=Function,Go=TypeError,ap=function(t){try{return qS('"use strict"; return ('+t+").constructor;")()}catch{}},As=Object.getOwnPropertyDescriptor;if(As)try{As({},"")}catch{As=null}var lp=function(){throw new Go},mR=As?function(){try{return arguments.callee,lp}catch{try{return As(arguments,"callee").get}catch{return lp}}}():lp,so=eR(),gR=rR(),Tt=Object.getPrototypeOf||(gR?function(t){return t.__proto__}:null),ho={},yR=typeof Uint8Array>"u"||!Tt?be:Tt(Uint8Array),Cs={"%AggregateError%":typeof AggregateError>"u"?be:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?be:ArrayBuffer,"%ArrayIteratorPrototype%":so&&Tt?Tt([][Symbol.iterator]()):be,"%AsyncFromSyncIteratorPrototype%":be,"%AsyncFunction%":ho,"%AsyncGenerator%":ho,"%AsyncGeneratorFunction%":ho,"%AsyncIteratorPrototype%":ho,"%Atomics%":typeof Atomics>"u"?be:Atomics,"%BigInt%":typeof BigInt>"u"?be:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?be:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?be:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?be:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?be:Float32Array,"%Float64Array%":typeof Float64Array>"u"?be:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?be:FinalizationRegistry,"%Function%":qS,"%GeneratorFunction%":ho,"%Int8Array%":typeof Int8Array>"u"?be:Int8Array,"%Int16Array%":typeof Int16Array>"u"?be:Int16Array,"%Int32Array%":typeof Int32Array>"u"?be:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":so&&Tt?Tt(Tt([][Symbol.iterator]())):be,"%JSON%":typeof JSON=="object"?JSON:be,"%Map%":typeof Map>"u"?be:Map,"%MapIteratorPrototype%":typeof Map>"u"||!so||!Tt?be:Tt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?be:Promise,"%Proxy%":typeof Proxy>"u"?be:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?be:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?be:Set,"%SetIteratorPrototype%":typeof Set>"u"||!so||!Tt?be:Tt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?be:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":so&&Tt?Tt(""[Symbol.iterator]()):be,"%Symbol%":so?Symbol:be,"%SyntaxError%":Ko,"%ThrowTypeError%":mR,"%TypedArray%":yR,"%TypeError%":Go,"%Uint8Array%":typeof Uint8Array>"u"?be:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?be:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?be:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?be:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?be:WeakMap,"%WeakRef%":typeof WeakRef>"u"?be:WeakRef,"%WeakSet%":typeof WeakSet>"u"?be:WeakSet};if(Tt)try{null.error}catch(t){var vR=Tt(Tt(t));Cs["%Error.prototype%"]=vR}var _R=function t(e){var r;if(e==="%AsyncFunction%")r=ap("async function () {}");else if(e==="%GeneratorFunction%")r=ap("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ap("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Tt&&(r=Tt(i.prototype))}return Cs[e]=r,r},s_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Wl=Cy,vc=pR,xR=Wl.call(Function.call,Array.prototype.concat),wR=Wl.call(Function.apply,Array.prototype.splice),o_=Wl.call(Function.call,String.prototype.replace),_c=Wl.call(Function.call,String.prototype.slice),SR=Wl.call(Function.call,RegExp.prototype.exec),bR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,TR=/\\(\\)?/g,ER=function(e){var r=_c(e,0,1),n=_c(e,-1);if(r==="%"&&n!=="%")throw new Ko("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ko("invalid intrinsic syntax, expected opening `%`");var i=[];return o_(e,bR,function(s,a,u,h){i[i.length]=u?o_(h,TR,"$1"):a||s}),i},AR=function(e,r){var n=e,i;if(vc(s_,n)&&(i=s_[n],n="%"+i[0]+"%"),vc(Cs,n)){var s=Cs[n];if(s===ho&&(s=_R(n)),typeof s>"u"&&!r)throw new Go("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ko("intrinsic "+e+" does not exist!")},Us=function(e,r){if(typeof e!="string"||e.length===0)throw new Go("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Go('"allowMissing" argument must be a boolean');if(SR(/^%?[^%]*%?$/,e)===null)throw new Ko("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ER(e),i=n.length>0?n[0]:"",s=AR("%"+i+"%",r),a=s.name,u=s.value,h=!1,c=s.alias;c&&(i=c[0],wR(n,xR([0,1],c)));for(var p=1,y=!0;p<n.length;p+=1){var g=n[p],v=_c(g,0,1),x=_c(g,-1);if((v==='"'||v==="'"||v==="`"||x==='"'||x==="'"||x==="`")&&v!==x)throw new Ko("property names with quotes must have matching quotes");if((g==="constructor"||!y)&&(h=!0),i+="."+g,a="%"+i+"%",vc(Cs,a))u=Cs[a];else if(u!=null){if(!(g in u)){if(!r)throw new Go("base intrinsic for "+e+" exists, but the property is not available.");return}if(As&&p+1>=n.length){var T=As(u,g);y=!!T,y&&"get"in T&&!("originalValue"in T.get)?u=T.get:u=u[g]}else y=vc(u,g),u=u[g];y&&!h&&(Cs[a]=u)}}return u},KS={exports:{}},CR=Us,$m=CR("%Object.defineProperty%",!0),jm=function(){if($m)try{return $m({},"a",{value:1}),!0}catch{return!1}return!1};jm.hasArrayLengthDefineBug=function(){if(!jm())return null;try{return $m([],"length",{value:1}).length!==1}catch{return!0}};var ZS=jm,IR=Us,Bh=IR("%Object.getOwnPropertyDescriptor%",!0);if(Bh)try{Bh([],"length")}catch{Bh=null}var JS=Bh,RR=ZS(),Iy=Us,ll=RR&&Iy("%Object.defineProperty%",!0);if(ll)try{ll({},"a",{value:1})}catch{ll=!1}var PR=Iy("%SyntaxError%"),oo=Iy("%TypeError%"),a_=JS,kR=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new oo("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new oo("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new oo("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new oo("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new oo("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new oo("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,h=!!a_&&a_(e,r);if(ll)ll(e,r,{configurable:a===null&&h?h.configurable:!a,enumerable:i===null&&h?h.enumerable:!i,value:n,writable:s===null&&h?h.writable:!s});else if(u||!i&&!s&&!a)e[r]=n;else throw new PR("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},eb=Us,l_=kR,NR=ZS(),u_=JS,h_=eb("%TypeError%"),MR=eb("%Math.floor%"),FR=function(e,r){if(typeof e!="function")throw new h_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||MR(r)!==r)throw new h_("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&u_){var a=u_(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(s=!1)}return(i||s||!n)&&(NR?l_(e,"length",r,!0,!0):l_(e,"length",r)),e};(function(t){var e=Cy,r=Us,n=FR,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||e.call(a,s),h=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(h)try{h({},"a",{value:1})}catch{h=null}t.exports=function(g){if(typeof g!="function")throw new i("a function is required");var v=u(e,a,arguments);return n(v,1+c(0,g.length-(arguments.length-1)),!0)};var p=function(){return u(e,s,arguments)};h?h(t.exports,"apply",{value:p}):t.exports.apply=p})(KS);var OR=KS.exports,tb=Us,rb=OR,LR=rb(tb("String.prototype.indexOf")),BR=function(e,r){var n=tb(e,!!r);return typeof n=="function"&&LR(e,".prototype.")>-1?rb(n):n},DR={},UR=Object.freeze({__proto__:null,default:DR}),zR=kx(UR),Ry=typeof Map=="function"&&Map.prototype,up=Object.getOwnPropertyDescriptor&&Ry?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,xc=Ry&&up&&typeof up.get=="function"?up.get:null,c_=Ry&&Map.prototype.forEach,Py=typeof Set=="function"&&Set.prototype,hp=Object.getOwnPropertyDescriptor&&Py?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,wc=Py&&hp&&typeof hp.get=="function"?hp.get:null,d_=Py&&Set.prototype.forEach,GR=typeof WeakMap=="function"&&WeakMap.prototype,ul=GR?WeakMap.prototype.has:null,$R=typeof WeakSet=="function"&&WeakSet.prototype,hl=$R?WeakSet.prototype.has:null,jR=typeof WeakRef=="function"&&WeakRef.prototype,f_=jR?WeakRef.prototype.deref:null,HR=Boolean.prototype.valueOf,VR=Object.prototype.toString,WR=Function.prototype.toString,XR=String.prototype.match,ky=String.prototype.slice,Ii=String.prototype.replace,YR=String.prototype.toUpperCase,p_=String.prototype.toLowerCase,nb=RegExp.prototype.test,m_=Array.prototype.concat,An=Array.prototype.join,QR=Array.prototype.slice,g_=Math.floor,Hm=typeof BigInt=="function"?BigInt.prototype.valueOf:null,cp=Object.getOwnPropertySymbols,Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ht=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Zo||"symbol")?Symbol.toStringTag:null,ib=Object.prototype.propertyIsEnumerable,y_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function v_(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||nb.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-g_(-t):g_(t);if(n!==t){var i=String(n),s=ky.call(e,i.length+1);return Ii.call(i,r,"$&_")+"."+Ii.call(Ii.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ii.call(e,r,"$&_")}var Wm=zR,__=Wm.custom,x_=ob(__)?__:null,qR=function t(e,r,n,i){var s=r||{};if(bi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(bi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=bi(s,"customInspect")?s.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(bi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(bi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return lb(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var h=String(e);return u?v_(e,h):h}if(typeof e=="bigint"){var c=String(e)+"n";return u?v_(e,c):c}var p=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof e=="object")return Xm(e)?"[Array]":"[Object]";var y=pP(s,n);if(typeof i>"u")i=[];else if(ab(i,e)>=0)return"[Circular]";function g(D,q,ue){if(q&&(i=QR.call(i),i.push(q)),ue){var pe={depth:s.depth};return bi(s,"quoteStyle")&&(pe.quoteStyle=s.quoteStyle),t(D,pe,n+1,i)}return t(D,s,n+1,i)}if(typeof e=="function"&&!w_(e)){var v=sP(e),x=rh(e,g);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(x.length>0?" { "+An.call(x,", ")+" }":"")}if(ob(e)){var T=Zo?Ii.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Vm.call(e);return typeof e=="object"&&!Zo?Ba(T):T}if(cP(e)){for(var E="<"+p_.call(String(e.nodeName)),w=e.attributes||[],b=0;b<w.length;b++)E+=" "+w[b].name+"="+sb(KR(w[b].value),"double",s);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+p_.call(String(e.nodeName))+">",E}if(Xm(e)){if(e.length===0)return"[]";var S=rh(e,g);return y&&!fP(S)?"["+Ym(S,y)+"]":"[ "+An.call(S,", ")+" ]"}if(JR(e)){var C=rh(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!ib.call(e,"cause")?"{ ["+String(e)+"] "+An.call(m_.call("[cause]: "+g(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+An.call(C,", ")+" }"}if(typeof e=="object"&&a){if(x_&&typeof e[x_]=="function"&&Wm)return Wm(e,{depth:p-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(oP(e)){var k=[];return c_&&c_.call(e,function(D,q){k.push(g(q,e,!0)+" => "+g(D,e))}),S_("Map",xc.call(e),k,y)}if(uP(e)){var L=[];return d_&&d_.call(e,function(D){L.push(g(D,e))}),S_("Set",wc.call(e),L,y)}if(aP(e))return dp("WeakMap");if(hP(e))return dp("WeakSet");if(lP(e))return dp("WeakRef");if(tP(e))return Ba(g(Number(e)));if(nP(e))return Ba(g(Hm.call(e)));if(rP(e))return Ba(HR.call(e));if(eP(e))return Ba(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Th)return"{ [object globalThis] }";if(!ZR(e)&&!w_(e)){var O=rh(e,g),N=y_?y_(e)===Object.prototype:e instanceof Object||e.constructor===Object,W=e instanceof Object?"":"null prototype",X=!N&&Ht&&Object(e)===e&&Ht in e?ky.call(Xi(e),8,-1):W?"Object":"",fe=N||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",K=fe+(X||W?"["+An.call(m_.call([],X||[],W||[]),": ")+"] ":"");return O.length===0?K+"{}":y?K+"{"+Ym(O,y)+"}":K+"{ "+An.call(O,", ")+" }"}return String(e)};function sb(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function KR(t){return Ii.call(String(t),/"/g,"&quot;")}function Xm(t){return Xi(t)==="[object Array]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function ZR(t){return Xi(t)==="[object Date]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function w_(t){return Xi(t)==="[object RegExp]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function JR(t){return Xi(t)==="[object Error]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function eP(t){return Xi(t)==="[object String]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function tP(t){return Xi(t)==="[object Number]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function rP(t){return Xi(t)==="[object Boolean]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function ob(t){if(Zo)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Vm)return!1;try{return Vm.call(t),!0}catch{}return!1}function nP(t){if(!t||typeof t!="object"||!Hm)return!1;try{return Hm.call(t),!0}catch{}return!1}var iP=Object.prototype.hasOwnProperty||function(t){return t in this};function bi(t,e){return iP.call(t,e)}function Xi(t){return VR.call(t)}function sP(t){if(t.name)return t.name;var e=XR.call(WR.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function ab(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function oP(t){if(!xc||!t||typeof t!="object")return!1;try{xc.call(t);try{wc.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function aP(t){if(!ul||!t||typeof t!="object")return!1;try{ul.call(t,ul);try{hl.call(t,hl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function lP(t){if(!f_||!t||typeof t!="object")return!1;try{return f_.call(t),!0}catch{}return!1}function uP(t){if(!wc||!t||typeof t!="object")return!1;try{wc.call(t);try{xc.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function hP(t){if(!hl||!t||typeof t!="object")return!1;try{hl.call(t,hl);try{ul.call(t,ul)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function cP(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function lb(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return lb(ky.call(t,0,e.maxStringLength),e)+n}var i=Ii.call(Ii.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,dP);return sb(i,"single",e)}function dP(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+YR.call(e.toString(16))}function Ba(t){return"Object("+t+")"}function dp(t){return t+" { ? }"}function S_(t,e,r,n){var i=n?Ym(r,n):An.call(r,", ");return t+" ("+e+") {"+i+"}"}function fP(t){for(var e=0;e<t.length;e++)if(ab(t[e],`
`)>=0)return!1;return!0}function pP(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=An.call(Array(t.indent+1)," ");else return null;return{base:r,prev:An.call(Array(e+1),r)}}function Ym(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+An.call(t,","+r)+`
`+e.prev}function rh(t,e){var r=Xm(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=bi(t,i)?e(t[i],t):""}var s=typeof cp=="function"?cp(t):[],a;if(Zo){a={};for(var u=0;u<s.length;u++)a["$"+s[u]]=s[u]}for(var h in t)bi(t,h)&&(r&&String(Number(h))===h&&h<t.length||Zo&&a["$"+h]instanceof Symbol||(nb.call(/[^\w$]/,h)?n.push(e(h,t)+": "+e(t[h],t)):n.push(h+": "+e(t[h],t))));if(typeof cp=="function")for(var c=0;c<s.length;c++)ib.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}var Ny=Us,sa=BR,mP=qR,gP=Ny("%TypeError%"),nh=Ny("%WeakMap%",!0),ih=Ny("%Map%",!0),yP=sa("WeakMap.prototype.get",!0),vP=sa("WeakMap.prototype.set",!0),_P=sa("WeakMap.prototype.has",!0),xP=sa("Map.prototype.get",!0),wP=sa("Map.prototype.set",!0),SP=sa("Map.prototype.has",!0),My=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},bP=function(t,e){var r=My(t,e);return r&&r.value},TP=function(t,e,r){var n=My(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},EP=function(t,e){return!!My(t,e)},AP=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new gP("Side channel does not contain "+mP(s))},get:function(s){if(nh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return yP(e,s)}else if(ih){if(r)return xP(r,s)}else if(n)return bP(n,s)},has:function(s){if(nh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return _P(e,s)}else if(ih){if(r)return SP(r,s)}else if(n)return EP(n,s);return!1},set:function(s,a){nh&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new nh),vP(e,s,a)):ih?(r||(r=new ih),wP(r,s,a)):(n||(n={key:{},next:null}),TP(n,s,a))}};return i},CP=String.prototype.replace,IP=/%20/g,fp={RFC1738:"RFC1738",RFC3986:"RFC3986"},Fy={default:fp.RFC3986,formatters:{RFC1738:function(t){return CP.call(t,IP,"+")},RFC3986:function(t){return String(t)}},RFC1738:fp.RFC1738,RFC3986:fp.RFC3986},RP=Fy,pp=Object.prototype.hasOwnProperty,_s=Array.isArray,xn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),PP=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(_s(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},ub=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},kP=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(_s(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!pp.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return _s(e)&&!_s(r)&&(i=ub(e,n)),_s(e)&&_s(r)?(r.forEach(function(s,a){if(pp.call(e,a)){var u=e[a];u&&typeof u=="object"&&s&&typeof s=="object"?e[a]=t(u,s,n):e.push(s)}else e[a]=s}),e):Object.keys(r).reduce(function(s,a){var u=r[a];return pp.call(s,a)?s[a]=t(s[a],u,n):s[a]=u,s},i)},NP=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},MP=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},FP=function(e,r,n,i,s){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var u="",h=0;h<a.length;++h){var c=a.charCodeAt(h);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===RP.RFC1738&&(c===40||c===41)){u+=a.charAt(h);continue}if(c<128){u=u+xn[c];continue}if(c<2048){u=u+(xn[192|c>>6]+xn[128|c&63]);continue}if(c<55296||c>=57344){u=u+(xn[224|c>>12]+xn[128|c>>6&63]+xn[128|c&63]);continue}h+=1,c=65536+((c&1023)<<10|a.charCodeAt(h)&1023),u+=xn[240|c>>18]+xn[128|c>>12&63]+xn[128|c>>6&63]+xn[128|c&63]}return u},OP=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],a=s.obj[s.prop],u=Object.keys(a),h=0;h<u.length;++h){var c=u[h],p=a[c];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:a,prop:c}),n.push(p))}return PP(r),e},LP=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},BP=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},DP=function(e,r){return[].concat(e,r)},UP=function(e,r){if(_s(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},hb={arrayToObject:ub,assign:NP,combine:DP,compact:OP,decode:MP,encode:FP,isBuffer:BP,isRegExp:LP,maybeMap:UP,merge:kP},cb=AP,Dh=hb,cl=Fy,zP=Object.prototype.hasOwnProperty,b_={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Wn=Array.isArray,GP=Array.prototype.push,db=function(t,e){GP.apply(t,Wn(e)?e:[e])},$P=Date.prototype.toISOString,T_=cl.default,Gt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Dh.encode,encodeValuesOnly:!1,format:T_,formatter:cl.formatters[T_],indices:!1,serializeDate:function(e){return $P.call(e)},skipNulls:!1,strictNullHandling:!1},jP=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},mp={},HP=function t(e,r,n,i,s,a,u,h,c,p,y,g,v,x,T,E){for(var w=e,b=E,S=0,C=!1;(b=b.get(mp))!==void 0&&!C;){var k=b.get(e);if(S+=1,typeof k<"u"){if(k===S)throw new RangeError("Cyclic object value");C=!0}typeof b.get(mp)>"u"&&(S=0)}if(typeof h=="function"?w=h(r,w):w instanceof Date?w=y(w):n==="comma"&&Wn(w)&&(w=Dh.maybeMap(w,function(pe){return pe instanceof Date?y(pe):pe})),w===null){if(s)return u&&!x?u(r,Gt.encoder,T,"key",g):r;w=""}if(jP(w)||Dh.isBuffer(w)){if(u){var L=x?r:u(r,Gt.encoder,T,"key",g);return[v(L)+"="+v(u(w,Gt.encoder,T,"value",g))]}return[v(r)+"="+v(String(w))]}var O=[];if(typeof w>"u")return O;var N;if(n==="comma"&&Wn(w))x&&u&&(w=Dh.maybeMap(w,u)),N=[{value:w.length>0?w.join(",")||null:void 0}];else if(Wn(h))N=h;else{var W=Object.keys(w);N=c?W.sort(c):W}for(var X=i&&Wn(w)&&w.length===1?r+"[]":r,fe=0;fe<N.length;++fe){var K=N[fe],D=typeof K=="object"&&typeof K.value<"u"?K.value:w[K];if(!(a&&D===null)){var q=Wn(w)?typeof n=="function"?n(X,K):X:X+(p?"."+K:"["+K+"]");E.set(e,S);var ue=cb();ue.set(mp,E),db(O,t(D,q,n,i,s,a,n==="comma"&&x&&Wn(w)?null:u,h,c,p,y,g,v,x,T,ue))}}return O},VP=function(e){if(!e)return Gt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Gt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=cl.default;if(typeof e.format<"u"){if(!zP.call(cl.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=cl.formatters[n],s=Gt.filter;return(typeof e.filter=="function"||Wn(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Gt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Gt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Gt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Gt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Gt.encode,encoder:typeof e.encoder=="function"?e.encoder:Gt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Gt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Gt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Gt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Gt.strictNullHandling}},WP=function(t,e){var r=t,n=VP(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Wn(n.filter)&&(s=n.filter,i=s);var a=[];if(typeof r!="object"||r===null)return"";var u;e&&e.arrayFormat in b_?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var h=b_[u];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=h==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var p=cb(),y=0;y<i.length;++y){var g=i[y];n.skipNulls&&r[g]===null||db(a,HP(r[g],g,h,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,p))}var v=a.join(n.delimiter),x=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),v.length>0?x+v:""},Jo=hb,Qm=Object.prototype.hasOwnProperty,XP=Array.isArray,bt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Jo.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},YP=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},fb=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},QP="utf8=%26%2310003%3B",qP="utf8=%E2%9C%93",KP=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,s),u=-1,h,c=r.charset;if(r.charsetSentinel)for(h=0;h<a.length;++h)a[h].indexOf("utf8=")===0&&(a[h]===qP?c="utf-8":a[h]===QP&&(c="iso-8859-1"),u=h,h=a.length);for(h=0;h<a.length;++h)if(h!==u){var p=a[h],y=p.indexOf("]="),g=y===-1?p.indexOf("="):y+1,v,x;g===-1?(v=r.decoder(p,bt.decoder,c,"key"),x=r.strictNullHandling?null:""):(v=r.decoder(p.slice(0,g),bt.decoder,c,"key"),x=Jo.maybeMap(fb(p.slice(g+1),r),function(T){return r.decoder(T,bt.decoder,c,"value")})),x&&r.interpretNumericEntities&&c==="iso-8859-1"&&(x=YP(x)),p.indexOf("[]=")>-1&&(x=XP(x)?[x]:x),Qm.call(n,v)?n[v]=Jo.combine(n[v],x):n[v]=x}return n},ZP=function(t,e,r,n){for(var i=n?e:fb(e,r),s=t.length-1;s>=0;--s){var a,u=t[s];if(u==="[]"&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,c=parseInt(h,10);!r.parseArrays&&h===""?a={0:i}:!isNaN(c)&&u!==h&&String(c)===h&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(a=[],a[c]=i):h!=="__proto__"&&(a[h]=i)}i=a}return i},JP=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,h=n.depth>0&&a.exec(s),c=h?s.slice(0,h.index):s,p=[];if(c){if(!n.plainObjects&&Qm.call(Object.prototype,c)&&!n.allowPrototypes)return;p.push(c)}for(var y=0;n.depth>0&&(h=u.exec(s))!==null&&y<n.depth;){if(y+=1,!n.plainObjects&&Qm.call(Object.prototype,h[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(h[1])}return h&&p.push("["+s.slice(h.index)+"]"),ZP(p,r,n,i)}},e2=function(e){if(!e)return bt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?bt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?bt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:bt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:bt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:bt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:bt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:bt.comma,decoder:typeof e.decoder=="function"?e.decoder:bt.decoder,delimiter:typeof e.delimiter=="string"||Jo.isRegExp(e.delimiter)?e.delimiter:bt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:bt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:bt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:bt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:bt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:bt.strictNullHandling}},t2=function(t,e){var r=e2(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?KP(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),a=0;a<s.length;++a){var u=s[a],h=JP(u,n[u],r,typeof t=="string");i=Jo.merge(i,h,r)}return r.allowSparse===!0?i:Jo.compact(i)},r2=WP,n2=t2,i2=Fy,s2={formats:i2,parse:n2,stringify:r2},o2=KI;function Jn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a2=/^([a-z0-9.+-]+:)/i,l2=/:[0-9]*$/,u2=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,h2=["<",">",'"',"`"," ","\r",`
`,"	"],c2=["{","}","|","\\","^","`"].concat(h2),qm=["'"].concat(c2),E_=["%","/","?",";","#"].concat(qm),A_=["/","?","#"],d2=255,C_=/^[+a-z0-9A-Z_-]{0,63}$/,f2=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p2={javascript:!0,"javascript:":!0},Km={javascript:!0,"javascript:":!0},$o={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Zm=s2;function m2(t,e,r){if(t&&typeof t=="object"&&t instanceof Jn)return t;var n=new Jn;return n.parse(t,e,r),n}Jn.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),a=/\\/g;s[0]=s[0].replace(a,"/"),t=s.join(i);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var h=u2.exec(u);if(h)return this.path=u,this.href=u,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=Zm.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=a2.exec(u);if(c){c=c[0];var p=c.toLowerCase();this.protocol=p,u=u.substr(c.length)}if(r||c||u.match(/^\/\/[^@/]+@[^@/]+/)){var y=u.substr(0,2)==="//";y&&!(c&&Km[c])&&(u=u.substr(2),this.slashes=!0)}if(!Km[c]&&(y||c&&!$o[c])){for(var g=-1,v=0;v<A_.length;v++){var x=u.indexOf(A_[v]);x!==-1&&(g===-1||x<g)&&(g=x)}var T,E;g===-1?E=u.lastIndexOf("@"):E=u.lastIndexOf("@",g),E!==-1&&(T=u.slice(0,E),u=u.slice(E+1),this.auth=decodeURIComponent(T)),g=-1;for(var v=0;v<E_.length;v++){var x=u.indexOf(E_[v]);x!==-1&&(g===-1||x<g)&&(g=x)}g===-1&&(g=u.length),this.host=u.slice(0,g),u=u.slice(g),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var b=this.hostname.split(/\./),v=0,S=b.length;v<S;v++){var C=b[v];if(C&&!C.match(C_)){for(var k="",L=0,O=C.length;L<O;L++)C.charCodeAt(L)>127?k+="x":k+=C[L];if(!k.match(C_)){var N=b.slice(0,v),W=b.slice(v+1),X=C.match(f2);X&&(N.push(X[1]),W.unshift(X[2])),W.length&&(u="/"+W.join(".")+u),this.hostname=N.join(".");break}}}this.hostname.length>d2?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=o2.toASCII(this.hostname));var fe=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+fe,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!p2[p])for(var v=0,S=qm.length;v<S;v++){var D=qm[v];if(u.indexOf(D)!==-1){var q=encodeURIComponent(D);q===D&&(q=escape(D)),u=u.split(D).join(q)}}var ue=u.indexOf("#");ue!==-1&&(this.hash=u.substr(ue),u=u.slice(0,ue));var pe=u.indexOf("?");if(pe!==-1?(this.search=u.substr(pe),this.query=u.substr(pe+1),e&&(this.query=Zm.parse(this.query)),u=u.slice(0,pe)):e&&(this.search="",this.query={}),u&&(this.pathname=u),$o[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var fe=this.pathname||"",he=this.search||"";this.path=fe+he}return this.href=this.format(),this};Jn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Zm.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||$o[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),a=a.replace("#","%23"),e+i+r+a+n};Jn.prototype.resolve=function(t){return this.resolveObject(m2(t,!1,!0)).format()};Jn.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Jn;e.parse(t,!1,!0),t=e}for(var r=new Jn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var h=a[u];h!=="protocol"&&(r[h]=t[h])}return $o[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!$o[t.protocol]){for(var c=Object.keys(t),p=0;p<c.length;p++){var y=c[p];r[y]=t[y]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Km[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),r.pathname=S.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",v=r.search||"";r.path=g+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var x=r.pathname&&r.pathname.charAt(0)==="/",T=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=T||x||r.host&&t.pathname,w=E,b=r.pathname&&r.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],C=r.protocol&&!$o[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),E=E&&(S[0]===""||b[0]==="")),T)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=S;else if(S.length)b||(b=[]),b.pop(),b=b.concat(S),r.search=t.search,r.query=t.query;else if(t.search!=null){if(C){r.host=b.shift(),r.hostname=r.host;var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.hostname=k.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var L=b.slice(-1)[0],O=(r.host||t.host||b.length>1)&&(L==="."||L==="..")||L==="",N=0,W=b.length;W>=0;W--)L=b[W],L==="."?b.splice(W,1):L===".."?(b.splice(W,1),N++):N&&(b.splice(W,1),N--);if(!E&&!w)for(;N--;N)b.unshift("..");E&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),O&&b.join("/").substr(-1)!=="/"&&b.push("");var X=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(C){r.hostname=X?"":b.length?b.shift():"",r.host=r.hostname;var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.hostname=k.shift(),r.host=r.hostname)}return E=E||r.host&&b.length,E&&!X&&b.unshift(""),b.length>0?r.pathname=b.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Jn.prototype.parseHost=function(){var t=this.host,e=l2.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const I_={};function Ne(t,e,r=3){if(I_[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),I_[e]=!0}function Yr(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Da(t){return t.split("?")[0].split("#")[0]}function g2(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y2(t,e,r){return t.replace(new RegExp(g2(e),"g"),r)}function v2(t,e){let r="",n=0,i=-1,s=0,a=-1;for(let u=0;u<=t.length;++u){if(u<t.length)a=t.charCodeAt(u);else{if(a===47)break;a=47}if(a===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const h=r.lastIndexOf("/");if(h!==r.length-1){h===-1?(r="",n=0):(r=r.slice(0,h),n=r.length-1-r.lastIndexOf("/")),i=u,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=u,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,u)}`:r=t.slice(i+1,u),n=u-i-1;i=u,s=0}else a===46&&s!==-1?++s:s=-1}return r}const Ur={toPosix(t){return y2(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Yr(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Yr(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Da(this.toPosix(e??ce.ADAPTER.getBaseUrl())),i=Da(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Ur.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Yr(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=v2(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Yr(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Yr(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Yr(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),a=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){n=u;break}}else i=!1;return n===-1?r?"/":this.isUrl(a)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Yr(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Yr(t),e&&Yr(e),t=Da(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let a=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const h=t.charCodeAt(s);if(h===47){if(!i){r=s+1;break}}else u===-1&&(i=!1,u=s+1),a>=0&&(h===e.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=u))}return r===n?n=u:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Yr(t),t=Da(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let a=t.length-1;a>=0;--a){const u=t.charCodeAt(a);if(u===47){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),u===46?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Yr(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Da(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,a=0,u=-1,h=!0,c=t.length-1,p=0;for(;c>=i;--c){if(r=t.charCodeAt(c),r===47){if(!h){a=c+1;break}continue}u===-1&&(h=!1,u=c+1),r===46?s===-1?s=c:p!==1&&(p=1):s!==-1&&(p=-1)}return s===-1||u===-1||p===0||p===1&&s===u-1&&s===a+1?u!==-1&&(a===0&&n?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(a,u)):(a===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(a,s),e.base=t.slice(a,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let gp;async function _2(){return gp??(gp=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Or.UNPACK;const e=await new Promise(a=>{const u=document.createElement("video");u.onloadeddata=()=>a(u),u.onerror=()=>a(null),u.autoplay=!1,u.crossOrigin="anonymous",u.preload="auto",u.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",u.load()});if(!e)return Or.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Or.PMA:Or.UNPACK})()),gp}let yp;function x2(){return typeof yp>"u"&&(yp=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ce.ADAPTER.getWebGLRenderingContext())return!1;const r=ce.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),yp}var w2={grad:.9,turn:360,rad:360/(2*Math.PI)},$n=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},At=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Br=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},pb=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},R_=function(t){return{r:Br(t.r,0,255),g:Br(t.g,0,255),b:Br(t.b,0,255),a:Br(t.a)}},vp=function(t){return{r:At(t.r),g:At(t.g),b:At(t.b),a:At(t.a,3)}},S2=/^#([0-9a-f]{3,8})$/i,sh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},mb=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),a=s-Math.min(e,r,n),u=a?s===e?(r-n)/a:s===r?2+(n-e)/a:4+(e-r)/a:0;return{h:60*(u<0?u+6:u),s:s?a/s*100:0,v:s/255*100,a:i}},gb=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),a=n*(1-r),u=n*(1-(e-s)*r),h=n*(1-(1-e+s)*r),c=s%6;return{r:255*[n,u,a,a,h,n][c],g:255*[h,n,n,u,a,a][c],b:255*[a,a,h,n,n,u][c],a:i}},P_=function(t){return{h:pb(t.h),s:Br(t.s,0,100),l:Br(t.l,0,100),a:Br(t.a)}},k_=function(t){return{h:At(t.h),s:At(t.s),l:At(t.l),a:At(t.a,3)}},N_=function(t){return gb((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},dl=function(t){return{h:(e=mb(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},b2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,T2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,E2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,A2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Jm={string:[[function(t){var e=S2.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?At(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?At(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=E2.exec(t)||A2.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:R_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=b2.exec(t)||T2.exec(t);if(!e)return null;var r,n,i=P_({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(w2[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return N_(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return $n(e)&&$n(r)&&$n(n)?R_({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!$n(e)||!$n(r)||!$n(n))return null;var a=P_({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return N_(a)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!$n(e)||!$n(r)||!$n(n))return null;var a=function(u){return{h:pb(u.h),s:Br(u.s,0,100),v:Br(u.v,0,100),a:Br(u.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return gb(a)},"hsv"]]},M_=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},C2=function(t){return typeof t=="string"?M_(t.trim(),Jm.string):typeof t=="object"&&t!==null?M_(t,Jm.object):[null,void 0]},_p=function(t,e){var r=dl(t);return{h:r.h,s:Br(r.s+100*e,0,100),l:r.l,a:r.a}},xp=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},F_=function(t,e){var r=dl(t);return{h:r.h,s:r.s,l:Br(r.l+100*e,0,100),a:r.a}},eg=function(){function t(e){this.parsed=C2(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return At(xp(this.rgba),2)},t.prototype.isDark=function(){return xp(this.rgba)<.5},t.prototype.isLight=function(){return xp(this.rgba)>=.5},t.prototype.toHex=function(){return e=vp(this.rgba),r=e.r,n=e.g,i=e.b,a=(s=e.a)<1?sh(At(255*s)):"","#"+sh(r)+sh(n)+sh(i)+a;var e,r,n,i,s,a},t.prototype.toRgb=function(){return vp(this.rgba)},t.prototype.toRgbString=function(){return e=vp(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return k_(dl(this.rgba))},t.prototype.toHslString=function(){return e=k_(dl(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=mb(this.rgba),{h:At(e.h),s:At(e.s),v:At(e.v),a:At(e.a,3)};var e},t.prototype.invert=function(){return wn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),wn(_p(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),wn(_p(this.rgba,-e))},t.prototype.grayscale=function(){return wn(_p(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),wn(F_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),wn(F_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?wn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):At(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=dl(this.rgba);return typeof e=="number"?wn({h:e,s:r.s,l:r.l,a:r.a}):At(r.h)},t.prototype.isEqual=function(e){return this.toHex()===wn(e).toHex()},t}(),wn=function(t){return t instanceof eg?t:new eg(t)},O_=[],I2=function(t){t.forEach(function(e){O_.indexOf(e)<0&&(e(eg,Jm),O_.push(e))})};function R2(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,h,c=n[this.toHex()];if(c)return c;if(a!=null&&a.closest){var p=this.toRgb(),y=1/0,g="black";if(!s.length)for(var v in r)s[v]=new t(r[v]).toRgb();for(var x in r){var T=(u=p,h=s[x],Math.pow(u.r-h.r,2)+Math.pow(u.g-h.g,2)+Math.pow(u.b-h.b,2));T<y&&(y=T,g=x)}return g}},e.string.push([function(a){var u=a.toLowerCase(),h=u==="transparent"?"#0000":r[u];return h?new t(h).toRgb():null},"name"])}I2([R2]);const co=class Uh{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Uh)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=Uh.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const a=e;r=(a>>16&255)/255,n=(a>>8&255)/255,i=(a&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const u=Uh.HEX_PATTERN.exec(e);u&&(e=`#${u[2]}`)}const a=wn(e);a.isValid()&&({r,g:n,b:i,a:s}=a.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};co.shared=new co,co.temp=new co,co.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let st=co;function P2(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ge.NORMAL_NPM]=ge.NORMAL,t[ge.ADD_NPM]=ge.ADD,t[ge.SCREEN_NPM]=ge.SCREEN,e[ge.NORMAL]=ge.NORMAL_NPM,e[ge.ADD]=ge.ADD_NPM,e[ge.SCREEN]=ge.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const yb=P2();function vb(t,e){return yb[e?1:0][t]}function k2(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function _b(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Sc(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function L_(t){return!(t&t-1)&&!!t}function B_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function fl(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Po(t){return t===0?0:t<0?-1:1}let N2=0;function Fl(){return++N2}const tg=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};tg.EMPTY=new tg(0,0,0,0);let D_=tg;const U_={},Sn=Object.create(null),vi=Object.create(null);function z_(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function G_(t,e,r,n,i){const s=4*e;for(let a=n,u=n*s+4*r;a<=i;++a,u+=s)if(t[u+3]!==0)return!1;return!0}function M2(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,a=0,u=e-1,h=r-1;for(;a<r&&z_(i,e,a);)++a;if(a===r)return D_.EMPTY;for(;z_(i,e,h);)--h;for(;G_(i,e,s,a,h);)++s;for(;G_(i,e,u,a,h);)--u;return++u,++h,new D_(s,a,u,h)}function F2(t){const e=M2(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function O2(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function ea(t,e=1){var n;const r=(n=ce.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var se=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(se||{});const rg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},$_=(t,e)=>rg(t).priority??e,me={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(rg).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(rg).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>$_(s,r)-$_(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class L2{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const B2=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function D2(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function U2(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=B2.replace(/%forloop%/gi,D2(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const wp=0,Sp=1,bp=2,Tp=3,Ep=4,Ap=5;class Ln{constructor(){this.data=0,this.blendMode=ge.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<wp)}set blend(e){!!(this.data&1<<wp)!==e&&(this.data^=1<<wp)}get offsets(){return!!(this.data&1<<Sp)}set offsets(e){!!(this.data&1<<Sp)!==e&&(this.data^=1<<Sp)}get culling(){return!!(this.data&1<<bp)}set culling(e){!!(this.data&1<<bp)!==e&&(this.data^=1<<bp)}get depthTest(){return!!(this.data&1<<Tp)}set depthTest(e){!!(this.data&1<<Tp)!==e&&(this.data^=1<<Tp)}get depthMask(){return!!(this.data&1<<Ap)}set depthMask(e){!!(this.data&1<<Ap)!==e&&(this.data^=1<<Ap)}get clockwiseFrontFace(){return!!(this.data&1<<Ep)}set clockwiseFrontFace(e){!!(this.data&1<<Ep)!==e&&(this.data^=1<<Ep)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ge.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ln;return e.depthTest=!1,e.blend=!0,e}}Ln.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const ng=[];function xb(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=ng.length-1;n>=0;--n){const i=ng[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class on{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,a,u,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:p}=this;this._aliasCount++;for(let y=0,g=p.length;y<g;y++)p[y][c](e,r,n,i,s,a,u,h);return p===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(on.prototype,{dispatch:{value:on.prototype.emit},run:{value:on.prototype.emit}});class Ol{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new on("setRealSize"),this.onUpdate=new on("update"),this.onError=new on("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class wb extends Ol{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Or.UNPACK);const s=r.realWidth,a=r.realHeight;return n.width===s&&n.height===a?i.texSubImage2D(r.target,0,0,0,s,a,r.format,n.type,this.data):(n.width=s,n.height=a,i.texImage2D(r.target,0,n.internalFormat,s,a,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const z2={scaleMode:Qn.NEAREST,alphaMode:Or.NPM},ig=class fo extends rd{constructor(e=null,r=null){super(),r=Object.assign({},fo.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:a,width:u,height:h,wrapMode:c,format:p,type:y,target:g,resolution:v,resourceOptions:x}=r;e&&!(e instanceof Ol)&&(e=xb(e,x),e.internal=!0),this.resolution=v||ce.RESOLUTION,this.width=Math.round((u||0)*this.resolution)/this.resolution,this.height=Math.round((h||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=c,this._scaleMode=a,this.format=p,this.type=y,this.target=g,this.alphaMode=n,this.uid=Fl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=u>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=L_(this.realWidth)&&L_(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete vi[this.cacheId],delete Sn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),fo.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${Fl()}`}s=e._pixiId}let a=vi[s];if(i&&n&&!a)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return a||(a=new fo(e,r),a.cacheId=s,fo.addToCache(a,s)),a}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new wb(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let a,u;return e instanceof Float32Array?(a=ee.RGBA,u=ve.FLOAT):e instanceof Int32Array?(a=ee.RGBA_INTEGER,u=ve.INT):e instanceof Uint32Array?(a=ee.RGBA_INTEGER,u=ve.UNSIGNED_INT):e instanceof Int16Array?(a=ee.RGBA_INTEGER,u=ve.SHORT):e instanceof Uint16Array?(a=ee.RGBA_INTEGER,u=ve.UNSIGNED_SHORT):e instanceof Int8Array?(a=ee.RGBA,u=ve.BYTE):(a=ee.RGBA,u=ve.UNSIGNED_BYTE),s.internal=!0,new fo(s,Object.assign({},z2,{type:u,format:a},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),vi[r]&&vi[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),vi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=vi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete vi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete vi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};ig.defaultOptions={mipmap:Gi.POW2,anisotropicLevel:0,scaleMode:Qn.LINEAR,wrapMode:Zn.CLAMP,alphaMode:Or.UNPACK,target:zo.TEXTURE_2D,format:ee.RGBA,type:ve.UNSIGNED_BYTE},ig._globalBatch=0;let Ae=ig;class sg{constructor(){this.texArray=null,this.blend=0,this.type=tn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let G2=0;class ut{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=G2++,this.disposeRunner=new on("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Nn.ELEMENT_ARRAY_BUFFER:Nn.ARRAY_BUFFER}get index(){return this.type===Nn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new ut(e)}}class bc{constructor(e,r=0,n=!1,i=ve.FLOAT,s,a,u,h=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=a,this.instance=u,this.divisor=h}destroy(){this.buffer=null}static from(e,r,n,i,s){return new bc(e,r,n,i,s)}}const $2={Float32Array,Uint32Array,Int32Array,Uint8Array};function j2(t,e){let r=0,n=0;const i={};for(let h=0;h<t.length;h++)n+=e[h],r+=t[h].length;const s=new ArrayBuffer(r*4);let a=null,u=0;for(let h=0;h<t.length;h++){const c=e[h],p=t[h],y=_b(p);i[y]||(i[y]=new $2[y](s)),a=i[y];for(let g=0;g<p.length;g++){const v=(g/c|0)*n+u,x=g%c;a[v+x]=p[g]}u+=c}return new Float32Array(s)}const j_={5126:4,5123:2,5121:1};let H2=0;const V2={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class $i{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=H2++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new on("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,a,u,h=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ut||(r instanceof Array&&(r=new Float32Array(r)),r=new ut(r));const c=e.split("|");if(c.length>1){for(let y=0;y<c.length;y++)this.addAttribute(c[y],r,n,i,s);return this}let p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[e]=new bc(p,n,i,s,a,u,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ut||(e instanceof Array&&(e=new Uint16Array(e)),e=new ut(e)),e.type=Nn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new ut;let i;for(i in this.attributes){const s=this.attributes[i],a=this.buffers[s.buffer];e.push(a.data),r.push(s.size*j_[s.type]/4),s.buffer=0}for(n.data=j2(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new $i;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new ut(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new bc(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Nn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new $i,n=[],i=[],s=[];let a;for(let u=0;u<e.length;u++){a=e[u];for(let h=0;h<a.buffers.length;h++)i[h]=i[h]||0,i[h]+=a.buffers[h].data.length,s[h]=0}for(let u=0;u<a.buffers.length;u++)n[u]=new V2[_b(a.buffers[u].data)](i[u]),r.buffers[u]=new ut(n[u]);for(let u=0;u<e.length;u++){a=e[u];for(let h=0;h<a.buffers.length;h++)n[h].set(a.buffers[h].data,s[h]),s[h]+=a.buffers[h].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=Nn.ELEMENT_ARRAY_BUFFER;let u=0,h=0,c=0,p=0;for(let y=0;y<a.buffers.length;y++)if(a.buffers[y]!==a.indexBuffer){p=y;break}for(const y in a.attributes){const g=a.attributes[y];(g.buffer|0)===p&&(h+=g.size*j_[g.type]/4)}for(let y=0;y<e.length;y++){const g=e[y].indexBuffer.data;for(let v=0;v<g.length;v++)r.indexBuffer.data[v+c]+=u;u+=e[y].buffers[p].data.length/h,c+=g.length}}return r}}class Sb extends $i{constructor(e=!1){super(),this._buffer=new ut(null,e,!1),this._indexBuffer=new ut(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ve.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ve.FLOAT).addAttribute("aColor",this._buffer,4,!0,ve.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ve.FLOAT).addIndex(this._indexBuffer)}}const Tc=Math.PI*2,W2=180/Math.PI,X2=Math.PI/180;var Nt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Nt||{});class He{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new He(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}He.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const oh=[new He,new He,new He,new He];class Ce{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Nt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ce(0,0,0,0)}clone(){return new Ce(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const N=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=N)return!1;const W=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>W}const n=this.left,i=this.right,s=this.top,a=this.bottom;if(i<=n||a<=s)return!1;const u=oh[0].set(e.left,e.top),h=oh[1].set(e.left,e.bottom),c=oh[2].set(e.right,e.top),p=oh[3].set(e.right,e.bottom);if(c.x<=u.x||h.y<=u.y)return!1;const y=Math.sign(r.a*r.d-r.b*r.c);if(y===0||(r.apply(u,u),r.apply(h,h),r.apply(c,c),r.apply(p,p),Math.max(u.x,h.x,c.x,p.x)<=n||Math.min(u.x,h.x,c.x,p.x)>=i||Math.max(u.y,h.y,c.y,p.y)<=s||Math.min(u.y,h.y,c.y,p.y)>=a))return!1;const g=y*(h.y-u.y),v=y*(u.x-h.x),x=g*n+v*s,T=g*i+v*s,E=g*n+v*a,w=g*i+v*a;if(Math.max(x,T,E,w)<=g*u.x+v*u.y||Math.min(x,T,E,w)>=g*p.x+v*p.y)return!1;const b=y*(u.y-c.y),S=y*(c.x-u.x),C=b*n+S*s,k=b*i+S*s,L=b*n+S*a,O=b*i+S*a;return!(Math.max(C,k,L,O)<=b*u.x+S*u.y||Math.min(C,k,L,O)>=b*p.x+S*p.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Ce.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class sd{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Nt.CIRC}clone(){return new sd(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Ce(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}sd.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class od{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Nt.ELIP}clone(){return new od(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ce(this.x-this.width,this.y-this.height,this.width,this.height)}}od.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Is{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Nt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Is(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,a=i-1;s<i;a=s++){const u=this.points[s*2],h=this.points[s*2+1],c=this.points[a*2],p=this.points[a*2+1];h>r!=p>r&&e<(c-u)*((r-h)/(p-h))+u&&(n=!n)}return n}}Is.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class ad{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Nt.RREC}clone(){return new ad(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const a=n*n;if(i*i+s*s<=a||(i=e-(this.x+this.width-n),i*i+s*s<=a)||(s=r-(this.y+this.height-n),i*i+s*s<=a)||(i=e-(this.x+n),i*i+s*s<=a))return!0}return!1}}ad.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class et{constructor(e=1,r=0,n=0,i=1,s=0,a=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,a){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=a,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new He;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new He;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,a,u,h,c){return this.a=Math.cos(u+c)*s,this.b=Math.sin(u+c)*s,this.c=-Math.sin(u-h)*a,this.d=Math.cos(u-h)*a,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,a=e.pivot,u=-Math.atan2(-i,s),h=Math.atan2(n,r),c=Math.abs(u+h);return c<1e-5||Math.abs(Tc-c)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=h),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(a.x*r+a.y*i),e.position.y=this.ty+(a.x*n+a.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,a=e*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-i*s)/a,this.ty=-(e*this.ty-r*s)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new et;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new et}static get TEMP_MATRIX(){return new et}}et.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ds=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],fs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ps=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ms=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],og=[],bb=[],ah=Math.sign;function Y2(){for(let t=0;t<16;t++){const e=[];og.push(e);for(let r=0;r<16;r++){const n=ah(ds[t]*ds[r]+ps[t]*fs[r]),i=ah(fs[t]*ds[r]+ms[t]*fs[r]),s=ah(ds[t]*ps[r]+ps[t]*ms[r]),a=ah(fs[t]*ps[r]+ms[t]*ms[r]);for(let u=0;u<16;u++)if(ds[u]===n&&fs[u]===i&&ps[u]===s&&ms[u]===a){e.push(u);break}}}for(let t=0;t<16;t++){const e=new et;e.set(ds[t],fs[t],ps[t],ms[t],0,0),bb.push(e)}}Y2();const qe={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>ds[t],uY:t=>fs[t],vX:t=>ps[t],vY:t=>ms[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>og[t][e],sub:(t,e)=>og[t][qe.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?qe.S:qe.N:Math.abs(e)*2<=Math.abs(t)?t>0?qe.E:qe.W:e>0?t>0?qe.SE:qe.SW:t>0?qe.NE:qe.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=bb[qe.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class In{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new In(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}In.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const ag=class{constructor(){this.worldTransform=new et,this.localTransform=new et,this.position=new In(this.onChange,this,0,0),this.scale=new In(this.onChange,this,1,1),this.pivot=new In(this.onChange,this,0,0),this.skew=new In(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};ag.IDENTITY=new ag;let ld=ag;ld.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Q2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,q2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function H_(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Cp(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function Tb(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Cp(2*e);case"bvec3":return Cp(3*e);case"bvec4":return Cp(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const jo=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],K2={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Z2={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function J2(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const a=t.uniforms[i];let u=!1;for(let h=0;h<jo.length;h++)if(jo[h].test(s,a)){r.push(jo[h].code(i,a)),u=!0;break}if(!u){const h=(s.size===1&&!s.isArray?K2:Z2)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const Eb={};let ao=Eb;function ek(){if(ao===Eb||ao!=null&&ao.isContextLost()){const t=ce.ADAPTER.createCanvas();let e;ce.PREFER_ENV>=Ds.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ao=e}return ao}let lh;function tk(){if(!lh){lh=Lr.MEDIUM;const t=ek();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(lh=e.precision?Lr.HIGH:Lr.MEDIUM)}}return lh}function V_(t,e){const r=t.getShaderSource(e).split(`
`).map((c,p)=>`${p}: ${c}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},a=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),u=[""];a.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=r.join(`
`);u[0]=h,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function rk(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||V_(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||V_(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const nk={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Ab(t){return nk[t]}let uh=null;const W_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Cb(t,e){if(!uh){const r=Object.keys(W_);uh={};for(let n=0;n<r.length;++n){const i=r[n];uh[t[i]]=W_[i]}}return uh[e]}function X_(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Lr.HIGH&&r!==Lr.HIGH&&(n=Lr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Lr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Ua;function ik(){if(typeof Ua=="boolean")return Ua;try{Ua=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ua=!1}return Ua}let sk=0;const hh={},lg=class po{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=sk++,this.vertexSrc=e||po.defaultVertexSrc,this.fragmentSrc=r||po.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),hh[n]?(hh[n]++,n+=`-${hh[n]}`):hh[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=X_(this.vertexSrc,po.defaultVertexPrecision,Lr.HIGH),this.fragmentSrc=X_(this.fragmentSrc,po.defaultFragmentPrecision,tk())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return q2}static get defaultFragmentSrc(){return Q2}static from(e,r,n){const i=e+r;let s=U_[i];return s||(U_[i]=s=new po(e,r,n)),s}};lg.defaultVertexPrecision=Lr.HIGH,lg.defaultFragmentPrecision=Io.apple.device?Lr.HIGH:Lr.MEDIUM;let qn=lg,ok=0;class an{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ok++,this.static=!!r,this.ubo=!!n,e instanceof ut?(this.buffer=e,this.buffer.type=Nn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ut(new Float32Array(1)),this.buffer.type=Nn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new an(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new an(e,r,n)}static uboFrom(e,r){return new an(e,r??!0,!0)}}class Mn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof an?this.uniformGroup=r:this.uniformGroup=new an(r):this.uniformGroup=new an({}),this.disposeRunner=new on("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=qn.from(e,r);return new Mn(i,n)}}class ak{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=an.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new qn(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new et,default:this.defaultGroupCache[e]};return new Mn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class ug{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function lk(){return!Io.apple.device}function uk(t){let e=!0;const r=ce.ADAPTER.getNavigator();if(Io.tablet||Io.phone){if(Io.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Io.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class ud{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var hk=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,ck=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Xa=class Qr extends ud{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=Sb,this.vertexSize=6,this.state=Ln.for2d(),this.size=Qr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??uk(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??lk(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ne("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return ck}static get defaultFragmentTemplate(){return hk}setShaderGenerator({vertex:e=Qr.defaultVertexSrc,fragment:r=Qr.defaultFragmentTemplate}={}){this.shaderGenerator=new ak(e,r)}contextChange(){const e=this.renderer.gl;ce.PREFER_ENV===Ds.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Qr.defaultMaxTextures),this.maxTextures=U2(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Qr,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new sg);for(;r.length<i;)r.push(new ug);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=Qr._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,a=this.renderer.textureGC.count;let u=++Ae._globalBatch,h=0,c=n[0],p=0;i.copyBoundTextures(s,r);for(let y=0;y<this._bufferSize;++y){const g=e[y];e[y]=null,g._batchEnabled!==u&&(c.count>=r&&(i.boundArray(c,s,u,r),this.buildDrawCalls(c,p,y),p=y,c=n[++h],++u),g._batchEnabled=u,g.touched=a,c.elements[c.count++]=g)}c.count>0&&(i.boundArray(c,s,u,r),this.buildDrawCalls(c,p,this._bufferSize),++h,++u);for(let y=0;y<s.length;y++)s[y]=null;Ae._globalBatch=u}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:a,vertexSize:u}=this,h=Qr._drawCallPool;let c=this._dcIndex,p=this._aIndex,y=this._iIndex,g=h[c];g.start=this._iIndex,g.texArray=e;for(let v=r;v<n;++v){const x=i[v],T=x._texture.baseTexture,E=yb[T.alphaMode?1:0][x.blendMode];i[v]=null,r<v&&g.blend!==E&&(g.size=y-g.start,r=v,g=h[++c],g.texArray=e,g.start=y),this.packInterleavedGeometry(x,s,a,p,y),p+=x.vertexData.length/2*u,y+=x.indices.length,g.blend=E}r<n&&(g.size=y-g.start,++c),this._dcIndex=c,this._aIndex=p,this._iIndex=y}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;Qr.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=Qr._drawCallPool;let s=null;for(let a=0;a<e;a++){const{texArray:u,type:h,size:c,start:p,blend:y}=i[a];s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=y,n.set(this.state),r.drawElements(h,c,r.UNSIGNED_SHORT,p*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Qr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Sc(Math.ceil(e/8)),n=B_(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new L2(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Sc(Math.ceil(e/12)),n=B_(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:a,float32View:u}=r,h=i/this.vertexSize,c=e.uvs,p=e.indices,y=e.vertexData,g=e._texture.baseTexture._batchLocation,v=Math.min(e.worldAlpha,1),x=st.shared.setValue(e._tintRGB).toPremultiplied(v,e._texture.baseTexture.alphaMode>0);for(let T=0;T<y.length;T+=2)u[i++]=y[T],u[i++]=y[T+1],u[i++]=c[T],u[i++]=c[T+1],a[i++]=x,u[i++]=g;for(let T=0;T<p.length;T++)n[s++]=h+p[T]}};Xa.defaultBatchSize=4096,Xa.extension={name:"batch",type:se.RendererPlugin},Xa._drawCallPool=[],Xa._textureArrayPool=[];let gs=Xa;me.add(gs);var dk=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,fk=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const hg=class Ya extends Mn{constructor(e,r,n){const i=qn.from(e||Ya.defaultVertexSrc,r||Ya.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Ya.defaultResolution,this.multisample=Ya.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ln}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return fk}static get defaultFragmentSrc(){return dk}};hg.defaultResolution=1,hg.defaultMultisample=dt.NONE;let ko=hg;class Ec{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new st(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Ec.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Ec.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"background"};me.add(Ec);class Ib{constructor(e){this.renderer=e,this.emptyRenderer=new ud(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:a,count:u}=e;let h=0;for(let c=0;c<u;c++){const p=s[c],y=p._batchLocation;if(y>=0&&y<i&&r[y]===p){a[c]=y;continue}for(;h<i;){const g=r[h];if(g&&g._batchEnabled===n&&g._batchLocation===h){h++;continue}a[c]=h,p._batchLocation=h,r[h]=p;break}}}destroy(){this.renderer=null}}Ib.extension={type:se.RendererSystem,name:"batch"};me.add(Ib);let Y_=0;class Ac{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Y_++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Y_++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ce.PREFER_ENV>=Ds.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Ac.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Ac.extension={type:se.RendererSystem,name:"context"};me.add(Ac);class cg{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new on("disposeFramebuffer"),this.multisample=dt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ae(null,{scaleMode:Qn.NEAREST,resolution:1,mipmap:Gi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ae(null,{scaleMode:Qn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Gi.OFF,format:ee.DEPTH_COMPONENT,type:ve.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Rb extends Ae{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=dt.NONE),super(null,e),this.mipmap=Gi.OFF,this.valid=!0,this._clear=new st([0,0,0,0]),this.framebuffer=new cg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ji extends Ol{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=O2(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,a=r.realWidth,u=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Or.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===a&&n.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=a,n.height=u,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class Pb extends ji{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;ji.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ce.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=a=>{n(a),this.onError.emit(a)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Or.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const a in s){const u=s[a];if(u!==n&&u.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Oy{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const a=e.width/2/i,u=e.height/2/s,h=e.x/i+a,c=e.y/s+u;n=qe.add(n,qe.NW),this.x0=h+a*qe.uX(n),this.y0=c+u*qe.uY(n),n=qe.add(n,2),this.x1=h+a*qe.uX(n),this.y1=c+u*qe.uY(n),n=qe.add(n,2),this.x2=h+a*qe.uX(n),this.y2=c+u*qe.uY(n),n=qe.add(n,2),this.x3=h+a*qe.uX(n),this.y3=c+u*qe.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Oy.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const Q_=new Oy;function ch(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ie extends rd{constructor(e,r,n,i,s,a,u){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Ce(0,0,1,1)),e instanceof ie&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=Q_,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new He(a.x,a.y):new He(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Sn[r.url]&&ie.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ie.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ie(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===Q_&&(this._uvs=new Oy),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ae){if(!e.cacheId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${Fl()}`,Ae.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${Fl()}`}s=e._pixiId}let a=Sn[s];if(i&&n&&!a)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!a&&!(e instanceof Ae)?(r.resolution||(r.resolution=ea(e)),a=new ie(new Ae(e,r)),a.baseTexture.cacheId=s,Ae.addToCache(a.baseTexture,s),ie.addToCache(a,s)):!a&&e instanceof Ae&&(a=new ie(e),ie.addToCache(a,s)),a}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ie.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ie(Ae.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ae(e,Object.assign({scaleMode:Ae.defaultOptions.scaleMode,resolution:ea(r)},i)),{resource:a}=s;a instanceof Pb&&(a.url=r);const u=new ie(s);return n||(n=r),Ae.addToCache(u.baseTexture,n),ie.addToCache(u,n),n!==r&&(Ae.addToCache(u.baseTexture,r),ie.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(h=>{u.baseTexture.once("loaded",()=>h(u))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Sn[r]&&Sn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Sn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Sn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Sn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Sn[e.textureCacheIds[r]]===e&&delete Sn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,a=r+i>this.baseTexture.width,u=n+s>this.baseTexture.height;if(a||u){const h=a&&u?"and":"or",c=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,p=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${h} ${p}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ie._EMPTY||(ie._EMPTY=new ie(new Ae),ch(ie._EMPTY),ch(ie._EMPTY.baseTexture)),ie._EMPTY}static get WHITE(){if(!ie._WHITE){const e=ce.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ie._WHITE=new ie(Ae.from(e)),ch(ie._WHITE),ch(ie._WHITE.baseTexture)}return ie._WHITE}}class hd extends ie{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,a=Math.round(r*i)/i;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,n&&this.baseTexture.resize(s,a),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new hd(new Rb(e))}}class kb{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=dt.NONE){const i=new Rb(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new hd(i)}getOptimalTexture(e,r,n=1,i=dt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Sc(e),r=Sc(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let a=this.texturePool[s].pop();return a||(a=this.createTexture(e,r,i)),a.filterPoolKey=s,a.setResolution(n),a}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||dt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}kb.SCREEN_KEY=-1;class pk extends $i{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Nb extends $i{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ut(this.vertices),this.uvBuffer=new ut(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class mk{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=dt.NONE,this.sourceFrame=new Ce,this.destinationFrame=new Ce,this.bindingSourceFrame=new Ce,this.bindingDestinationFrame=new Ce,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const dh=[new He,new He,new He,new He],Ip=new et;class Mb{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new kb,this.statePool=[],this.quad=new pk,this.quadUv=new Nb,this.tempRect=new Ce,this.activeState={},this.globalUniforms=new an({outputFrame:new Ce,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new mk,a=n.renderTexture;let u,h;if(a.current){const E=a.current;u=E.resolution,h=E.multisample}else u=n.resolution,h=n.multisample;let c=r[0].resolution||u,p=r[0].multisample??h,y=r[0].padding,g=r[0].autoFit,v=r[0].legacy??!0;for(let E=1;E<r.length;E++){const w=r[E];c=Math.min(c,w.resolution||u),p=Math.min(p,w.multisample??h),y=this.useMaxPadding?Math.max(y,w.padding):y+w.padding,g=g&&w.autoFit,v=v||(w.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),i.push(s),s.resolution=c,s.multisample=p,s.legacy=v,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(y);const x=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(Ip.copyFrom(n.projection.transform).invert(),x),g?(s.sourceFrame.fit(x),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(x)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,p),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const T=this.tempRect;T.x=0,T.y=0,T.width=s.sourceFrame.width,T.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(a.sourceFrame),s.bindingDestinationFrame.copyFrom(a.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,a.bind(s.renderTexture,s.sourceFrame,T),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,a=i.inputPixel,u=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],a[0]=Math.round(s[0]*r.resolution),a[1]=Math.round(s[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],u[0]=.5*a[2],u[1]=.5*a[3],u[2]=r.sourceFrame.width*s[2]-.5*a[2],u[3]=r.sourceFrame.height*s[3]-.5*a[3],r.legacy){const c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,h.renderTexture,cs.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,p=this.getOptimalFilterTexture(c.width,c.height,r.resolution);p.filterFrame=c.filterFrame;let y=0;for(y=0;y<n.length-1;++y){y===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(c.width,c.height,r.resolution),p.filterFrame=c.filterFrame),n[y].apply(this,c,p,cs.CLEAR,r);const g=c;c=p,p=g}n[y].apply(this,c,h.renderTexture,cs.BLEND,r),y>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=cs.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,n.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===cs.CLEAR||r===cs.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(tn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(tn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,a=e.set(i.width,0,0,i.height,n.x,n.y),u=r.worldTransform.copyTo(et.TEMP_MATRIX);return u.invert(),a.prepend(u),a.scale(1/s.width,1/s.height),a.translate(r.anchor.x,r.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=dt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||dt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=dh[0],i=dh[1],s=dh[2],a=dh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),a.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(a,a);const u=Math.min(n.x,i.x,s.x,a.x),h=Math.min(n.y,i.y,s.y,a.y),c=Math.max(n.x,i.x,s.x,a.x),p=Math.max(n.y,i.y,s.y,a.y);r.x=u,r.y=h,r.width=c-u,r.height=p-h}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a,b:u,c:h,d:c}=s;if((Math.abs(u)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(c)>1e-4))return}s=s?Ip.copyFrom(s):Ip.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}Mb.extension={type:se.RendererSystem,name:"filter"};me.add(Mb);class gk{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=dt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const yk=new Ce;class Fb{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new cg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ce,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ce.PREFER_ENV===Ds.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let a=0;a<e.colorTextures.length;a++){const u=e.colorTextures[a];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const a=r.width>>n,u=r.height>>n,h=a/r.width;this.setViewport(r.x*h,r.y*h,a,u)}else{const a=e.width>>n,u=e.height>>n;this.setViewport(0,0,a,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Dm.COLOR|Dm.DEPTH){const{gl:a}=this;a.clearColor(e,r,n,i),a.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new gk(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let a;this.renderer.context.webGLVersion===1?a=r.DEPTH_STENCIL:e.depth&&e.stencil?a=r.DEPTH24_STENCIL8:e.depth?a=r.DEPTH_COMPONENT24:a=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,a,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,a,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let a=0;a<s;a++){const u=i[a],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),a===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let a=s.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let h=0;h<a;h++){const c=s[h],p=c.parentTextureArray||c;this.renderer.texture.bind(p,0),h===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+h,c.target,p._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+h))}if(u.length>1&&n.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let h,c;this.renderer.context.webGLVersion===1?(h=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH_STENCIL):e.depth&&e.stencil?(h=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH24_STENCIL8):e.depth?(h=n.DEPTH_ATTACHMENT,c=n.DEPTH_COMPONENT24):(h=n.STENCIL_ATTACHMENT,c=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,c,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,h,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=dt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=dt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:a,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const h=i.glFramebuffers[u];if(!h)return;if(!e){if(!h.msaaBuffer)return;const p=i.colorTextures[0];if(!p)return;h.blitFramebuffer||(h.blitFramebuffer=new cg(i.width,i.height),h.blitFramebuffer.addColorTexture(0,p)),e=h.blitFramebuffer,e.colorTextures[0]!==p&&(e.colorTextures[0]=p,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=yk,r.width=i.width,r.height=i.height),n||(n=r);const c=r.width===n.width&&r.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,h.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,c?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,a=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a);let u,h;this.renderer.context.webGLVersion===1?(u=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH_STENCIL):e.depth?(u=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH24_STENCIL8):(u=s.STENCIL_ATTACHMENT,h=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,h,n,i):s.renderbufferStorage(s.RENDERBUFFER,h,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,u,s.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ce}destroy(){this.renderer=null}}Fb.extension={type:se.RendererSystem,name:"framebuffer"};me.add(Fb);const Rp={5126:4,5123:2,5121:1};class Ob{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ce.PREFER_ENV===Ds.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,a,u,h)=>n.drawElementsInstancedANGLE(i,s,a,u,h),e.drawArraysInstanced=(i,s,a,u)=>n.drawArraysInstancedANGLE(i,s,a,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const a=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const a in n)i[a]&&s.push(a,i[a].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,u=r.program;u.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,u);const h=this.getSignature(e,u),c=e.glVertexArrayObjects[this.CONTEXT_UID];let p=c[h];if(p)return c[u.id]=p,p;const y=e.buffers,g=e.attributes,v={},x={};for(const T in y)v[T]=0,x[T]=0;for(const T in g)!g[T].size&&u.attributeData[T]?g[T].size=u.attributeData[T].size:g[T].size||console.warn(`PIXI Geometry attribute '${T}' size cannot be determined (likely the bound shader does not have the attribute)`),v[g[T].buffer]+=g[T].size*Rp[g[T].type];for(const T in g){const E=g[T],w=E.size;E.stride===void 0&&(v[E.buffer]===w*Rp[E.type]?E.stride=0:E.stride=v[E.buffer]),E.start===void 0&&(E.start=x[E.buffer],x[E.buffer]+=w*Rp[E.type])}p=i.createVertexArray(),i.bindVertexArray(p);for(let T=0;T<y.length;T++){const E=y[T];a.bind(E),n&&E._glBuffers[s].refCount++}return this.activateVao(e,u),c[u.id]=p,c[h]=p,i.bindVertexArray(null),a.unbind(Nn.ARRAY_BUFFER),p}disposeGeometry(e,r){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,a=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!n){if(a)for(let h=0;h<s.length;h++){const c=s[h]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&a.dispose(s[h],r))}if(!r){for(const h in n)if(h[0]==="g"){const c=n[h];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,a=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const c in u){const p=u[c],y=a[p.buffer],g=y._glBuffers[i];if(r.attributeData[c]){h!==g&&(s.bind(y),h=g);const v=r.attributeData[c].location;if(n.enableVertexAttribArray(v),n.vertexAttribPointer(v,p.size,p.type||n.FLOAT,p.normalized,p.stride,p.start),p.instance)if(this.hasInstance)n.vertexAttribDivisor(v,p.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,a=this._activeGeometry;if(a.indexBuffer){const u=a.indexBuffer.data.BYTES_PER_ELEMENT,h=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(e,r||a.indexBuffer.data.length,h,(n||0)*u,i||1):s.drawElements(e,r||a.indexBuffer.data.length,h,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else a.instanced?s.drawArraysInstanced(e,n,r||a.getSize(),i||1):s.drawArrays(e,n,r||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Ob.extension={type:se.RendererSystem,name:"geometry"};me.add(Ob);const q_=new et;class Ly{constructor(e,r){this._texture=e,this.mapCoord=new et,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],a=e[i+1];r[i]=s*n.a+a*n.c+n.tx,r[i+1]=s*n.b+a*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(q_.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(q_));const a=r.baseTexture,u=this.uClampFrame,h=this.clampMargin/a.resolution,c=this.clampOffset;return u[0]=(r._frame.x+h+c)/a.width,u[1]=(r._frame.y+h+c)/a.height,u[2]=(r._frame.x+r._frame.width-h+c)/a.width,u[3]=(r._frame.y+r._frame.height-h+c)/a.height,this.uClampOffset[0]=c/a.realWidth,this.uClampOffset[1]=c/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0}}var vk=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,_k=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class xk extends ko{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||_k,r||vk,n),this.maskSprite=i,this.maskMatrix=new et}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,a=s._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new Ly(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class wk{constructor(e=null){this.type=mt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ko.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=mt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Lb{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new wk;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==mt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case mt.SCISSOR:this.renderer.scissor.push(n);break;case mt.STENCIL:this.renderer.stencil.push(n);break;case mt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case mt.COLOR:this.pushColorMask(n);break}n.type===mt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case mt.SCISSOR:this.renderer.scissor.pop(r);break;case mt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case mt.SPRITE:this.popSpriteMask(r);break;case mt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===mt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=mt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=mt.SCISSOR:e.type=mt.STENCIL:e.type=mt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new xk])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}Lb.extension={type:se.RendererSystem,name:"mask"};me.add(Lb);class Bb{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const K_=new et,Z_=[],Db=class zh extends Bb{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,a=n.getBounds(!0,Z_.pop()??new Ce);this.roundFrameToPixels(a,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&a.fit(r),e._scissorRectLocal=a}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||zh.isMatrixRotated(r.worldTransform)||zh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){zh.isMatrixRotated(s)||(s=s?K_.copyFrom(s):K_.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&Z_.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};Db.extension={type:se.RendererSystem,name:"scissor"};let Sk=Db;me.add(Sk);class Ub extends Bb{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Ub.extension={type:se.RendererSystem,name:"stencil"};me.add(Ub);class zb{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ne("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}zb.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"_plugin"};me.add(zb);class Gb{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new et,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,a=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=a*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-a-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}Gb.extension={type:se.RendererSystem,name:"projection"};me.add(Gb);const bk=new ld,J_=new Ce;class $b{constructor(e){this.renderer=e,this._tempMatrix=new et}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(J_))||e.getLocalBounds(J_,!0),a=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/a),s.height=Math.max(s.height,1/a),i.width=s.width,i.height=s.height,i.resolution=a,i.multisample??(i.multisample=this.renderer.multisample);const u=hd.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const h=e.transform;return e.transform=bk,this.renderer.render(e,{renderTexture:u,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=h,u}destroy(){}}$b.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"textureGenerator"};me.add($b);const os=new Ce,za=new Ce;class jb{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ce,this.destinationFrame=new Ce,this.viewportFrame=new Ce}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,a,u;e?(s=e.baseTexture,u=s.resolution,r||(os.width=e.frame.width,os.height=e.frame.height,r=os),n||(za.x=e.frame.x,za.y=e.frame.y,za.width=r.width,za.height=r.height,n=za),a=s.framebuffer):(u=i.resolution,r||(os.width=i._view.screen.width,os.height=i._view.screen.height,r=os),n||(n=os,n.width=r.width,n.height=r.height));const h=this.viewportFrame;h.x=n.x*u,h.y=n.y*u,h.width=n.width*u,h.height=n.height*u,e||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(a,h),this.renderer.projection.update(n,r,u,!a),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=st.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==a.width||s.height!==a.height;if(u){let{x:h,y:c,width:p,height:y}=this.viewportFrame;h=Math.round(h),c=Math.round(c),p=Math.round(p),y=Math.round(y),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,c,p,y)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}jb.extension={type:se.RendererSystem,name:"renderTexture"};me.add(jb);class Tk{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Ek(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const a=Cb(e,s.type),u={type:a,name:s.name,size:Ab(a),location:e.getAttribLocation(t,s.name)};r[s.name]=u}return r}function Ak(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),a=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),h=Cb(e,s.type);r[a]={name:a,index:i,type:h,size:s.size,isArray:u,value:Tb(h,s.size)}}return r}function Ck(t,e){var u;const r=H_(t,t.VERTEX_SHADER,e.vertexSrc),n=H_(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(u=e.extra)==null?void 0:u.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||rk(t,i,r,n),e.attributeData=Ek(i,t),e.uniformData=Ak(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((c,p)=>c>p?1:-1);for(let c=0;c<h.length;c++)e.attributeData[h[c]].location=c,t.bindAttribLocation(i,c,h[c]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const a={};for(const h in e.uniformData){const c=e.uniformData[h];a[h]={location:t.getUniformLocation(i,h),value:Tb(c.type,c.size)}}return new Tk(i,a)}function Ik(t,e,r,n,i){r.buffer.update(i)}const Rk={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Hb={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Pk(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const a=e[s];if(r=Hb[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){const u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function kk(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function Nk(t,e){if(!t.autoManage)return{size:0,syncFunc:Ik};const r=kk(t.uniforms,e),{uboElements:n,size:i}=Pk(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let a=0;a<n.length;a++){const u=n[a],h=t.uniforms[u.data.name],c=u.data.name;let p=!1;for(let y=0;y<jo.length;y++){const g=jo[y];if(g.codeUbo&&g.test(u.data,h)){s.push(`offset = ${u.offset/4};`,jo[y].codeUbo(u.data.name,h)),p=!0;break}}if(!p)if(u.data.size>1){const y=Ab(u.data.type),g=Math.max(Hb[u.data.type]/16,1),v=y/g,x=(4-v%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*g}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const y=Rk[u.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${u.offset/4};
                ${y};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let Mk=0;const fh={textureCount:0,uboCount:0};class Vb{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Mk++}systemCheck(){if(!ik())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(fh.textureCount=0,fh.uboCount=0,this.syncUniformGroup(e.uniformGroup,fh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=J2(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,fh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[a];if(u||(u=this._uboCache[a]=Nk(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(u.size/4);e.buffer.update(h)}return r.uniformGroups[e.id]=u.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const a in i)s.push(a),r[a]&&s.push(r[a].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=Ck(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Vb.extension={type:se.RendererSystem,name:"shader"};me.add(Vb);class Cc{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Cc.defaultOptions={hello:!1},Cc.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"startup"};me.add(Cc);function Fk(t,e=[]){return e[ge.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.ADD]=[t.ONE,t.ONE],e[ge.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.NONE]=[0,0],e[ge.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ge.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ge.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ge.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ge.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ge.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ge.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ge.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ge.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ge.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Ok=0,Lk=1,Bk=2,Dk=3,Uk=4,zk=5,Wb=class dg{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ge.NONE,this._blendEq=!1,this.map=[],this.map[Ok]=this.setBlend,this.map[Lk]=this.setOffset,this.map[Bk]=this.setCullFace,this.map[Dk]=this.setDepthTest,this.map[Uk]=this.setFrontFace,this.map[zk]=this.setDepthMask,this.checks=[],this.defaultState=new Ln,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=Fk(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(dg.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(dg.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};Wb.extension={type:se.RendererSystem,name:"state"};let Gk=Wb;me.add(Gk);class $k extends rd{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new on(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(a=>this._systemsHash[a]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Qa=class Gh{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Gh.defaultMaxIdle,this.checkCountMax=Gh.defaultCheckCountMax,this.mode=Gh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Ey.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Qa.defaultMode=Ey.AUTO,Qa.defaultMaxIdle=60*60,Qa.defaultCheckCountMax=60*10,Qa.extension={type:se.RendererSystem,name:"textureGC"};let ys=Qa;me.add(ys);class Pp{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ve.UNSIGNED_BYTE,this.internalFormat=ee.RGBA,this.samplerType=0}}function jk(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:te.FLOAT,[t.RGBA]:te.FLOAT,[t.ALPHA]:te.FLOAT,[t.LUMINANCE]:te.FLOAT,[t.LUMINANCE_ALPHA]:te.FLOAT,[t.R8]:te.FLOAT,[t.R8_SNORM]:te.FLOAT,[t.RG8]:te.FLOAT,[t.RG8_SNORM]:te.FLOAT,[t.RGB8]:te.FLOAT,[t.RGB8_SNORM]:te.FLOAT,[t.RGB565]:te.FLOAT,[t.RGBA4]:te.FLOAT,[t.RGB5_A1]:te.FLOAT,[t.RGBA8]:te.FLOAT,[t.RGBA8_SNORM]:te.FLOAT,[t.RGB10_A2]:te.FLOAT,[t.RGB10_A2UI]:te.FLOAT,[t.SRGB8]:te.FLOAT,[t.SRGB8_ALPHA8]:te.FLOAT,[t.R16F]:te.FLOAT,[t.RG16F]:te.FLOAT,[t.RGB16F]:te.FLOAT,[t.RGBA16F]:te.FLOAT,[t.R32F]:te.FLOAT,[t.RG32F]:te.FLOAT,[t.RGB32F]:te.FLOAT,[t.RGBA32F]:te.FLOAT,[t.R11F_G11F_B10F]:te.FLOAT,[t.RGB9_E5]:te.FLOAT,[t.R8I]:te.INT,[t.R8UI]:te.UINT,[t.R16I]:te.INT,[t.R16UI]:te.UINT,[t.R32I]:te.INT,[t.R32UI]:te.UINT,[t.RG8I]:te.INT,[t.RG8UI]:te.UINT,[t.RG16I]:te.INT,[t.RG16UI]:te.UINT,[t.RG32I]:te.INT,[t.RG32UI]:te.UINT,[t.RGB8I]:te.INT,[t.RGB8UI]:te.UINT,[t.RGB16I]:te.INT,[t.RGB16UI]:te.UINT,[t.RGB32I]:te.INT,[t.RGB32UI]:te.UINT,[t.RGBA8I]:te.INT,[t.RGBA8UI]:te.UINT,[t.RGBA16I]:te.INT,[t.RGBA16UI]:te.UINT,[t.RGBA32I]:te.INT,[t.RGBA32UI]:te.UINT,[t.DEPTH_COMPONENT16]:te.FLOAT,[t.DEPTH_COMPONENT24]:te.FLOAT,[t.DEPTH_COMPONENT32F]:te.FLOAT,[t.DEPTH_STENCIL]:te.FLOAT,[t.DEPTH24_STENCIL8]:te.FLOAT,[t.DEPTH32F_STENCIL8]:te.FLOAT}:e={[t.RGB]:te.FLOAT,[t.RGBA]:te.FLOAT,[t.ALPHA]:te.FLOAT,[t.LUMINANCE]:te.FLOAT,[t.LUMINANCE_ALPHA]:te.FLOAT,[t.DEPTH_STENCIL]:te.FLOAT},e}function Hk(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ve.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA8,[ee.RGB]:t.RGB8,[ee.RG]:t.RG8,[ee.RED]:t.R8,[ee.RGBA_INTEGER]:t.RGBA8UI,[ee.RGB_INTEGER]:t.RGB8UI,[ee.RG_INTEGER]:t.RG8UI,[ee.RED_INTEGER]:t.R8UI,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ve.BYTE]:{[ee.RGBA]:t.RGBA8_SNORM,[ee.RGB]:t.RGB8_SNORM,[ee.RG]:t.RG8_SNORM,[ee.RED]:t.R8_SNORM,[ee.RGBA_INTEGER]:t.RGBA8I,[ee.RGB_INTEGER]:t.RGB8I,[ee.RG_INTEGER]:t.RG8I,[ee.RED_INTEGER]:t.R8I},[ve.UNSIGNED_SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16UI,[ee.RGB_INTEGER]:t.RGB16UI,[ee.RG_INTEGER]:t.RG16UI,[ee.RED_INTEGER]:t.R16UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ve.SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16I,[ee.RGB_INTEGER]:t.RGB16I,[ee.RG_INTEGER]:t.RG16I,[ee.RED_INTEGER]:t.R16I},[ve.UNSIGNED_INT]:{[ee.RGBA_INTEGER]:t.RGBA32UI,[ee.RGB_INTEGER]:t.RGB32UI,[ee.RG_INTEGER]:t.RG32UI,[ee.RED_INTEGER]:t.R32UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ve.INT]:{[ee.RGBA_INTEGER]:t.RGBA32I,[ee.RGB_INTEGER]:t.RGB32I,[ee.RG_INTEGER]:t.RG32I,[ee.RED_INTEGER]:t.R32I},[ve.FLOAT]:{[ee.RGBA]:t.RGBA32F,[ee.RGB]:t.RGB32F,[ee.RG]:t.RG32F,[ee.RED]:t.R32F,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ve.HALF_FLOAT]:{[ee.RGBA]:t.RGBA16F,[ee.RGB]:t.RGB16F,[ee.RG]:t.RG16F,[ee.RED]:t.R16F},[ve.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB565},[ve.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA4},[ve.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGB5_A1},[ve.UNSIGNED_INT_2_10_10_10_REV]:{[ee.RGBA]:t.RGB10_A2,[ee.RGBA_INTEGER]:t.RGB10_A2UI},[ve.UNSIGNED_INT_10F_11F_11F_REV]:{[ee.RGB]:t.R11F_G11F_B10F},[ve.UNSIGNED_INT_5_9_9_9_REV]:{[ee.RGB]:t.RGB9_E5},[ve.UNSIGNED_INT_24_8]:{[ee.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ve.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ee.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ve.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA,[ee.RGB]:t.RGB,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ve.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB},[ve.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA},[ve.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGBA}},e}class Xb{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ae,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Hk(e),this.samplerTypes=jk(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Pp(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Pp(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const a=r[s];a&&a._glTextures[i].samplerType!==te.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(e){const r=new Pp(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??te.FLOAT,this.webGLVersion===2&&e.type===ve.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==te.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,a=e.realHeight,u=n.gl;(r.width!==s||r.height!==a||r.dirtyId<0)&&(r.width=s,r.height=a,u.texImage2D(e.target,0,r.internalFormat,s,a,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&fl(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Gi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Zn.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Gi.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Qn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Qn.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Qn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Qn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}Xb.extension={type:se.RendererSystem,name:"texture"};me.add(Xb);class Yb{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let a=0;a<e.buffers.length;a++){const u=e.buffers[a];u&&(n.buffer.update(u),u._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,a,u._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let a=0;a<e.buffers.length;a++){const u=e.buffers[a];if(!u)continue;const h=u._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&s.dispose(u,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Yb.extension={type:se.RendererSystem,name:"transformFeedback"};me.add(Yb);class Ic{constructor(e){this.renderer=e}init(e){this.screen=new Ce(0,0,e.width,e.height),this.element=e.view||ce.ADAPTER.createCanvas(),this.resolution=e.resolution||ce.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Ic.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Ic.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"_view"};me.add(Ic);ce.PREFER_ENV=Ds.WEBGL2;ce.STRICT_TEXTURE_CACHE=!1;ce.RENDER_OPTIONS={...Ac.defaultOptions,...Ec.defaultOptions,...Ic.defaultOptions,...Cc.defaultOptions};Object.defineProperties(ce,{WRAP_MODE:{get(){return Ae.defaultOptions.wrapMode},set(t){Ne("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ae.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ae.defaultOptions.scaleMode},set(t){Ne("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ae.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ae.defaultOptions.mipmap},set(t){Ne("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ae.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ae.defaultOptions.anisotropicLevel},set(t){Ne("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ae.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ne("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ko.defaultResolution},set(t){ko.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ne("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ko.defaultMultisample},set(t){ko.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return gs.defaultMaxTextures},set(t){Ne("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),gs.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return gs.defaultBatchSize},set(t){Ne("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),gs.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return gs.canUploadSameBuffer},set(t){Ne("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),gs.canUploadSameBuffer=t}},GC_MODE:{get(){return ys.defaultMode},set(t){Ne("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),ys.defaultMode=t}},GC_MAX_IDLE:{get(){return ys.defaultMaxIdle},set(t){Ne("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),ys.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return ys.defaultCheckCountMax},set(t){Ne("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),ys.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return qn.defaultVertexPrecision},set(t){Ne("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),qn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return qn.defaultFragmentPrecision},set(t){Ne("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),qn.defaultFragmentPrecision=t}}});var Ll=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Ll||{});class kp{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Qb=class cr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new kp(null,null,1/0),this.deltaMS=1/cr.targetFPMS,this.elapsedMS=1/cr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Ll.NORMAL){return this._addListener(new kp(e,r,n))}addOnce(e,r,n=Ll.NORMAL){return this._addListener(new kp(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*cr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,cr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!cr._shared){const e=cr._shared=new cr;e.autoStart=!0,e._protected=!0}return cr._shared}static get system(){if(!cr._system){const e=cr._system=new cr;e.autoStart=!0,e._protected=!0}return cr._system}};Qb.targetFPMS=.06;let pr=Qb;Object.defineProperties(ce,{TARGET_FPMS:{get(){return pr.targetFPMS},set(t){Ne("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),pr.targetFPMS=t}}});class qb{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Ll.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?pr.shared:new pr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}qb.extension=se.Application;me.add(qb);const Kb=[];me.handleByList(se.Renderer,Kb);function Vk(t){for(const e of Kb)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}class Zb{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=dt.HIGH?this.multisample=dt.HIGH:r>=dt.MEDIUM?this.multisample=dt.MEDIUM:r>=dt.LOW?this.multisample=dt.LOW:this.multisample=dt.NONE}destroy(){}}Zb.extension={type:se.RendererSystem,name:"_multisample"};me.add(Zb);class Wk{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Jb{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const a=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,a.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new Wk(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}Jb.extension={type:se.RendererSystem,name:"buffer"};me.add(Jb);class eT{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,a,u;if(r&&(i=r.renderTexture,s=r.clear,a=r.transform,u=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=a,!n.context.isLost){if(i||(this.lastObjectRendered=e),!u){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}eT.extension={type:se.RendererSystem,name:"objectRenderer"};me.add(eT);const $h=class fg extends $k{constructor(e){super(),this.type=VS.WEBGL,e=Object.assign({},ce.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new an({projectionMatrix:new et},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:fg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ne("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=fg.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:x2()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ne("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ne("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ne("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ne("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ne("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ne("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ne("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ne("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};$h.extension={type:se.Renderer,priority:1},$h.__plugins={},$h.__systems={};let By=$h;me.handleByMap(se.RendererPlugin,By.__plugins);me.handleByMap(se.RendererSystem,By.__systems);me.add(By);class tT extends Ol{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const a=new Ae;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Ol?this.addResourceAt(e[n],n):this.addResourceAt(xb(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class Xk extends tT{constructor(e,r){const{width:n,height:i}=r||{};let s,a;Array.isArray(e)?(s=e,a=e.length):a=e,super(a,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=zo.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:a}=this,{gl:u}=e;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let h=0;h<i;h++){const c=a[h];s[h]<c.dirtyId&&(s[h]=c.dirtyId,c.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,h,c.resource.width,c.resource.height,1,r.format,n.type,c.resource.source))}return!0}}class Yk extends ji{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const rT=class qa extends tT{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:a}=r||{};if(e&&e.length!==qa.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let u=0;u<qa.SIDES;u++)this.items[u].target=zo.TEXTURE_CUBE_MAP_POSITIVE_X+u;this.linkBaseTexture=a!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=zo.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=zo.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<qa.SIDES;s++){const a=this.items[s];(i[s]<a.dirtyId||n.dirtyId<r.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(e,a,n),i[s]=a.dirtyId):i[s]<-1&&(e.gl.texImage2D(a.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===qa.SIDES}};rT.SIDES=6;let Qk=rT;class No extends ji{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=No.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ce.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Or.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return No._EMPTY=No._EMPTY??ce.ADAPTER.createCanvas(0,0),No._EMPTY}}const pg=class jh extends ji{constructor(e,r){r=r||{},super(ce.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},jh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;ji.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const a=this.source;a.width=i,a.height=s,a._pixiId=`canvas_${Fl()}`,a.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=jh.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&jh.SVG_XML.test(e)}};pg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,pg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let mg=pg;const gg=class yg extends ji{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];ji.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const a=document.createElement("source");let{src:u,mime:h}=e[s];if(u=u||e[s],u.startsWith("data:"))h=u.slice(5,u.indexOf(";"));else if(!u.startsWith("blob:")){const c=u.split("?").shift().toLowerCase(),p=c.slice(c.lastIndexOf(".")+1);h=h||yg.MIME_TYPES[p]||`video/${p}`}a.src=u,h&&(a.type=h),n.appendChild(a)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=pr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(pr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(pr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(pr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||yg.TYPES.includes(r)}};gg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],gg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let nT=gg;ng.push(No,Pb,Yk,nT,mg,wb,Qk,Xk);class Rc{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ce.EMPTY:(e=e||new Ce(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:a,tx:u,ty:h}=e,c=n*r.x+s*r.y+u,p=i*r.x+a*r.y+h;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,p),this.maxY=Math.max(this.maxY,p)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,a=e[0],u=e[1];r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[2],u=e[3],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[4],u=e[5],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,a=e[6],u=e[7],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,s=u>s?u:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const a=e.a,u=e.b,h=e.c,c=e.d,p=e.tx,y=e.ty;let g=this.minX,v=this.minY,x=this.maxX,T=this.maxY,E=a*r+h*n+p,w=u*r+c*n+y;g=E<g?E:g,v=w<v?w:v,x=E>x?E:x,T=w>T?w:T,E=a*i+h*n+p,w=u*i+c*n+y,g=E<g?E:g,v=w<v?w:v,x=E>x?E:x,T=w>T?w:T,E=a*r+h*s+p,w=u*r+c*s+y,g=E<g?E:g,v=w<v?w:v,x=E>x?E:x,T=w>T?w:T,E=a*i+h*s+p,w=u*i+c*s+y,g=E<g?E:g,v=w<v?w:v,x=E>x?E:x,T=w>T?w:T,this.minX=g,this.minY=v,this.maxX=x,this.maxY=T}addVertexData(e,r,n){let i=this.minX,s=this.minY,a=this.maxX,u=this.maxY;for(let h=r;h<n;h+=2){const c=e[h],p=e[h+1];i=c<i?c:i,s=p<s?p:s,a=c>a?c:a,u=p>u?p:u}this.minX=i,this.minY=s,this.maxX=a,this.maxY=u}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,a=s){const u=e.a,h=e.b,c=e.c,p=e.d,y=e.tx,g=e.ty;let v=this.minX,x=this.minY,T=this.maxX,E=this.maxY;for(let w=n;w<i;w+=2){const b=r[w],S=r[w+1],C=u*b+c*S+y,k=p*S+h*b+g;v=Math.min(v,C-s),T=Math.max(T,C+s),x=Math.min(x,k-a),E=Math.max(E,k+a)}this.minX=v,this.minY=x,this.maxX=T,this.maxY=E}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,a=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=a){const u=this.minX,h=this.minY,c=this.maxX,p=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>c?s:c,this.maxY=a>p?a:p}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,a=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=a){const u=this.minX,h=this.minY,c=this.maxX,p=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>c?s:c,this.maxY=a>p?a:p}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,a){e-=s,r-=a,n+=s,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Os extends rd{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new ld,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Rc,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Os.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Ce),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Rc);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,a}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,a=0,u=0,h=0,c=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=a,this.skew.y=u,this.pivot.x=h,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new qk),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*W2}set angle(e){this.transform.rotation=e*X2}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class qk extends Os{constructor(){super(...arguments),this.sortDirty=null}}Os.prototype.displayObjectUpdateTransform=Os.prototype.updateTransform;const Kk=new et;function Zk(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const iT=class vg extends Os{constructor(){super(),this.children=[],this.sortableChildren=vg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);fl(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,fl(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,fl(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let a;if(s>0&&s<=i){a=this.children.splice(n,s);for(let u=0;u<a.length;++u)a[u].parent=null,a[u].transform&&(a[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let u=0;u<a.length;++u)a[u].emit("removed",this),this.emit("childRemoved",a[u],this,u);return a}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Zk),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const a=this.children[i];a.visible&&a.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==vg.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=Kk.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let a=0,u=this.children.length;a<u;++a){const h=this.children[a],c=h.cullable;h.cullable=c||!this.cullArea,h.render(e),h.cullable=c}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,a,u;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let h=0;h<r.length;h++)r[h].enabled&&this._enabledFilters.push(r[h])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==mt.NONE));if(i&&e.batch.flush(),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let h=0,c=this.children.length;h<c;++h)this.children[h].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((u=this._enabledFilters)!=null&&u.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};iT.defaultSortableChildren=!1;let vr=iT;vr.prototype.containerUpdateTransform=vr.prototype.updateTransform;Object.defineProperties(ce,{SORTABLE_CHILDREN:{get(){return vr.defaultSortableChildren},set(t){Ne("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),vr.defaultSortableChildren=t}}});var cd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(cd||{});const Ga=new He,Jk=new Uint16Array([0,1,2,0,2,3]);class zs extends vr{constructor(e){super(),this._anchor=new In(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new st(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ge.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ie.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Jk,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ce.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Po(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Po(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,a=r.d,u=r.tx,h=r.ty,c=this.vertexData,p=e.trim,y=e.orig,g=this._anchor;let v=0,x=0,T=0,E=0;if(p?(x=p.x-g._x*y.width,v=x+p.width,E=p.y-g._y*y.height,T=E+p.height):(x=-g._x*y.width,v=x+y.width,E=-g._y*y.height,T=E+y.height),c[0]=n*x+s*E+u,c[1]=a*E+i*x+h,c[2]=n*v+s*E+u,c[3]=a*E+i*v+h,c[4]=n*v+s*T+u,c[5]=a*T+i*v+h,c[6]=n*x+s*T+u,c[7]=a*T+i*x+h,this._roundPixels){const w=ce.RESOLUTION;for(let b=0;b<c.length;++b)c[b]=Math.round(c[b]*w)/w}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,a=s.a,u=s.b,h=s.c,c=s.d,p=s.tx,y=s.ty,g=-i._x*n.width,v=g+n.width,x=-i._y*n.height,T=x+n.height;if(r[0]=a*g+h*x+p,r[1]=c*x+u*g+y,r[2]=a*v+h*x+p,r[3]=c*x+u*v+y,r[4]=a*v+h*T+p,r[5]=c*T+u*v+y,r[6]=a*g+h*T+p,r[7]=c*T+u*g+y,this._roundPixels){const E=ce.RESOLUTION;for(let w=0;w<r.length;++w)r[w]=Math.round(r[w]*E)/E}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Rc),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ga);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Ga.x>=i&&Ga.x<i+r&&(s=-n*this.anchor.y,Ga.y>=s&&Ga.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ie?e:ie.from(e,r);return new zs(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Po(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Po(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ie.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const ph={willReadFrequently:!0},bn=class le{static get experimentalLetterSpacingSupported(){let e=le._experimentalLetterSpacingSupported;if(e!==void 0){const r=ce.ADAPTER.getCanvasRenderingContext2D().prototype;e=le._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,a,u,h,c){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=h,this.fontProperties=c}static measureText(e,r,n,i=le._canvas){n=n??r.wordWrap;const s=r.toFontString(),a=le.measureFont(s);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);const u=i.getContext("2d",ph);u.font=s;const h=(n?le.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),c=new Array(h.length);let p=0;for(let x=0;x<h.length;x++){const T=le._measureText(h[x],r.letterSpacing,u);c[x]=T,p=Math.max(p,T)}let y=p+r.strokeThickness;r.dropShadow&&(y+=r.dropShadowDistance);const g=r.lineHeight||a.fontSize+r.strokeThickness;let v=Math.max(g,a.fontSize+r.strokeThickness*2)+r.leading+(h.length-1)*(g+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new le(e,r,y,v,h,c,g+r.leading,p,a)}static _measureText(e,r,n){let i=!1;le.experimentalLetterSpacingSupported&&(le.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(le.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=le._canvas){const i=n.getContext("2d",ph);let s=0,a="",u="";const h=Object.create(null),{letterSpacing:c,whiteSpace:p}=r,y=le.collapseSpaces(p),g=le.collapseNewlines(p);let v=!y;const x=r.wordWrapWidth+c,T=le.tokenize(e);for(let E=0;E<T.length;E++){let w=T[E];if(le.isNewline(w)){if(!g){u+=le.addLine(a),v=!y,a="",s=0;continue}w=" "}if(y){const S=le.isBreakingSpace(w),C=le.isBreakingSpace(a[a.length-1]);if(S&&C)continue}const b=le.getFromCache(w,c,h,i);if(b>x)if(a!==""&&(u+=le.addLine(a),a="",s=0),le.canBreakWords(w,r.breakWords)){const S=le.wordWrapSplit(w);for(let C=0;C<S.length;C++){let k=S[C],L=k,O=1;for(;S[C+O];){const W=S[C+O];if(!le.canBreakChars(L,W,w,C,r.breakWords))k+=W;else break;L=W,O++}C+=O-1;const N=le.getFromCache(k,c,h,i);N+s>x&&(u+=le.addLine(a),v=!1,a="",s=0),a+=k,s+=N}}else{a.length>0&&(u+=le.addLine(a),a="",s=0);const S=E===T.length-1;u+=le.addLine(w,!S),v=!1,a="",s=0}else b+s>x&&(v=!1,u+=le.addLine(a),a="",s=0),(a.length>0||!le.isBreakingSpace(w)||v)&&(a+=w,s+=b)}return u+=le.addLine(a,!1),u}static addLine(e,r=!0){return e=le.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=le._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!le.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:le._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:le._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],a=e[i+1];if(le.isBreakingSpace(s,a)||le.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return le.graphemeSegmenter(e)}static measureFont(e){if(le._fonts[e])return le._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=le._canvas,i=le._context;i.font=e;const s=le.METRICS_STRING+le.BASELINE_SYMBOL,a=Math.ceil(i.measureText(s).width);let u=Math.ceil(i.measureText(le.BASELINE_SYMBOL).width);const h=Math.ceil(le.HEIGHT_MULTIPLIER*u);if(u=u*le.BASELINE_MULTIPLIER|0,a===0||h===0)return le._fonts[e]=r,r;n.width=a,n.height=h,i.fillStyle="#f00",i.fillRect(0,0,a,h),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,u);const c=i.getImageData(0,0,a,h).data,p=c.length,y=a*4;let g=0,v=0,x=!1;for(g=0;g<u;++g){for(let T=0;T<y;T+=4)if(c[v+T]!==255){x=!0;break}if(!x)v+=y;else break}for(r.ascent=u-g,v=p-y,x=!1,g=h;g>u;--g){for(let T=0;T<y;T+=4)if(c[v+T]!==255){x=!0;break}if(!x)v-=y;else break}return r.descent=g-u,r.fontSize=r.ascent+r.descent,le._fonts[e]=r,r}static clearMetrics(e=""){e?delete le._fonts[e]:le._fonts={}}static get _canvas(){var e;if(!le.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",ph))!=null&&e.measureText)return le.__canvas=n,n;r=ce.ADAPTER.createCanvas()}catch{r=ce.ADAPTER.createCanvas()}r.width=r.height=10,le.__canvas=r}return le.__canvas}static get _context(){return le.__context||(le.__context=le._canvas.getContext("2d",ph)),le.__context}};bn.METRICS_STRING="|ÉqÅ",bn.BASELINE_SYMBOL="M",bn.BASELINE_MULTIPLIER=1.4,bn.HEIGHT_MULTIPLIER=2,bn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),bn.experimentalLetterSpacing=!1,bn._fonts={},bn._newlines=[10,13],bn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let vs=bn;const eN=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],sT=class Ka{constructor(e){this.styleID=0,this.reset(),Mp(this,e,e)}clone(){const e={};return Mp(e,this,Ka.defaultStyle),new Ka(e)}reset(){Mp(this,Ka.defaultStyle,Ka.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=Np(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=Np(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){tN(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=Np(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!eN.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};sT.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:cd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Pc=sT;function Np(t){const e=st.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function tN(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Mp(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const rN={texture:!0,children:!1,baseTexture:!0},oT=class _g extends zs{constructor(e,r,n){let i=!1;n||(n=ce.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=ie.from(n);s.orig=new Ce,s.trim=new Ce,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=_g.defaultResolution??ce.RESOLUTION,this._autoResolution=_g.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return vs.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ne("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),vs.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=vs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,a=i.height,u=i.lines,h=i.lineHeight,c=i.lineWidths,p=i.maxLineWidth,y=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let g,v;const x=r.dropShadow?2:1;for(let T=0;T<x;++T){const E=r.dropShadow&&T===0,w=E?Math.ceil(Math.max(1,a)+r.padding*2):0,b=w*this._resolution;if(E){n.fillStyle="black",n.strokeStyle="black";const C=r.dropShadowColor,k=r.dropShadowBlur*this._resolution,L=r.dropShadowDistance*this._resolution;n.shadowColor=st.shared.setValue(C).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=k,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*L,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*L+b}else n.fillStyle=this._generateFillStyle(r,u,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let S=(h-y.fontSize)/2;h-y.fontSize<0&&(S=0);for(let C=0;C<u.length;C++)g=r.strokeThickness/2,v=r.strokeThickness/2+C*h+y.ascent+S,r.align==="right"?g+=p-c[C]:r.align==="center"&&(g+=(p-c[C])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(u[C],g+r.padding,v+r.padding-w,!0),r.fill&&this.drawLetterSpacing(u[C],g+r.padding,v+r.padding-w)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let a=!1;if(vs.experimentalLetterSpacingSupported&&(vs.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||a){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let u=r;const h=vs.graphemeSegmenter(e);let c=this.context.measureText(e).width,p=0;for(let y=0;y<h.length;++y){const g=h[y];i?this.context.strokeText(g,u,n):this.context.fillText(g,u,n);let v="";for(let x=y+1;x<h.length;++x)v+=h[x];p=this.context.measureText(v).width,u+=c-p+s,c=p}}updateTexture(){const e=this.canvas;if(this._style.trim){const a=F2(e);a.data&&(e.width=a.width,e.height=a.height,this.context.putImageData(a.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const a=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,h=this.canvas.width/this._resolution-a-u*2,c=this.canvas.height/this._resolution-a-u*2,p=i.slice(),y=e.fillGradientStops.slice();if(!y.length){const g=p.length+1;for(let v=1;v<g;++v)y.push(v/g)}if(p.unshift(i[0]),y.unshift(0),p.push(i[i.length-1]),y.push(1),e.fillGradientType===cd.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,u,h/2,c+u);const g=n.fontProperties.fontSize+e.strokeThickness;for(let v=0;v<r.length;v++){const x=n.lineHeight*(v-1)+g,T=n.lineHeight*v;let E=T;v>0&&x>T&&(E=(T+x)/2);const w=T+g,b=n.lineHeight*(v+1);let S=w;v+1<r.length&&b<w&&(S=(w+b)/2);const C=(S-E)/c;for(let k=0;k<p.length;k++){let L=0;typeof y[k]=="number"?L=y[k]:L=k/p.length;let O=Math.min(1,Math.max(0,E/c+L*C));O=Number(O.toFixed(5)),s.addColorStop(O,p[k])}}}else{s=this.context.createLinearGradient(u,c/2,h+u,c/2);const g=p.length+1;let v=1;for(let x=0;x<p.length;x++){let T;typeof y[x]=="number"?T=y[x]:T=v/g,s.addColorStop(T,p[x]),v++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},rN,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Po(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Po(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Pc?this._style=e:this._style=new Pc(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};oT.defaultAutoResolution=!0;let nN=oT;class kc{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Hh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const a=r[s].match(/^[a-z]+/gm)[0],u=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const c in u){const p=u[c].split("="),y=p[0],g=p[1].replace(/"/gm,""),v=parseFloat(g),x=isNaN(v)?g:v;h[y]=x}n[a].push(h)}const i=new kc;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class xg{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new kc,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<a.length;c++){const p=a[c];r.char.push({id:parseInt(p.getAttribute("id"),10),page:parseInt(p.getAttribute("page"),10)||0,x:parseInt(p.getAttribute("x"),10),y:parseInt(p.getAttribute("y"),10),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10),xoffset:parseInt(p.getAttribute("xoffset"),10),yoffset:parseInt(p.getAttribute("yoffset"),10),xadvance:parseInt(p.getAttribute("xadvance"),10)})}for(let c=0;c<u.length;c++)r.kerning.push({first:parseInt(u[c].getAttribute("first"),10),second:parseInt(u[c].getAttribute("second"),10),amount:parseInt(u[c].getAttribute("amount"),10)});for(let c=0;c<h.length;c++)r.distanceField.push({fieldType:h[c].getAttribute("fieldType"),distanceRange:parseInt(h[c].getAttribute("distanceRange"),10)});return r}}class wg{static test(e){return typeof e=="string"&&e.includes("<font>")?xg.test(ce.ADAPTER.parseXML(e)):!1}static parse(e){return xg.parse(ce.ADAPTER.parseXML(e))}}const Fp=[Hh,xg,wg];function iN(t){for(let e=0;e<Fp.length;e++)if(Fp[e].test(t))return Fp[e];return null}function sN(t,e,r,n,i,s){const a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let u;const h=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,p=t.width/n-h-c*2,y=t.height/n-h-c*2,g=a.slice(),v=r.fillGradientStops.slice();if(!v.length){const x=g.length+1;for(let T=1;T<x;++T)v.push(T/x)}if(g.unshift(a[0]),v.unshift(0),g.push(a[a.length-1]),v.push(1),r.fillGradientType===cd.LINEAR_VERTICAL){u=e.createLinearGradient(p/2,c,p/2,y+c);let x=0;const T=(s.fontProperties.fontSize+r.strokeThickness)/y;for(let E=0;E<i.length;E++){const w=s.lineHeight*E;for(let b=0;b<g.length;b++){let S=0;typeof v[b]=="number"?S=v[b]:S=b/g.length;const C=w/y+S*T;let k=Math.max(x,C);k=Math.min(k,1),u.addColorStop(k,g[b]),x=k}}}else{u=e.createLinearGradient(c,y/2,p+c,y/2);const x=g.length+1;let T=1;for(let E=0;E<g.length;E++){let w;typeof v[E]=="number"?w=v[E]:w=T/x,u.addColorStop(w,g[E]),T++}}return u}function oN(t,e,r,n,i,s,a){const u=r.text,h=r.fontProperties;e.translate(n,i),e.scale(s,s);const c=a.strokeThickness/2,p=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=sN(t,e,a,s,[u],r),e.strokeStyle=a.stroke,a.dropShadow){const y=a.dropShadowColor,g=a.dropShadowBlur*s,v=a.dropShadowDistance*s;e.shadowColor=st.shared.setValue(y).setAlpha(a.dropShadowAlpha).toRgbaString(),e.shadowBlur=g,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(u,c,p+r.lineHeight-h.descent),a.fill&&e.fillText(u,c,p+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Vh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function aT(t){return Array.from?Array.from(t):t.split("")}function aN(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,h=a;u<=h;u++)e.push(String.fromCharCode(u))}else e.push(...aT(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const _i=class Tn{constructor(e,r,n){var p;const[i]=e.info,[s]=e.common,[a]=e.page,[u]=e.distanceField,h=ea(a.file),c={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=c;for(let y=0;y<e.page.length;y++){const{id:g,file:v}=e.page[y];c[g]=r instanceof Array?r[y]:r[v],u!=null&&u.fieldType&&u.fieldType!=="none"&&(c[g].baseTexture.alphaMode=Or.NO_PREMULTIPLIED_ALPHA,c[g].baseTexture.mipmap=Gi.OFF)}for(let y=0;y<e.char.length;y++){const{id:g,page:v}=e.char[y];let{x,y:T,width:E,height:w,xoffset:b,yoffset:S,xadvance:C}=e.char[y];x/=h,T/=h,E/=h,w/=h,b/=h,S/=h,C/=h;const k=new Ce(x+c[v].frame.x/h,T+c[v].frame.y/h,E,w);this.chars[g]={xOffset:b,yOffset:S,xAdvance:C,kerning:{},texture:new ie(c[v].baseTexture,k),page:v}}for(let y=0;y<e.kerning.length;y++){let{first:g,second:v,amount:x}=e.kerning[y];g/=h,v/=h,x/=h,this.chars[v]&&(this.chars[v].kerning[g]=x)}this.distanceFieldRange=u==null?void 0:u.distanceRange,this.distanceFieldType=((p=u==null?void 0:u.fieldType)==null?void 0:p.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof kc)i=e;else{const a=iN(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof ie&&(r=[r]);const s=new Tn(i,r,n);return Tn.available[s.font]=s,s}static uninstall(e){const r=Tn.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Tn.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:a,textureWidth:u,textureHeight:h,...c}=Object.assign({},Tn.defaultOptions,n),p=aN(i),y=r instanceof Pc?r:new Pc(r),g=u,v=new kc;v.info[0]={face:y.fontFamily,size:y.fontSize},v.common[0]={lineHeight:y.fontSize};let x=0,T=0,E,w,b,S=0;const C=[];for(let L=0;L<p.length;L++){E||(E=ce.ADAPTER.createCanvas(),E.width=u,E.height=h,w=E.getContext("2d"),b=new Ae(E,{resolution:a,...c}),C.push(new ie(b)),v.page.push({id:C.length-1,file:""}));const O=p[L],N=vs.measureText(O,y,!1,E),W=N.width,X=Math.ceil(N.height),fe=Math.ceil((y.fontStyle==="italic"?2:1)*W);if(T>=h-X*a){if(T===0)throw new Error(`[BitmapFont] textureHeight ${h}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${O}')`);--L,E=null,w=null,b=null,T=0,x=0,S=0;continue}if(S=Math.max(X+N.fontProperties.descent,S),fe*a+x>=g){if(x===0)throw new Error(`[BitmapFont] textureWidth ${u}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${O}')`);--L,T+=S*a,T=Math.ceil(T),x=0,S=0;continue}oN(E,w,N,x,T,a,y);const K=Vh(N.text);v.char.push({id:K,page:C.length-1,x:x/a,y:T/a,width:fe,height:X,xoffset:0,yoffset:0,xadvance:W-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0)}),x+=(fe+2*s)*a,x=Math.ceil(x)}if(!(n!=null&&n.skipKerning))for(let L=0,O=p.length;L<O;L++){const N=p[L];for(let W=0;W<O;W++){const X=p[W],fe=w.measureText(N).width,K=w.measureText(X).width,D=w.measureText(N+X).width-(fe+K);D&&v.kerning.push({first:Vh(N),second:Vh(X),amount:D})}}const k=new Tn(v,C,!0);return Tn.available[e]!==void 0&&Tn.uninstall(e),Tn.available[e]=k,k}};_i.ALPHA=[["a","z"],["A","Z"]," "],_i.NUMERIC=[["0","9"]],_i.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],_i.ASCII=[[" ","~"]],_i.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:_i.ALPHANUMERIC},_i.available={};let xi=_i;class lN{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Op=new He,ex=new Is,lT=class uT extends vr{constructor(e,r,n,i=tn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Ln.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ce.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===tn.TRIANGLES&&r.length<uT.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,a=i.b,u=i.c,h=i.d,c=i.tx,p=i.ty,y=this.vertexData;for(let g=0;g<y.length/2;g++){const v=r[g*2],x=r[g*2+1];y[g*2]=s*v+u*x+c,y[g*2+1]=a*v+h*x+p}if(this._roundPixels){const g=ce.RESOLUTION;for(let v=0;v<y.length;++v)y[v]=Math.round(y[v]*g)/g}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new lN(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Op);const r=this.geometry.getBuffer("aVertexPosition").data,n=ex.points,i=this.geometry.getIndex().data,s=i.length,a=this.drawMode===4?3:1;for(let u=0;u+2<s;u+=a){const h=i[u]*2,c=i[u+1]*2,p=i[u+2]*2;if(n[0]=r[h],n[1]=r[h+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[p],n[5]=r[p+1],ex.contains(Op.x,Op.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};lT.BATCHABLE_SIZE=100;let Bl=lT;class dd extends $i{constructor(e,r,n){super();const i=new ut(e),s=new ut(r,!0),a=new ut(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ve.FLOAT).addAttribute("aTextureCoord",s,2,!1,ve.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var uN=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,hN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Dl extends Mn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:et.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||qn.from(hN,uN),n),this._colorDirty=!1,this.uvMatrix=new Ly(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new st(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;st.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var cN=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,dN=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const tx=[],rx=[],nx=[],hT=class cT extends vr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:a,fontName:u,fontSize:h}=Object.assign({},cT.styleDefaults,r);if(!xi.available[u])throw new Error(`Missing BitmapFont "${u}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new st(i),this._font=void 0,this._fontName=u,this._fontSize=h,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new In(()=>{this.dirty=!0},this,0,0),this._roundPixels=ce.ROUND_PIXELS,this.dirty=!0,this._resolution=ce.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var fe;const e=xi.available[this._fontName],r=this.fontSize,n=r/e.size,i=new He,s=[],a=[],u=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=aT(h),p=this._maxWidth*e.size/r,y=e.distanceFieldType==="none"?tx:rx;let g=null,v=0,x=0,T=0,E=-1,w=0,b=0,S=0,C=0;for(let K=0;K<c.length;K++){const D=c[K],q=Vh(D);if(/(?:\s)/.test(D)&&(E=K,w=v,C++),D==="\r"||D===`
`){a.push(v),u.push(-1),x=Math.max(x,v),++T,++b,i.x=0,i.y+=e.lineHeight,g=null,C=0;continue}const ue=e.chars[q];if(!ue)continue;g&&ue.kerning[g]&&(i.x+=ue.kerning[g]);const pe=nx.pop()||{texture:ie.EMPTY,line:0,charCode:0,prevSpaces:0,position:new He};pe.texture=ue.texture,pe.line=T,pe.charCode=q,pe.position.x=Math.round(i.x+ue.xOffset+this._letterSpacing/2),pe.position.y=Math.round(i.y+ue.yOffset),pe.prevSpaces=C,s.push(pe),v=pe.position.x+Math.max(ue.xAdvance-ue.xOffset,ue.texture.orig.width),i.x+=ue.xAdvance+this._letterSpacing,S=Math.max(S,ue.yOffset+ue.texture.height),g=q,E!==-1&&p>0&&i.x>p&&(++b,fl(s,1+E-b,1+K-E),K=E,E=-1,a.push(w),u.push(s.length>0?s[s.length-1].prevSpaces:0),x=Math.max(x,w),T++,i.x=0,i.y+=e.lineHeight,g=null,C=0)}const k=c[c.length-1];k!=="\r"&&k!==`
`&&(/(?:\s)/.test(k)&&(v=w),a.push(v),x=Math.max(x,v),u.push(-1));const L=[];for(let K=0;K<=T;K++){let D=0;this._align==="right"?D=x-a[K]:this._align==="center"?D=(x-a[K])/2:this._align==="justify"&&(D=u[K]<0?0:(x-a[K])/u[K]),L.push(D)}const O=s.length,N={},W=[],X=this._activePagesMeshData;y.push(...X);for(let K=0;K<O;K++){const D=s[K].texture,q=D.baseTexture.uid;if(!N[q]){let ue=y.pop();if(!ue){const he=new dd;let R,H;e.distanceFieldType==="none"?(R=new Dl(ie.EMPTY),H=ge.NORMAL):(R=new Dl(ie.EMPTY,{program:qn.from(dN,cN),uniforms:{uFWidth:0}}),H=ge.NORMAL_NPM);const F=new Bl(he,R);F.blendMode=H,ue={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:F,vertices:null,uvs:null,indices:null}}ue.index=0,ue.indexCount=0,ue.vertexCount=0,ue.uvsCount=0,ue.total=0;const{_textureCache:pe}=this;pe[q]=pe[q]||new ie(D.baseTexture),ue.mesh.texture=pe[q],ue.mesh.tint=this._tintColor.value,W.push(ue),N[q]=ue}N[q].total++}for(let K=0;K<X.length;K++)W.includes(X[K])||this.removeChild(X[K].mesh);for(let K=0;K<W.length;K++)W[K].mesh.parent!==this&&this.addChild(W[K].mesh);this._activePagesMeshData=W;for(const K in N){const D=N[K],q=D.total;if(!(((fe=D.indices)==null?void 0:fe.length)>6*q)||D.vertices.length<Bl.BATCHABLE_SIZE*2)D.vertices=new Float32Array(4*2*q),D.uvs=new Float32Array(4*2*q),D.indices=new Uint16Array(6*q);else{const ue=D.total,pe=D.vertices;for(let he=ue*4*2;he<pe.length;he++)pe[he]=0}D.mesh.size=6*q}for(let K=0;K<O;K++){const D=s[K];let q=D.position.x+L[D.line]*(this._align==="justify"?D.prevSpaces:1);this._roundPixels&&(q=Math.round(q));const ue=q*n,pe=D.position.y*n,he=D.texture,R=N[he.baseTexture.uid],H=he.frame,F=he._uvs,z=R.index++;R.indices[z*6+0]=0+z*4,R.indices[z*6+1]=1+z*4,R.indices[z*6+2]=2+z*4,R.indices[z*6+3]=0+z*4,R.indices[z*6+4]=2+z*4,R.indices[z*6+5]=3+z*4,R.vertices[z*8+0]=ue,R.vertices[z*8+1]=pe,R.vertices[z*8+2]=ue+H.width*n,R.vertices[z*8+3]=pe,R.vertices[z*8+4]=ue+H.width*n,R.vertices[z*8+5]=pe+H.height*n,R.vertices[z*8+6]=ue,R.vertices[z*8+7]=pe+H.height*n,R.uvs[z*8+0]=F.x0,R.uvs[z*8+1]=F.y0,R.uvs[z*8+2]=F.x1,R.uvs[z*8+3]=F.y1,R.uvs[z*8+4]=F.x2,R.uvs[z*8+5]=F.y2,R.uvs[z*8+6]=F.x3,R.uvs[z*8+7]=F.y3}this._textWidth=x*n,this._textHeight=(i.y+e.lineHeight)*n;for(const K in N){const D=N[K];if(this.anchor.x!==0||this.anchor.y!==0){let he=0;const R=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let F=0;F<D.total;F++)D.vertices[he++]-=R,D.vertices[he++]-=H,D.vertices[he++]-=R,D.vertices[he++]-=H,D.vertices[he++]-=R,D.vertices[he++]-=H,D.vertices[he++]-=R,D.vertices[he++]-=H}this._maxLineHeight=S*n;const q=D.mesh.geometry.getBuffer("aVertexPosition"),ue=D.mesh.geometry.getBuffer("aTextureCoord"),pe=D.mesh.geometry.getIndex();q.data=D.vertices,ue.data=D.uvs,pe.data=D.indices,q.update(),ue.update(),pe.update()}for(let K=0;K<s.length;K++)nx.push(s[K]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=xi.available[this._fontName];if(n!=="none"){const{a:s,b:a,c:u,d:h}=this.worldTransform,c=Math.sqrt(s*s+a*a),p=Math.sqrt(u*u+h*h),y=(Math.abs(c)+Math.abs(p))/2,g=this.fontSize/i,v=e._view.resolution;for(const x of this._activePagesMeshData)x.mesh.shader.uniforms.uFWidth=y*r*g*v}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=xi.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!xi.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??xi.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=xi.available[this._fontName].distanceFieldType==="none"?tx:rx;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ie.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};hT.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let fN=hT;const ix={loader:se.LoadParser,resolver:se.ResolveParser,cache:se.CacheParser,detection:se.DetectionParser};me.handle(se.Asset,t=>{const e=t.ref;Object.entries(ix).filter(([r])=>!!e[r]).forEach(([r,n])=>me.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(ix).filter(r=>!!e[r]).forEach(r=>me.remove(e[r]))});class pN{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function oa(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function aa(t,e){const r=t.split("?")[0],n=Ur.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Jr=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),mN=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function dT(t,e,r,n,i){const s=e[r];for(let a=0;a<s.length;a++){const u=s[a];r<e.length-1?dT(t.replace(n[r],u),e,r+1,n,i):i.push(t.replace(n[r],u))}}function gN(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const a=s.substring(1,s.length-1).split(",");i.push(a)}),dT(t,i,0,r,n)}else n.push(t);return n}const Nc=t=>!Array.isArray(t);class yN{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Jr(e);let i;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.test(r)){i=h.getCacheableAssets(n,r);break}}i||(i={},n.forEach(u=>{i[u]=r}));const s=Object.keys(i),a={cacheKeys:s,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,a)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==r&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),r instanceof ie){const u=r;n.forEach(h=>{u.baseTexture!==ie.EMPTY.baseTexture&&Ae.addToCache(u.baseTexture,h),ie.addToCache(u,h)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const xs=new yN;class vN{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var a,u;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];if(c.load&&((a=c.test)!=null&&a.call(c,e,r,this))){s=c;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];c.parse&&c.parse&&await((u=c.testParse)==null?void 0:u.call(c,i,r,this))&&(i=await c.parse(i,r,this)||i,n.parser=c)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Nc(e),a=Jr(e,c=>({alias:[c],src:c})),u=a.length,h=a.map(async c=>{const p=Ur.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[p]||(this.promiseCache[p]=this._getLoadPromiseAndParser(p,c)),i[c.src]=await this.promiseCache[p].promise,r&&r(++n/u)}catch(y){throw delete this.promiseCache[p],delete i[c.src],new Error(`[Loader.load] Failed to load ${p}.
${y}`)}});return await Promise.all(h),s?i[a[0].src]:i}async unload(e){const r=Jr(e,n=>({alias:[n],src:n})).map(async n=>{var a,u;const i=Ur.toAbsolute(n.src),s=this.promiseCache[i];if(s){const h=await s.promise;delete this.promiseCache[i],(u=(a=s.parser)==null?void 0:a.unload)==null||u.call(a,h,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Yi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Yi||{});const _N=".json",xN="application/json",wN={extension:{type:se.LoadParser,priority:Yi.Low},name:"loadJson",test(t){return oa(t,xN)||aa(t,_N)},async load(t){return await(await ce.ADAPTER.fetch(t)).json()}};me.add(wN);const SN=".txt",bN="text/plain",TN={name:"loadTxt",extension:{type:se.LoadParser,priority:Yi.Low},test(t){return oa(t,bN)||aa(t,SN)},async load(t){return await(await ce.ADAPTER.fetch(t)).text()}};me.add(TN);const EN=["normal","bold","100","200","300","400","500","600","700","800","900"],AN=[".ttf",".otf",".woff",".woff2"],CN=["font/ttf","font/otf","font/woff","font/woff2"],IN=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function RN(t){const e=Ur.extname(t),r=Ur.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(IN)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const PN=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function kN(t){return PN.test(t)?t:encodeURI(t)}const NN={extension:{type:se.LoadParser,priority:Yi.Low},name:"loadWebFont",test(t){return oa(t,CN)||aa(t,AN)},async load(t,e){var n,i,s;const r=ce.ADAPTER.getFontFaceSet();if(r){const a=[],u=((n=e.data)==null?void 0:n.family)??RN(t),h=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(p=>EN.includes(p)))??["normal"],c=e.data??{};for(let p=0;p<h.length;p++){const y=h[p],g=new FontFace(u,`url(${kN(t)})`,{...c,weight:y});await g.load(),r.add(g),a.push(g)}return a.length===1?a[0]:a}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ce.ADAPTER.getFontFaceSet().delete(e))}};me.add(NN);let sx=0,Lp;const MN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",FN={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${MN}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},ON={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Bp;class LN{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([FN.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Lp===void 0&&(Lp=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Lp&&(Bp||(Bp=URL.createObjectURL(new Blob([ON.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Bp),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[sx]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:sx++,id:n})}}const ox=new LN;function Dy(t,e,r){t.resource.internal=!0;const n=new ie(t),i=()=>{delete e.promiseCache[r],xs.has(r)&&xs.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const BN=[".jpeg",".jpg",".png",".webp",".avif"],DN=["image/jpeg","image/png","image/webp","image/avif"];async function UN(t){const e=await ce.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const fd={name:"loadTextures",extension:{type:se.LoadParser,priority:Yi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return oa(t,DN)||aa(t,BN)},async load(t,e,r){var u;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await ox.isImageBitmapSupported()?i=await ox.loadImageBitmap(t):i=await UN(t):i=await new Promise((h,c)=>{const p=new Image;p.crossOrigin=this.config.crossOrigin,p.src=t,p.complete?h(p):(p.onload=()=>h(p),p.onerror=y=>c(y))});const s={...e.data};s.resolution??(s.resolution=ea(t)),n&&((u=s.resourceOptions)==null?void 0:u.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const a=new Ae(i,s);return a.resource.src=t,Dy(a,r,t)},unload(t){t.destroy(!0)}};me.add(fd);const zN=".svg",GN="image/svg+xml",$N={extension:{type:se.LoadParser,priority:Yi.High},name:"loadSVG",test(t){return oa(t,GN)||aa(t,zN)},async testParse(t){return mg.test(t)},async parse(t,e,r){var s;const n=new mg(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Ae(n,{resolution:ea(t),...e==null?void 0:e.data});return i.resource.src=e.src,Dy(i,r,e.src)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload:fd.unload};me.add($N);const jN=[".mp4",".m4v",".webm",".ogv"],HN=["video/mp4","video/webm","video/ogg"],VN={name:"loadVideo",extension:{type:se.LoadParser,priority:Yi.High},config:{defaultAutoPlay:!0},test(t){return oa(t,HN)||aa(t,jN)},async load(t,e,r){var a;let n;const i=await(await ce.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const u={autoPlay:this.config.defaultAutoPlay,...(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions},h=new nT(s,u);await h.load();const c=new Ae(h,{alphaMode:await _2(),resolution:ea(t),...e==null?void 0:e.data});c.resource.src=t,n=Dy(c,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(u){throw URL.revokeObjectURL(s),u}return n},unload(t){t.destroy(!0)}};me.add(VN);class WN{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return Jr(r||n||i||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(u=>(u==null?void 0:u.src)??(u==null?void 0:u.srcs)??u):a!=null&&a.src||a!=null&&a.srcs?a.src??a.srcs:a,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,a=i.alias??i.name;let u;if(typeof a=="string"){const h=this._createBundleAssetId(e,a);n.push(h),u=[a,h]}else{const h=a.map(c=>this._createBundleAssetId(e,c));n.push(...h),u=[...a,...h]}this.add({...i,alias:u,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const a=r[i],u=a.src??a.srcs;this.add({...a,alias:s,src:Array.isArray(u)?u:[u]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const a=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ne("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),a.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?a.push(...e):a.push(e);let u;u=h=>{this.hasKey(h)&&console.warn(`[Resolver] already has key: ${h} overwriting`)},Jr(a).forEach(h=>{const{src:c,srcs:p}=h;let{data:y,format:g,loadParser:v}=h;const x=Jr(c||p).map(w=>typeof w=="string"?gN(w):Array.isArray(w)?w:[w]),T=this.getAlias(h);Array.isArray(T)?T.forEach(u):u(T);const E=[];x.forEach(w=>{w.forEach(b=>{let S={};if(typeof b!="object"){S.src=b;for(let C=0;C<this._parsers.length;C++){const k=this._parsers[C];if(k.test(b)){S=k.parse(b);break}}}else y=b.data??y,g=b.format??g,v=b.loadParser??v,S={...S,...b};if(!T)throw new Error(`[Resolver] alias is undefined for this asset: ${S.src}`);S=this.buildResolvedAsset(S,{aliases:T,data:y,format:g,loadParser:v}),E.push(S)})}),T.forEach(w=>{this._assetMap[w]=E})})}resolveBundle(e){const r=Nc(e);e=Jr(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const a=this.resolve(s),u={};for(const h in a){const c=a[h];u[this._extractAssetIdFromBundle(i,h)]=c}n[i]=u}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Nc(e);e=Jr(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const a=s[0],u=this._getPreferredOrder(s);u==null||u.priority.forEach(h=>{u.params[h].forEach(c=>{const p=s.filter(y=>y[h]?y[h]===c:!1);p.length&&(s=p)})}),this._resolverHash[i]=s[0]??a}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:a}=r;return(this._basePath||this._rootPath)&&(e.src=Ur.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=a??Ur.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class XN{constructor(){this._detections=[],this._initialized=!1,this.resolver=new WN,this.loader=new vN,this.cache=xs,this._backgroundLoader=new pN(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let u=e.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(a=e.texturePreference)==null?void 0:a.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=Nc(e),i=Jr(e).map(u=>{if(typeof u!="string"){const h=this.resolver.getAlias(u);return h.some(c=>!this.resolver.hasKey(c))&&this.add(u),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(u)||this.add({alias:u,src:u}),u}),s=this.resolver.resolve(i),a=await this._mapLoadToResolve(s,r);return n?a[i[0]]:a}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},a=Object.keys(i);let u=0,h=0;const c=()=>{r==null||r(++u/h)},p=a.map(y=>{const g=i[y];return h+=Object.keys(g).length,this._mapLoadToResolve(g,c).then(v=>{s[y]=v})});return await Promise.all(p),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return xs.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=xs.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const a={};return n.forEach((u,h)=>{const c=s[u.src],p=[u.src];u.alias&&p.push(...u.alias),a[i[h]]=c,xs.set(p,c)}),a}async unload(e){this._initialized||await this.init();const r=Jr(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Jr(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{xs.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return fd.config.preferWorkers}set preferWorkers(e){Ne("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const mh=new XN;me.handleByList(se.LoadParser,mh.loader.parsers).handleByList(se.ResolveParser,mh.resolver.parsers).handleByList(se.CacheParser,mh.cache.parsers).handleByList(se.DetectionParser,mh.detections);const YN={extension:se.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ie),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};me.add(YN);async function fT(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const QN={extension:{type:se.DetectionParser,priority:1},test:async()=>fT("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};me.add(QN);const qN={extension:{type:se.DetectionParser,priority:0},test:async()=>fT("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};me.add(qN);const ax=["png","jpg","jpeg"],KN={extension:{type:se.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...ax],remove:async t=>t.filter(e=>!ax.includes(e))};me.add(KN);const ZN="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Uy(t){return ZN?!1:document.createElement("video").canPlayType(t)!==""}const JN={extension:{type:se.DetectionParser,priority:0},test:async()=>Uy("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};me.add(JN);const eM={extension:{type:se.DetectionParser,priority:0},test:async()=>Uy("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};me.add(eM);const tM={extension:{type:se.DetectionParser,priority:0},test:async()=>Uy("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};me.add(tM);const rM={extension:se.ResolveParser,test:fd.test,parse:t=>{var e;return{resolution:parseFloat(((e=ce.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Ur.extname(t).slice(1),src:t}}};me.add(rM);const nM=[".xml",".fnt"],iM={extension:{type:se.LoadParser,priority:Yi.Normal},name:"loadBitmapFont",test(t){return nM.includes(Ur.extname(t).toLowerCase())},async testParse(t){return Hh.test(t)||wg.test(t)},async parse(t,e,r){const n=Hh.test(t)?Hh.parse(t):wg.parse(t),{src:i}=e,{page:s}=n,a=[];for(let c=0;c<s.length;++c){const p=s[c].file;let y=Ur.join(Ur.dirname(i),p);y=mN(y,i),a.push(y)}const u=await r.load(a),h=a.map(c=>u[c]);return xi.install(n,h,!0)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};me.add(iM);const Mc={build(t){const e=t.points;let r,n,i,s,a,u;if(t.type===Nt.CIRC){const x=t.shape;r=x.x,n=x.y,a=u=x.radius,i=s=0}else if(t.type===Nt.ELIP){const x=t.shape;r=x.x,n=x.y,a=x.width,u=x.height,i=s=0}else{const x=t.shape,T=x.width/2,E=x.height/2;r=x.x+T,n=x.y+E,a=u=Math.max(0,Math.min(x.radius,Math.min(T,E))),i=T-a,s=E-u}if(!(a>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(a+u)),c=h*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(h===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let p=0,y=h*4+(i?2:0)+2,g=y,v=c;{const x=i+a,T=s,E=r+x,w=r-x,b=n+T;if(e[p++]=E,e[p++]=b,e[--y]=b,e[--y]=w,s){const S=n-T;e[g++]=w,e[g++]=S,e[--v]=S,e[--v]=E}}for(let x=1;x<h;x++){const T=Math.PI/2*(x/h),E=i+Math.cos(T)*a,w=s+Math.sin(T)*u,b=r+E,S=r-E,C=n+w,k=n-w;e[p++]=b,e[p++]=C,e[--y]=C,e[--y]=S,e[g++]=S,e[g++]=k,e[--v]=k,e[--v]=b}{const x=i,T=s+u,E=r+x,w=r-x,b=n+T,S=n-T;e[p++]=E,e[p++]=b,e[--v]=S,e[--v]=E,i&&(e[p++]=w,e[p++]=b,e[--v]=S,e[--v]=w)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const a=s;let u,h;if(t.type!==Nt.RREC){const p=t.shape;u=p.x,h=p.y}else{const p=t.shape;u=p.x+p.width/2,h=p.y+p.height/2}const c=t.matrix;n.push(t.matrix?c.a*u+c.c*h+c.tx:u,t.matrix?c.b*u+c.d*h+c.ty:h),s++,n.push(r[0],r[1]);for(let p=2;p<r.length;p+=2)n.push(r[p],r[p+1]),i.push(s++,a,s);i.push(a+1,a,s)}};function lx(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],a=t[r-1];i<r;i+=2){const u=t[i],h=t[i+1];n+=(u-s)*(h+a),s=u,a=h}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const a=r-s-2,u=r-s-1,h=s,c=s+1;[t[a],t[h]]=[t[h],t[a]],[t[u],t[c]]=[t[c],t[u]]}}}const pT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){lx(r,!1);const a=[];for(let c=0;c<n.length;c++){const p=n[c];lx(p.points,!0),a.push(r.length/2),r=r.concat(p.points)}const u=qI(r,a,2);if(!u)return;const h=i.length/2;for(let c=0;c<u.length;c+=3)s.push(u[c]+h),s.push(u[c+1]+h),s.push(u[c+2]+h);for(let c=0;c<r.length;c++)i.push(r[c])}}},sM={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,a=t.points;a.length=0,i>=0&&s>=0&&a.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},oM={build(t){Mc.build(t)},triangulate(t,e){Mc.triangulate(t,e)}};var kr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(kr||{}),Ri=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ri||{});const ta={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class ux{static curveTo(e,r,n,i,s,a){const u=a[a.length-2],h=a[a.length-1]-r,c=u-e,p=i-r,y=n-e,g=Math.abs(h*y-c*p);if(g<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==r)&&a.push(e,r),null;const v=h*h+c*c,x=p*p+y*y,T=h*p+c*y,E=s*Math.sqrt(v)/g,w=s*Math.sqrt(x)/g,b=E*T/v,S=w*T/x,C=E*y+w*c,k=E*p+w*h,L=c*(w+b),O=h*(w+b),N=y*(E+S),W=p*(E+S),X=Math.atan2(O-k,L-C),fe=Math.atan2(W-k,N-C);return{cx:C+e,cy:k+r,radius:s,startAngle:X,endAngle:fe,anticlockwise:c*p>y*h}}static arc(e,r,n,i,s,a,u,h,c){const p=u-a,y=ta._segmentsCount(Math.abs(p)*s,Math.ceil(Math.abs(p)/Tc)*40),g=p/(y*2),v=g*2,x=Math.cos(g),T=Math.sin(g),E=y-1,w=E%1/E;for(let b=0;b<=E;++b){const S=b+w*b,C=g+a+v*S,k=Math.cos(C),L=-Math.sin(C);c.push((x*k+T*L)*s+n,(x*-L+T*k)*s+i)}}}class aM{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class zy{static curveLength(e,r,n,i,s,a,u,h){let c=0,p=0,y=0,g=0,v=0,x=0,T=0,E=0,w=0,b=0,S=0,C=e,k=r;for(let L=1;L<=10;++L)p=L/10,y=p*p,g=y*p,v=1-p,x=v*v,T=x*v,E=T*e+3*x*p*n+3*v*y*s+g*u,w=T*r+3*x*p*i+3*v*y*a+g*h,b=C-E,S=k-w,C=E,k=w,c+=Math.sqrt(b*b+S*S);return c}static curveTo(e,r,n,i,s,a,u){const h=u[u.length-2],c=u[u.length-1];u.length-=2;const p=ta._segmentsCount(zy.curveLength(h,c,e,r,n,i,s,a));let y=0,g=0,v=0,x=0,T=0;u.push(h,c);for(let E=1,w=0;E<=p;++E)w=E/p,y=1-w,g=y*y,v=g*y,x=w*w,T=x*w,u.push(v*h+3*g*w*e+3*y*x*n+T*s,v*c+3*g*w*r+3*y*x*i+T*a)}}function hx(t,e,r,n,i,s,a,u){const h=t-r*i,c=e-n*i,p=t+r*s,y=e+n*s;let g,v;a?(g=n,v=-r):(g=-n,v=r);const x=h+g,T=c+v,E=p+g,w=y+v;return u.push(x,T,E,w),2}function as(t,e,r,n,i,s,a,u){const h=r-t,c=n-e;let p=Math.atan2(h,c),y=Math.atan2(i-t,s-e);u&&p<y?p+=Math.PI*2:!u&&p>y&&(y+=Math.PI*2);let g=p;const v=y-p,x=Math.abs(v),T=Math.sqrt(h*h+c*c),E=(15*x*Math.sqrt(T)/Math.PI>>0)+1,w=v/E;if(g+=w,u){a.push(t,e,r,n);for(let b=1,S=g;b<E;b++,S+=w)a.push(t,e,t+Math.sin(S)*T,e+Math.cos(S)*T);a.push(t,e,i,s)}else{a.push(r,n,t,e);for(let b=1,S=g;b<E;b++,S+=w)a.push(t+Math.sin(S)*T,e+Math.cos(S)*T,t,e);a.push(i,s,t,e)}return E*2}function lM(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,a=new He(n[0],n[1]),u=new He(n[n.length-2],n[n.length-1]),h=r.type!==Nt.POLY||r.closeStroke,c=Math.abs(a.x-u.x)<i&&Math.abs(a.y-u.y)<i;if(h){n=n.slice(),c&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const he=(a.x+u.x)*.5,R=(u.y+a.y)*.5;n.unshift(he,R),n.push(he,R)}const p=e.points,y=n.length/2;let g=n.length;const v=p.length/2,x=s.width/2,T=x*x,E=s.miterLimit*s.miterLimit;let w=n[0],b=n[1],S=n[2],C=n[3],k=0,L=0,O=-(b-C),N=w-S,W=0,X=0,fe=Math.sqrt(O*O+N*N);O/=fe,N/=fe,O*=x,N*=x;const K=s.alignment,D=(1-K)*2,q=K*2;h||(s.cap===Ri.ROUND?g+=as(w-O*(D-q)*.5,b-N*(D-q)*.5,w-O*D,b-N*D,w+O*q,b+N*q,p,!0)+2:s.cap===Ri.SQUARE&&(g+=hx(w,b,O,N,D,q,!0,p))),p.push(w-O*D,b-N*D,w+O*q,b+N*q);for(let he=1;he<y-1;++he){w=n[(he-1)*2],b=n[(he-1)*2+1],S=n[he*2],C=n[he*2+1],k=n[(he+1)*2],L=n[(he+1)*2+1],O=-(b-C),N=w-S,fe=Math.sqrt(O*O+N*N),O/=fe,N/=fe,O*=x,N*=x,W=-(C-L),X=S-k,fe=Math.sqrt(W*W+X*X),W/=fe,X/=fe,W*=x,X*=x;const R=S-w,H=b-C,F=S-k,z=L-C,J=R*F+H*z,_e=H*F-z*R,ye=_e<0;if(Math.abs(_e)<.001*Math.abs(J)){p.push(S-O*D,C-N*D,S+O*q,C+N*q),J>=0&&(s.join===kr.ROUND?g+=as(S,C,S-O*D,C-N*D,S-W*D,C-X*D,p,!1)+4:g+=2,p.push(S-W*q,C-X*q,S+W*D,C+X*D));continue}const Fe=(-O+w)*(-N+C)-(-O+S)*(-N+b),we=(-W+k)*(-X+C)-(-W+S)*(-X+L),Me=(R*we-F*Fe)/_e,vt=(z*Fe-H*we)/_e,It=(Me-S)*(Me-S)+(vt-C)*(vt-C),rt=S+(Me-S)*D,Se=C+(vt-C)*D,ze=S-(Me-S)*q,Re=C-(vt-C)*q,wr=Math.min(R*R+H*H,F*F+z*z),Sr=ye?D:q,qi=wr+Sr*Sr*T,yd=It<=qi;let Gs=s.join;if(Gs===kr.MITER&&It/T>E&&(Gs=kr.BEVEL),yd)switch(Gs){case kr.MITER:{p.push(rt,Se,ze,Re);break}case kr.BEVEL:{ye?p.push(rt,Se,S+O*q,C+N*q,rt,Se,S+W*q,C+X*q):p.push(S-O*D,C-N*D,ze,Re,S-W*D,C-X*D,ze,Re),g+=2;break}case kr.ROUND:{ye?(p.push(rt,Se,S+O*q,C+N*q),g+=as(S,C,S+O*q,C+N*q,S+W*q,C+X*q,p,!0)+4,p.push(rt,Se,S+W*q,C+X*q)):(p.push(S-O*D,C-N*D,ze,Re),g+=as(S,C,S-O*D,C-N*D,S-W*D,C-X*D,p,!1)+4,p.push(S-W*D,C-X*D,ze,Re));break}}else{switch(p.push(S-O*D,C-N*D,S+O*q,C+N*q),Gs){case kr.MITER:{ye?p.push(ze,Re,ze,Re):p.push(rt,Se,rt,Se),g+=2;break}case kr.ROUND:{ye?g+=as(S,C,S+O*q,C+N*q,S+W*q,C+X*q,p,!0)+2:g+=as(S,C,S-O*D,C-N*D,S-W*D,C-X*D,p,!1)+2;break}}p.push(S-W*D,C-X*D,S+W*q,C+X*q),g+=2}}w=n[(y-2)*2],b=n[(y-2)*2+1],S=n[(y-1)*2],C=n[(y-1)*2+1],O=-(b-C),N=w-S,fe=Math.sqrt(O*O+N*N),O/=fe,N/=fe,O*=x,N*=x,p.push(S-O*D,C-N*D,S+O*q,C+N*q),h||(s.cap===Ri.ROUND?g+=as(S-O*(D-q)*.5,C-N*(D-q)*.5,S-O*D,C-N*D,S+O*q,C+N*q,p,!1)+2:s.cap===Ri.SQUARE&&(g+=hx(S,C,O,N,D,q,!1,p)));const ue=e.indices,pe=ta.epsilon*ta.epsilon;for(let he=v;he<g+v-2;++he)w=p[he*2],b=p[he*2+1],S=p[(he+1)*2],C=p[(he+1)*2+1],k=p[(he+2)*2],L=p[(he+2)*2+1],!(Math.abs(w*(C-L)+S*(L-b)+k*(b-C))<pe)&&ue.push(he,he+1,he+2)}function uM(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Nt.POLY||n.closeStroke;if(i.length===0)return;const a=e.points,u=e.indices,h=i.length/2,c=a.length/2;let p=c;for(a.push(i[0],i[1]),r=1;r<h;r++)a.push(i[r*2],i[r*2+1]),u.push(p,p+1),p++;s&&u.push(p,c)}function cx(t,e){t.lineStyle.native?uM(t,e):lM(t,e)}class Gy{static curveLength(e,r,n,i,s,a){const u=e-2*n+s,h=r-2*i+a,c=2*n-2*e,p=2*i-2*r,y=4*(u*u+h*h),g=4*(u*c+h*p),v=c*c+p*p,x=2*Math.sqrt(y+g+v),T=Math.sqrt(y),E=2*y*T,w=2*Math.sqrt(v),b=g/T;return(E*x+T*g*(x-w)+(4*v*y-g*g)*Math.log((2*T+b+x)/(b+w)))/(4*E)}static curveTo(e,r,n,i,s){const a=s[s.length-2],u=s[s.length-1],h=ta._segmentsCount(Gy.curveLength(a,u,e,r,n,i));let c=0,p=0;for(let y=1;y<=h;++y){const g=y/h;c=a+(e-a)*g,p=u+(r-u)*g,s.push(c+(e+(n-e)*g-c)*g,p+(r+(i-r)*g-p)*g)}}}const Dp={[Nt.POLY]:pT,[Nt.CIRC]:Mc,[Nt.ELIP]:Mc,[Nt.RECT]:sM,[Nt.RREC]:oM},dx=[],gh=[];class Fc{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Fc(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const lo=new He,mT=class gT extends Sb{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Rc,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),gh.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),dx.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new Fc(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Fc(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,lo):lo.copyFrom(e),i.shape.contains(lo.x,lo.y))){let s=!1;if(i.holes){for(let a=0;a<i.holes.length;a++)if(i.holes[a].shape.contains(lo.x,lo.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let h=this.shapeIndex;h<r.length;h++){this.shapeIndex++;const c=r[h],p=c.fillStyle,y=c.lineStyle;Dp[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(p.visible||y.visible)&&this.processHoles(c.holes);for(let g=0;g<2;g++){const v=g===0?p:y;if(!v.visible)continue;const x=v.texture.baseTexture,T=this.indices.length,E=this.points.length/2;x.wrapMode=Zn.REPEAT,g===0?this.processFill(c):this.processLine(c);const w=this.points.length/2-E;w!==0&&(n&&!this._compareStyles(i,v)&&(n.end(T,E),n=null),n||(n=dx.pop()||new aM,n.begin(v,T,E),this.batches.push(n),i=v),this.addUvs(this.points,e,v.texture,E,w,v.matrix))}}const s=this.indices.length,a=this.points.length/2;if(n&&n.end(s,a),this.batches.length===0){this.batchable=!0;return}const u=a>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&u===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=u?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const a=i.start+s;this.indicesUint16[a]=this.indicesUint16[a]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<gT.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ae._globalBatch;for(let y=0;y<this.drawCalls.length;y++)this.drawCalls[y].texArray.clear(),gh.push(this.drawCalls[y]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=gh.pop();i||(i=new sg,i.texArray=new ug),i.texArray.count=0,i.start=0,i.size=0,i.type=tn.TRIANGLES;let s=0,a=null,u=0,h=!1,c=tn.TRIANGLES,p=0;this.drawCalls.push(i);for(let y=0;y<this.batches.length;y++){const g=this.batches[y],v=8,x=g.style,T=x.texture.baseTexture;h!==!!x.native&&(h=!!x.native,c=h?tn.LINES:tn.TRIANGLES,a=null,s=v,e++),a!==T&&(a=T,T._batchEnabled!==e&&(s===v&&(e++,s=0,i.size>0&&(i=gh.pop(),i||(i=new sg,i.texArray=new ug),this.drawCalls.push(i)),i.start=p,i.size=0,i.texArray.count=0,i.type=c),T.touched=1,T._batchEnabled=e,T._batchLocation=s,T.wrapMode=Zn.REPEAT,i.texArray.elements[i.texArray.count++]=T,s++)),i.size+=g.size,p+=g.size,u=T._batchLocation,this.addColors(r,x.color,x.alpha,g.attribSize,g.attribStart),this.addTextureIds(n,u,g.attribSize,g.attribStart)}Ae._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),a=new Float32Array(s),u=new Uint32Array(s);let h=0;for(let c=0;c<e.length/2;c++)a[h++]=e[c*2],a[h++]=e[c*2+1],a[h++]=r[c*2],a[h++]=r[c*2+1],u[h++]=n[c],a[h++]=i[c];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?pT.triangulate(e,this):Dp[e.type].triangulate(e,this)}processLine(e){cx(e,this);for(let r=0;r<e.holes.length;r++)cx(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];Dp[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const a=st.shared.setValue(r).toLittleEndianNumber(),u=st.shared.setValue(a).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let h=0;h<i;h++)e[s+h]=u}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,a=null){let u=0;const h=r.length,c=n.frame;for(;u<s;){let y=e[(i+u)*2],g=e[(i+u)*2+1];if(a){const v=a.a*y+a.c*g+a.tx;g=a.b*y+a.d*g+a.ty,y=v}u++,r.push(y/c.width,g/c.height)}const p=n.baseTexture;(c.width<p.width||c.height<p.height)&&this.adjustUvs(r,n,h,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,a=1e-6,u=n+i*2,h=r.frame,c=h.width/s.width,p=h.height/s.height;let y=h.x/h.width,g=h.y/h.height,v=Math.floor(e[n]+a),x=Math.floor(e[n+1]+a);for(let T=n+2;T<u;T+=2)v=Math.min(v,Math.floor(e[T]+a)),x=Math.min(x,Math.floor(e[T+1]+a));y-=v,g-=x;for(let T=n;T<u;T+=2)e[T]=(e[T]+y)*c,e[T+1]=(e[T+1]+g)*p}};mT.BATCHABLE_SIZE=100;let hM=mT;class pd{constructor(){this.color=16777215,this.alpha=1,this.texture=ie.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new pd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ie.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class $y extends pd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ri.BUTT,this.join=kr.MITER,this.miterLimit=10}clone(){const e=new $y;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Ri.BUTT,this.join=kr.MITER,this.miterLimit=10}}const Up={},Sg=class Wh extends vr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new pd,this._lineStyle=new $y,this._matrix=null,this._holeMode=!1,this.state=Ln.for2d(),this._geometry=e||new hM,this._geometry.refCount++,this._transformID=-1,this._tintColor=new st(16777215),this.blendMode=ge.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Wh(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ie.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ri.BUTT,join:kr.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Is,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Is,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Gy.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,a){return this._initCurve(),zy.curveTo(e,r,n,i,s,a,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const a=this.currentPath.points,u=ux.curveTo(e,r,n,i,s,a);if(u){const{cx:h,cy:c,radius:p,startAngle:y,endAngle:g,anticlockwise:v}=u;this.arc(h,c,p,y,g,v)}return this}arc(e,r,n,i,s,a=!1){if(i===s)return this;if(!a&&s<=i?s+=Tc:a&&i<=s&&(i+=Tc),s-i===0)return this;const u=e+Math.cos(i)*n,h=r+Math.sin(i)*n,c=this._geometry.closePointEps;let p=this.currentPath?this.currentPath.points:null;if(p){const y=Math.abs(p[p.length-2]-u),g=Math.abs(p[p.length-1]-h);y<c&&g<c||p.push(u,h)}else this.moveTo(u,h),p=this.currentPath.points;return ux.arc(u,h,e,r,n,i,s,a,p),this}beginFill(e=0,r){return this.beginTextureFill({texture:ie.WHITE,color:e,alpha:r})}normalizeColor(e){const r=st.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ie.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Ce(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new ad(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new sd(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new od(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Is(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Nt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],a=s.style.color,u=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),p={vertexData:u,blendMode:r,indices:c,uvs:h,_batchRGB:st.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=p}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,a=n.drawCalls;s.translationMatrix=this.transform.worldTransform,st.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let u=0,h=a.length;u<h;u++)this._renderDrawCallDirect(e,n.drawCalls[u])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:a}=r,u=n.count;for(let h=0;h<u;h++)e.texture.bind(n.elements[h],h);e.geometry.draw(i,s,a)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!Up[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let h=0;h<i;h++)s[h]=h;const a={tint:new Float32Array([1,1,1,1]),translationMatrix:new et,default:an.from({uSamplers:s},!0)},u=e.plugins[n]._shader.program;Up[n]=new Mn(u,a)}r=Up[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Wh._TEMP_POINT),this._geometry.containsPoint(Wh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=st.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,a=r.d,u=r.tx,h=r.ty,c=this._geometry.points,p=this.vertexData;let y=0;for(let g=0;g<c.length;g+=2){const v=c[g],x=c[g+1];p[y++]=n*v+s*x+u,p[y++]=a*x+i*v+h}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Sg.curves=ta,Sg._TEMP_POINT=new He;let zp=Sg;class cM extends dd{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,a=this.segHeight-1,u=this.width/s,h=this.height/a;for(let p=0;p<e;p++){const y=p%this.segWidth,g=p/this.segWidth|0;r.push(y*u,g*h),n.push(y/s,g/a)}const c=s*a;for(let p=0;p<c;p++){const y=p%s,g=p/s|0,v=g*this.segWidth+y,x=g*this.segWidth+y+1,T=(g+1)*this.segWidth+y,E=(g+1)*this.segWidth+y+1;i.push(v,x,T,x,E,T)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class dM extends dd{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,a=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,h=e[0];const c=this._width*this.textureScale,p=e.length;for(let g=0;g<p;g++){const v=g*4;if(this.textureScale>0){const x=h.x-e[g].x,T=h.y-e[g].y,E=Math.sqrt(x*x+T*T);h=e[g],u+=E/c}else u=g/(p-1);s[v]=u,s[v+1]=0,s[v+2]=u,s[v+3]=1}let y=0;for(let g=0;g<p-1;g++){const v=g*2;a[y++]=v,a[y++]=v+1,a[y++]=v+2,a[y++]=v+2,a[y++]=v+1,a[y++]=v+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const a=this.buffers[0].data,u=e.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<u;c++){const p=e[c],y=c*4;c<e.length-1?n=e[c+1]:n=p,s=-(n.x-r.x),i=n.y-r.y;const g=Math.sqrt(i*i+s*s);g<1e-6?(i=0,s=0):(i/=g,s/=g,i*=h,s*=h),a[y]=p.x+i,a[y+1]=p.y+s,a[y+2]=p.x-i,a[y+3]=p.y-s,r=p}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class fM extends Bl{constructor(e,r,n){const i=new cM(e.width,e.height,r,n),s=new Dl(ie.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const yh=10;class pM extends fM{constructor(e,r,n,i,s){var a,u,h,c;super(ie.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((a=e.defaultBorders)==null?void 0:a.left)??yh,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??yh,this._topHeight=n??((h=e.defaultBorders)==null?void 0:h.top)??yh,this._bottomHeight=s??((c=e.defaultBorders)==null?void 0:c.bottom)??yh,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class mM extends Bl{constructor(e=ie.EMPTY,r,n,i,s){const a=new dd(r,n,i);a.getBuffer("aVertexPosition").static=!1;const u=new Dl(e);super(a,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class gM extends Bl{constructor(e,r,n=0){const i=new dM(e.height,r,n),s=new Dl(e);n>0&&(e.baseTexture.wrapMode=Zn.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class yM extends vr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ge.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new st(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class fx{constructor(e,r,n){this.geometry=new $i,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ve.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new ut(k2(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let a=0;a<this.dynamicProperties.length;++a){const u=this.dynamicProperties[a];u.offset=r,r+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new ut(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let a=0;a<this.staticProperties.length;++a){const u=this.staticProperties[a];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ut(this.staticData,!0,!1);for(let a=0;a<this.dynamicProperties.length;++a){const u=this.dynamicProperties[a];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===ve.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let a=0;a<this.staticProperties.length;++a){const u=this.staticProperties[a];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===ve.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ve.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ve.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var vM=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,_M=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class yT extends ud{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new et,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ve.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Mn.from(_M,vM,{}),this.state=Ln.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let a=r.length;if(a===0)return;a>n&&!e.autoResize&&(a=n);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const h=r[0]._texture.baseTexture,c=h.alphaMode>0;this.state.blendMode=vb(e.blendMode,c),s.state.set(this.state);const p=s.gl,y=e.worldTransform.copyTo(this.tempMatrix);y.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=st.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let g=!1;for(let v=0,x=0;v<a;v+=i,x+=1){let T=a-v;T>i&&(T=i),x>=u.length&&u.push(this._generateOneMoreBuffer(e));const E=u[x];E.uploadDynamic(r,v,T);const w=e._bufferUpdateIDs[x]||0;g=g||E._updateID<w,g&&(E._updateID=e._updateID,E.uploadStatic(r,v,T)),s.geometry.bind(E.geometry),p.drawElements(p.TRIANGLES,T*6,p.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let a=0;a<n;a+=i)r.push(new fx(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new fx(this.properties,n,r)}uploadVertices(e,r,n,i,s,a){let u=0,h=0,c=0,p=0;for(let y=0;y<n;++y){const g=e[r+y],v=g._texture,x=g.scale.x,T=g.scale.y,E=v.trim,w=v.orig;E?(h=E.x-g.anchor.x*w.width,u=h+E.width,p=E.y-g.anchor.y*w.height,c=p+E.height):(u=w.width*(1-g.anchor.x),h=w.width*-g.anchor.x,c=w.height*(1-g.anchor.y),p=w.height*-g.anchor.y),i[a]=h*x,i[a+1]=p*T,i[a+s]=u*x,i[a+s+1]=p*T,i[a+s*2]=u*x,i[a+s*2+1]=c*T,i[a+s*3]=h*x,i[a+s*3+1]=c*T,a+=s*4}}uploadPosition(e,r,n,i,s,a){for(let u=0;u<n;u++){const h=e[r+u].position;i[a]=h.x,i[a+1]=h.y,i[a+s]=h.x,i[a+s+1]=h.y,i[a+s*2]=h.x,i[a+s*2+1]=h.y,i[a+s*3]=h.x,i[a+s*3+1]=h.y,a+=s*4}}uploadRotation(e,r,n,i,s,a){for(let u=0;u<n;u++){const h=e[r+u].rotation;i[a]=h,i[a+s]=h,i[a+s*2]=h,i[a+s*3]=h,a+=s*4}}uploadUvs(e,r,n,i,s,a){for(let u=0;u<n;++u){const h=e[r+u]._texture._uvs;h?(i[a]=h.x0,i[a+1]=h.y0,i[a+s]=h.x1,i[a+s+1]=h.y1,i[a+s*2]=h.x2,i[a+s*2+1]=h.y2,i[a+s*3]=h.x3,i[a+s*3+1]=h.y3,a+=s*4):(i[a]=0,i[a+1]=0,i[a+s]=0,i[a+s+1]=0,i[a+s*2]=0,i[a+s*2+1]=0,i[a+s*3]=0,i[a+s*3+1]=0,a+=s*4)}}uploadTint(e,r,n,i,s,a){for(let u=0;u<n;++u){const h=e[r+u],c=st.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);i[a]=c,i[a+s]=c,i[a+s*2]=c,i[a+s*3]=c,a+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}yT.extension={name:"particle",type:se.RendererPlugin};me.add(yT);class Ul extends zs{constructor(e,r=!0){super(e[0]instanceof ie?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(pr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(pr.shared.add(this.update,this,Ll.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ie.from(e[n]));return new Ul(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ie.from(e[n]));return new Ul(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ie)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(pr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(pr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const $a=new He;class jy extends zs{constructor(e,r=100,n=100){super(e),this.tileTransform=new ld,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Ly(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ce),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,$a);const r=this._width,n=this._height,i=-r*this.anchor._x;if($a.x>=i&&$a.x<i+r){const s=-n*this.anchor._y;if($a.y>=s&&$a.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ie?e:ie.from(e,r);return new jy(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var xM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,wM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,SM=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,px=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,bM=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const vh=new et;class vT extends ud{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new Nb,this.state=Ln.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Mn.from(px,bM,r),this.shader=e.context.webGLVersion>1?Mn.from(wM,xM,r):Mn.from(px,SM,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-a,i[2]=i[4]=1-s,i[5]=i[7]=1-a,n.invalidate();const u=e._texture,h=u.baseTexture,c=h.alphaMode>0,p=e.tileTransform.localTransform,y=e.uvMatrix;let g=h.isPowerOfTwo&&u.frame.width===h.width&&u.frame.height===h.height;g&&(h._glTextures[r.CONTEXT_UID]?g=h.wrapMode!==Zn.CLAMP:h.wrapMode===Zn.CLAMP&&(h.wrapMode=Zn.REPEAT));const v=g?this.simpleShader:this.shader,x=u.width,T=u.height,E=e._width,w=e._height;vh.set(p.a*x/E,p.b*x/w,p.c*T/E,p.d*T/w,p.tx/E,p.ty/w),vh.invert(),g?vh.prepend(y.mapCoord):(v.uniforms.uMapCoord=y.mapCoord.toArray(!0),v.uniforms.uClampFrame=y.uClampFrame,v.uniforms.uClampOffset=y.uClampOffset),v.uniforms.uTransform=vh.toArray(!0),v.uniforms.uColor=st.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),v.uniforms.uSampler=u,r.shader.bind(v),r.geometry.bind(n),this.state.blendMode=vb(e.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}vT.extension={name:"tilingSprite",type:se.RendererPlugin};me.add(vT);const _T=class bg{constructor(e){this.stage=new vr,e=Object.assign({forceCanvas:!1},e),this.renderer=Vk(e),bg._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=bg._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};_T._plugins=[];let md=_T;me.handleByList(se.Application,md._plugins);class xT{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}xT.extension=se.Application;me.add(xT);var wT={exports:{}},TM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EM=TM,AM=EM;function ST(){}function bT(){}bT.resetWarningCache=ST;var CM=function(){function t(n,i,s,a,u,h){if(h!==AM){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bT,resetWarningCache:ST};return r.PropTypes=r,r};wT.exports=CM();var IM=wT.exports,$e=Dc(IM);function gr(t){return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(t)}function TT(t){var e=function(r,n){if(gr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(gr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return gr(e)==="symbol"?e:String(e)}function lt(t,e,r){return(e=TT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ii(t){return function(e){if(Array.isArray(e))return Gp(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Gp(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gp(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ot(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var RM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kM=function(t){return t==null};function Za(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=ii(t);else{if(t===null||gr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!kM(r)&&!isNaN(r)}).map(Number)}function mx(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function $p(t){return t instanceof He||t instanceof In}var Oc=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function jp(t,e,r){if($p(t[e])&&$p(r))t[e].copyFrom(r);else if($p(t[e])){var n=Za(r);ot(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),gr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var uo,ET=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},AT=function(t){return function(){return!t.apply(void 0,arguments)}},Tg="children",NM=(lt(uo={},Tg,!0),lt(uo,"parent",!0),lt(uo,"worldAlpha",!0),lt(uo,"worldTransform",!0),lt(uo,"worldVisible",!0),uo),Eg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Fn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var h,c;u==null||(h=u.__reactpixi)===null||h===void 0||(c=h.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,h){if(r.hasOwnProperty(u))return ot(h.typeofs.some(function(c){return gr(r[u])===c})||h.instanceofs.some(function(c){return r[u]instanceof c}),"".concat(t," ").concat(u," prop is invalid")),r[u]};if(r.texture)return ot(r.texture instanceof ie,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ie]});ot(!!s,"".concat(t," could not get texture from props"));var a=ie.from(s);return a.__reactpixi={root:e},a.once("update",n),a.once("loaded",n),a.valid&&n(a),a},MM=AT(ET([].concat(ii(Object.keys(NM)),ii(Oc))));function On(t,e,r){var n=!1;if(ot(Os.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",gr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",a=0;a<Oc.length;a++){var u=Oc[a];e[u]!==r[u]&&(n=!0,typeof e[u]=="function"&&i&&t.removeListener(u,e[u]),typeof r[u]=="function"&&s&&t.on(u,r[u]))}var h=Object.keys(r||{});if(r.overwriteProps){for(var c=0;c<h.length;c++){var p=h[c];e[p]!==r[p]&&(n=!0,jp(t,p,r[p]))}return n}for(var y=h.filter(MM),g=0;g<y.length;g++){var v=y[g],x=r[v];r[v]!==e[v]&&(n=!0),x!==void 0?jp(t,v,x):v in Eg?(console.warn("setting default value: ".concat(v,", from: ").concat(t[v]," to: ").concat(x," for"),t),n=!0,jp(t,v,Eg[v])):console.warn("ignoring prop: ".concat(v,", from ").concat(t[v]," to ").concat(x," for"),t)}return n}var FM=function(t,e){var r=e.text,n=e.style;return new fN(r,n)},OM=function(){return new vr};function Qi(t,e){if(t==null)return{};var r,n,i=function(a,u){if(a==null)return{};var h,c,p={},y=Object.keys(a);for(c=0;c<y.length;c++)h=y[c],u.indexOf(h)>=0||(p[h]=a[h]);return p}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var LM=["draw","geometry"],BM=function(t,e){var r=e.geometry;ot(!r||r instanceof zp,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new zp(r.geometry):new zp;return n.applyProps=function(i,s,a){var u=a.draw;a.geometry;var h=On(i,s,Qi(a,LM));return s.draw!==u&&typeof u=="function"&&(h=!0,u.call(n,n)),h},n},DM=["image","texture"],UM=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,a=e.rightWidth,u=a===void 0?10:a,h=e.bottomHeight,c=h===void 0?10:h,p=Fn("NineSlicePlane",t,e),y=new pM(p,n,s,u,c);return y.applyProps=function(g,v,x){var T=x.image,E=x.texture,w=On(g,v,Qi(x,DM));return(T||E)&&(E!==v.texture&&(w=!0),g.texture=Fn("NineSlicePlane",t,x)),w},y};function gx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _h(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gx(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zM=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,a=e.autoResize,u=a!==void 0&&a,h=_h(_h({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),c=_h(_h({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),p=new yM(n,h,s,u);return p.willUnmount=function(y,g,v){y.destroy(c)},p},GM=["image","texture"],$M=function(t,e){var r=new zs(Fn("Sprite",t,e));return r.applyProps=function(n,i,s){var a=s.image,u=s.texture,h=On(n,i,Qi(s,GM));return(u&&i.texture!==s.texture||a&&i.image!==s.image)&&(i.texture!==s.texture&&(h=!0),n.texture=Fn("Sprite",t,s)),h},r},jM=["textures","isPlaying","initialFrame","images"],HM=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,a=e.initialFrame,u=function(c){return c.map(function(p){return ot(p instanceof ie||(p==null?void 0:p.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),p})},h=n?Ul.fromImages(n):new Ul(u(r));return h[s?"gotoAndPlay":"gotoAndStop"](a||0),h.applyProps=function(c,p,y){var g=y.textures,v=y.isPlaying,x=y.initialFrame,T=y.images,E=On(c,p,Qi(y,jM));if(T&&p.images!==T){for(var w=[],b=0;b<T.length;++b)w.push(ie.from(T[b]));c.textures=w,E=!0}if(g&&p.textures!==g&&(c.textures=u(g),E=!0),v!==p.isPlaying||x!==p.initialFrame){var S=typeof x=="number"?x:h.currentFrame||0;h[v?"gotoAndPlay":"gotoAndStop"](S),E=!0}return E},h},VM=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,a=e.isSprite,u=new nN(n,s);return a?(u.updateText(),new zs(u.texture)):u},WM=["tileScale","tilePosition","image","texture"],XM=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,a=Fn("TilingSprite",t,e),u=new jy(a,n,s);return u.applyProps=function(h,c,p){var y=p.tileScale,g=p.tilePosition,v=p.image,x=p.texture,T=On(h,c,Qi(p,WM));if(g){var E,w=Za(g);(E=h.tilePosition).set.apply(E,ii(w)),T=!mx(Za(c.tilePosition),w)||T}if(y){var b,S=Za(y);(b=h.tileScale).set.apply(b,ii(S)),T=!mx(Za(c.tileScale),S)||T}return(v||x)&&(x!==c.texture&&(T=!0),h.texture=Fn("Sprite",t,p)),T},u},YM=["image","texture"],QM=function(t,e){var r=Fn("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,a=e.drawMode,u=a===void 0?tn.TRIANGLES:a,h=new mM(r,n,i,s,u);return h.applyProps=function(c,p,y){var g=y.image,v=y.texture,x=On(c,p,Qi(y,YM));return(g||v)&&(v!==p.texture&&(x=!0),c.texture=Fn("Mesh",t,y)),x},h},qM=["image","texture"],KM=function(t,e){var r=Fn("SimpleRope",t,e),n=e.points,i=new gM(r,n);return i.applyProps=function(s,a,u){var h=u.image,c=u.texture,p=Qi(u,qM);ot(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var y=On(s,a,p);return(h||c)&&(c!==a.texture&&(y=!0),s.texture=Fn("SimpleRope",t,u)),y},i},ZM=Object.freeze({__proto__:null,BitmapText:FM,Container:OM,Graphics:BM,NineSlicePlane:UM,ParticleContainer:zM,Sprite:$M,Text:VM,TilingSprite:XM,SimpleMesh:QM,SimpleRope:KM,AnimatedSprite:HM});function yx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yx(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var or={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},JM=Object.keys(or).reduce(function(t,e){return vx(vx({},t),{},lt({},e,ZM[e]))},{}),CT={};function eF(t,e){return ot(!!t,"Expect type to be defined, got `%s`",t),ot(!or[t],"Component `%s` could not be created, already exists in default components.",t),CT[t]=e,t}var _x,xx,wx,Sx,Ag={},Cg={},tF={get exports(){return Cg},set exports(t){Cg=t}},bx={};function rF(){return xx||(xx=1,tF.exports=(_x||(_x=1,function(t){function e(R,H){var F=R.length;R.push(H);e:for(;0<F;){var z=F-1>>>1,J=R[z];if(!(0<i(J,H)))break e;R[z]=H,R[F]=J,F=z}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var H=R[0],F=R.pop();if(F!==H){R[0]=F;e:for(var z=0,J=R.length,_e=J>>>1;z<_e;){var ye=2*(z+1)-1,Fe=R[ye],we=ye+1,Me=R[we];if(0>i(Fe,F))we<J&&0>i(Me,Fe)?(R[z]=Me,R[we]=F,z=we):(R[z]=Fe,R[ye]=F,z=ye);else{if(!(we<J&&0>i(Me,F)))break e;R[z]=Me,R[we]=F,z=we}}}return H}function i(R,H){var F=R.sortIndex-H.sortIndex;return F!==0?F:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],c=[],p=1,y=null,g=3,v=!1,x=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function S(R){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else{if(!(H.startTime<=R))break;n(c),H.sortIndex=H.expirationTime,e(h,H)}H=r(c)}}function C(R){if(T=!1,S(R),!x)if(r(h)!==null)x=!0,pe(k);else{var H=r(c);H!==null&&he(C,H.startTime-R)}}function k(R,H){x=!1,T&&(T=!1,w(W),W=-1),v=!0;var F=g;try{for(S(H),y=r(h);y!==null&&(!(y.expirationTime>H)||R&&!K());){var z=y.callback;if(typeof z=="function"){y.callback=null,g=y.priorityLevel;var J=z(y.expirationTime<=H);H=t.unstable_now(),typeof J=="function"?y.callback=J:y===r(h)&&n(h),S(H)}else n(h);y=r(h)}if(y!==null)var _e=!0;else{var ye=r(c);ye!==null&&he(C,ye.startTime-H),_e=!1}return _e}finally{y=null,g=F,v=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L,O=!1,N=null,W=-1,X=5,fe=-1;function K(){return!(t.unstable_now()-fe<X)}function D(){if(N!==null){var R=t.unstable_now();fe=R;var H=!0;try{H=N(!0,R)}finally{H?L():(O=!1,N=null)}}else O=!1}if(typeof b=="function")L=function(){b(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ue=q.port2;q.port1.onmessage=D,L=function(){ue.postMessage(null)}}else L=function(){E(D,0)};function pe(R){N=R,O||(O=!0,L())}function he(R,H){W=E(function(){R(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,pe(k))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(R){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var F=g;g=H;try{return R()}finally{g=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=g;g=R;try{return H()}finally{g=F}},t.unstable_scheduleCallback=function(R,H,F){var z=t.unstable_now();switch(F=typeof F=="object"&&F!==null&&typeof(F=F.delay)=="number"&&0<F?z+F:z,R){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return R={id:p++,callback:H,priorityLevel:R,startTime:F,expirationTime:J=F+J,sortIndex:-1},F>z?(R.sortIndex=F,e(c,R),r(h)===null&&R===r(c)&&(T?(w(W),W=-1):T=!0,he(C,F-z))):(R.sortIndex=J,e(h,R),x||v||(x=!0,pe(k))),R},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(R){var H=g;return function(){var F=g;g=H;try{return R.apply(this,arguments)}finally{g=F}}}}(bx)),bx)),Cg}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nF(){return Sx||(Sx=1,wx=function(t){var e={},r=Rn,n=rF(),i=Object.assign;function s(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),h=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),C=Symbol.iterator;function k(o){return o===null||typeof o!="object"?null:typeof(o=C&&o[C]||o["@@iterator"])=="function"?o:null}function L(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case c:return"Fragment";case h:return"Portal";case y:return"Profiler";case p:return"StrictMode";case T:return"Suspense";case E:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case v:return(o.displayName||"Context")+".Consumer";case g:return(o._context.displayName||"Context")+".Provider";case x:var l=o.render;return(o=o.displayName)||(o=(o=l.displayName||l.name||"")!==""?"ForwardRef("+o+")":"ForwardRef"),o;case w:return(l=o.displayName||null)!==null?l:L(o.type)||"Memo";case b:l=o._payload,o=o._init;try{return L(o(l))}catch{}}return null}function O(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=(o=l.render).displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(l);case 8:return l===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function N(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do 4098&(l=o).flags&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function W(o){if(N(o)!==o)throw Error(s(188))}function X(o){var l=o.alternate;if(!l){if((l=N(o))===null)throw Error(s(188));return l!==o?null:o}for(var d=o,f=l;;){var m=d.return;if(m===null)break;var _=m.alternate;if(_===null){if((f=m.return)!==null){d=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===d)return W(m),o;if(_===f)return W(m),l;_=_.sibling}throw Error(s(188))}if(d.return!==f.return)d=m,f=_;else{for(var A=!1,I=m.child;I;){if(I===d){A=!0,d=m,f=_;break}if(I===f){A=!0,f=m,d=_;break}I=I.sibling}if(!A){for(I=_.child;I;){if(I===d){A=!0,d=_,f=m;break}if(I===f){A=!0,f=_,d=m;break}I=I.sibling}if(!A)throw Error(s(189))}}if(d.alternate!==f)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?o:l}function fe(o){return(o=X(o))!==null?K(o):null}function K(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=K(o);if(l!==null)return l;o=o.sibling}return null}function D(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){if(o.tag!==4){var l=D(o);if(l!==null)return l}o=o.sibling}return null}var q,ue=Array.isArray,pe=t.getPublicInstance,he=t.getRootHostContext,R=t.getChildHostContext,H=t.prepareForCommit,F=t.resetAfterCommit,z=t.createInstance,J=t.appendInitialChild,_e=t.finalizeInitialChildren,ye=t.prepareUpdate,Fe=t.shouldSetTextContent,we=t.createTextInstance,Me=t.scheduleTimeout,vt=t.cancelTimeout,It=t.noTimeout,rt=t.isPrimaryRenderer,Se=t.supportsMutation,ze=t.supportsPersistence,Re=t.supportsHydration,wr=t.getInstanceFromNode,Sr=t.preparePortalMount,qi=t.getCurrentEventPriority,yd=t.detachDeletedInstance,Gs=t.supportsMicrotasks,LT=t.scheduleMicrotask,la=t.supportsTestSelectors,BT=t.findFiberRoot,DT=t.getBoundingRect,UT=t.getTextContent,ua=t.isHiddenSubtree,zT=t.matchAccessibilityRole,GT=t.setFocusIfFocusable,$T=t.setupIntersectionObserver,jT=t.appendChild,HT=t.appendChildToContainer,VT=t.commitTextUpdate,WT=t.commitMount,XT=t.commitUpdate,YT=t.insertBefore,QT=t.insertInContainerBefore,qT=t.removeChild,KT=t.removeChildFromContainer,Hy=t.resetTextContent,ZT=t.hideInstance,JT=t.hideTextInstance,eE=t.unhideInstance,tE=t.unhideTextInstance,rE=t.clearContainer,nE=t.cloneInstance,Vy=t.createContainerChildSet,Wy=t.appendChildToContainerChildSet,iE=t.finalizeContainerChildren,vd=t.replaceContainerChildren,Xy=t.cloneHiddenInstance,Yy=t.cloneHiddenTextInstance,sE=t.canHydrateInstance,oE=t.canHydrateTextInstance,aE=t.canHydrateSuspenseInstance,Qy=t.isSuspenseInstancePending,_d=t.isSuspenseInstanceFallback,lE=t.getSuspenseInstanceFallbackErrorDetails,uE=t.registerSuspenseInstanceRetry,Xl=t.getNextHydratableSibling,hE=t.getFirstHydratableChild,cE=t.getFirstHydratableChildWithinContainer,dE=t.getFirstHydratableChildWithinSuspenseInstance,fE=t.hydrateInstance,pE=t.hydrateTextInstance,mE=t.hydrateSuspenseInstance,gE=t.getNextHydratableInstanceAfterSuspenseInstance,yE=t.commitHydratedContainer,vE=t.commitHydratedSuspenseInstance,_E=t.clearSuspenseBoundary,xE=t.clearSuspenseBoundaryFromContainer,wE=t.shouldDeleteUnhydratedTailInstances,SE=t.didNotMatchHydratedContainerTextInstance,bE=t.didNotMatchHydratedTextInstance;function ha(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var xd=!1;function wd(o,l){if(!o||xd)return"";xd=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(U){var f=U}Reflect.construct(o,[],l)}else{try{l.call()}catch(U){f=U}o.call(l.prototype)}else{try{throw Error()}catch(U){f=U}o()}}catch(U){if(U&&f&&typeof U.stack=="string"){for(var m=U.stack.split(`
`),_=f.stack.split(`
`),A=m.length-1,I=_.length-1;1<=A&&0<=I&&m[A]!==_[I];)I--;for(;1<=A&&0<=I;A--,I--)if(m[A]!==_[I]){if(A!==1||I!==1)do if(A--,0>--I||m[A]!==_[I]){var M=`
`+m[A].replace(" at new "," at ");return o.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",o.displayName)),M}while(1<=A&&0<=I);break}}}finally{xd=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?ha(o):""}var TE=Object.prototype.hasOwnProperty,Sd=[],$s=-1;function oi(o){return{current:o}}function Ve(o){0>$s||(o.current=Sd[$s],Sd[$s]=null,$s--)}function De(o,l){$s++,Sd[$s]=o.current,o.current=l}var ai={},Ot=oi(ai),Kt=oi(!1),Ki=ai;function js(o,l){var d=o.type.contextTypes;if(!d)return ai;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===l)return f.__reactInternalMemoizedMaskedChildContext;var m,_={};for(m in d)_[m]=l[m];return f&&((o=o.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=_),_}function ar(o){return(o=o.childContextTypes)!=null}function bd(){Ve(Kt),Ve(Ot)}function qy(o,l,d){if(Ot.current!==ai)throw Error(s(168));De(Ot,l),De(Kt,d)}function Ky(o,l,d){var f=o.stateNode;if(l=l.childContextTypes,typeof f.getChildContext!="function")return d;for(var m in f=f.getChildContext())if(!(m in l))throw Error(s(108,O(o)||"Unknown",m));return i({},d,f)}function Yl(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ai,Ki=Ot.current,De(Ot,o),De(Kt,Kt.current),!0}function Zy(o,l,d){var f=o.stateNode;if(!f)throw Error(s(169));d?(o=Ky(o,l,Ki),f.__reactInternalMemoizedMergedChildContext=o,Ve(Kt),Ve(Ot),De(Ot,o)):Ve(Kt),De(Kt,d)}var $r=Math.clz32?Math.clz32:function(o){return(o>>>=0)===0?32:31-(EE(o)/AE|0)|0},EE=Math.log,AE=Math.LN2,Td=64,Ed=4194304;function ca(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&o;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&o;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ql(o,l){var d=o.pendingLanes;if(d===0)return 0;var f=0,m=o.suspendedLanes,_=o.pingedLanes,A=268435455&d;if(A!==0){var I=A&~m;I!==0?f=ca(I):(_&=A)!==0&&(f=ca(_))}else(A=d&~m)!==0?f=ca(A):_!==0&&(f=ca(_));if(f===0)return 0;if(l!==0&&l!==f&&!(l&m)&&((m=f&-f)>=(_=l&-l)||m===16&&4194240&_))return l;if(4&f&&(f|=16&d),(l=o.entangledLanes)!==0)for(o=o.entanglements,l&=f;0<l;)m=1<<(d=31-$r(l)),f|=o[d],l&=~m;return f}function CE(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;default:return-1}}function Ad(o){return(o=-1073741825&o.pendingLanes)!==0?o:1073741824&o?1073741824:0}function Jy(){var o=Td;return!(4194240&(Td<<=1))&&(Td=64),o}function Cd(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function da(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),(o=o.eventTimes)[l=31-$r(l)]=d}function Id(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var f=31-$r(d),m=1<<f;m&l|o[f]&l&&(o[f]|=l),d&=~m}}var Pe=0;function e0(o){return 1<(o&=-o)?4<o?268435455&o?16:536870912:4:1}var Rd=n.unstable_scheduleCallback,t0=n.unstable_cancelCallback,IE=n.unstable_shouldYield,RE=n.unstable_requestPaint,_t=n.unstable_now,Pd=n.unstable_ImmediatePriority,PE=n.unstable_UserBlockingPriority,r0=n.unstable_NormalPriority,kE=n.unstable_IdlePriority,ql=null,un=null,jr=typeof Object.is=="function"?Object.is:function(o,l){return o===l&&(o!==0||1/o==1/l)||o!=o&&l!=l},Bn=null,Kl=!1,kd=!1;function n0(o){Bn===null?Bn=[o]:Bn.push(o)}function hn(){if(!kd&&Bn!==null){kd=!0;var o=0,l=Pe;try{var d=Bn;for(Pe=1;o<d.length;o++){var f=d[o];do f=f(!0);while(f!==null)}Bn=null,Kl=!1}catch(m){throw Bn!==null&&(Bn=Bn.slice(o+1)),Rd(Pd,hn),m}finally{Pe=l,kd=!1}}return null}var Hs=[],Vs=0,Zl=null,Jl=0,br=[],Tr=0,Zi=null,cn=1,Dn="";function Ji(o,l){Hs[Vs++]=Jl,Hs[Vs++]=Zl,Zl=o,Jl=l}function i0(o,l,d){br[Tr++]=cn,br[Tr++]=Dn,br[Tr++]=Zi,Zi=o;var f=cn;o=Dn;var m=32-$r(f)-1;f&=~(1<<m),d+=1;var _=32-$r(l)+m;if(30<_){var A=m-m%5;_=(f&(1<<A)-1).toString(32),f>>=A,m-=A,cn=1<<32-$r(l)+m|d<<m|f,Dn=_+o}else cn=1<<_|d<<m|f,Dn=o}function Nd(o){o.return!==null&&(Ji(o,1),i0(o,1,0))}function Md(o){for(;o===Zl;)Zl=Hs[--Vs],Hs[Vs]=null,Jl=Hs[--Vs],Hs[Vs]=null;for(;o===Zi;)Zi=br[--Tr],br[Tr]=null,Dn=br[--Tr],br[Tr]=null,cn=br[--Tr],br[Tr]=null}var lr=null,Er=null,We=!1,fa=!1,Hr=null;function s0(o,l){var d=Pr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,(l=o.deletions)===null?(o.deletions=[d],o.flags|=16):l.push(d)}function o0(o,l){switch(o.tag){case 5:return(l=sE(l,o.type,o.pendingProps))!==null&&(o.stateNode=l,lr=o,Er=hE(l),!0);case 6:return(l=oE(l,o.pendingProps))!==null&&(o.stateNode=l,lr=o,Er=null,!0);case 13:if((l=aE(l))!==null){var d=Zi!==null?{id:cn,overflow:Dn}:null;return o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},(d=Pr(18,null,null,0)).stateNode=l,d.return=o,o.child=d,lr=o,Er=null,!0}return!1;default:return!1}}function Fd(o){return(1&o.mode)!=0&&(128&o.flags)==0}function Od(o){if(We){var l=Er;if(l){var d=l;if(!o0(o,l)){if(Fd(o))throw Error(s(418));l=Xl(d);var f=lr;l&&o0(o,l)?s0(f,d):(o.flags=-4097&o.flags|2,We=!1,lr=o)}}else{if(Fd(o))throw Error(s(418));o.flags=-4097&o.flags|2,We=!1,lr=o}}}function a0(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;lr=o}function eu(o){if(!Re||o!==lr)return!1;if(!We)return a0(o),We=!0,!1;if(o.tag!==3&&(o.tag!==5||wE(o.type)&&!Fe(o.type,o.memoizedProps))){var l=Er;if(l){if(Fd(o))throw l0(),Error(s(418));for(;l;)s0(o,l),l=Xl(l)}}if(a0(o),o.tag===13){if(!Re)throw Error(s(316));if(!(o=(o=o.memoizedState)!==null?o.dehydrated:null))throw Error(s(317));Er=gE(o)}else Er=lr?Xl(o.stateNode):null;return!0}function l0(){for(var o=Er;o;)o=Xl(o)}function Ws(){Re&&(Er=lr=null,fa=We=!1)}function Ld(o){Hr===null?Hr=[o]:Hr.push(o)}var NE=a.ReactCurrentBatchConfig;function tu(o,l){if(jr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),f=Object.keys(l);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var m=d[f];if(!TE.call(l,m)||!jr(o[m],l[m]))return!1}return!0}function ME(o){switch(o.tag){case 5:return ha(o.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 2:case 15:return o=wd(o.type,!1);case 11:return o=wd(o.type.render,!1);case 1:return o=wd(o.type,!0);default:return""}}function Vr(o,l){if(o&&o.defaultProps){for(var d in l=i({},l),o=o.defaultProps)l[d]===void 0&&(l[d]=o[d]);return l}return l}var ru=oi(null),nu=null,Xs=null,Bd=null;function Dd(){Bd=Xs=nu=null}function u0(o,l,d){rt?(De(ru,l._currentValue),l._currentValue=d):(De(ru,l._currentValue2),l._currentValue2=d)}function Ud(o){var l=ru.current;Ve(ru),rt?o._currentValue=l:o._currentValue2=l}function zd(o,l,d){for(;o!==null;){var f=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),o===d)break;o=o.return}}function Ys(o,l){nu=o,Bd=Xs=null,(o=o.dependencies)!==null&&o.firstContext!==null&&(o.lanes&l&&(Zt=!0),o.firstContext=null)}function Ar(o){var l=rt?o._currentValue:o._currentValue2;if(Bd!==o)if(o={context:o,memoizedValue:l,next:null},Xs===null){if(nu===null)throw Error(s(308));Xs=o,nu.dependencies={lanes:0,firstContext:o}}else Xs=Xs.next=o;return l}var es=null;function Gd(o){es===null?es=[o]:es.push(o)}function h0(o,l,d,f){var m=l.interleaved;return m===null?(d.next=d,Gd(l)):(d.next=m.next,m.next=d),l.interleaved=d,dn(o,f)}function dn(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,(d=o.alternate)!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var li=!1;function $d(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c0(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Un(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function ui(o,l,d){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(2&Ee)!=0){var m=f.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),f.pending=l,dn(o,d)}return(m=f.interleaved)===null?(l.next=l,Gd(f)):(l.next=m.next,m.next=l),f.interleaved=l,dn(o,d)}function iu(o,l,d){if((l=l.updateQueue)!==null&&(l=l.shared,(4194240&d)!=0)){var f=l.lanes;d|=f&=o.pendingLanes,l.lanes=d,Id(o,d)}}function d0(o,l){var d=o.updateQueue,f=o.alternate;if(f!==null&&d===(f=f.updateQueue)){var m=null,_=null;if((d=d.firstBaseUpdate)!==null){do{var A={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?m=_=A:_=_.next=A,d=d.next}while(d!==null);_===null?m=_=l:_=_.next=l}else m=_=l;return d={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},void(o.updateQueue=d)}(o=d.lastBaseUpdate)===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function su(o,l,d,f){var m=o.updateQueue;li=!1;var _=m.firstBaseUpdate,A=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var M=I,U=M.next;M.next=null,A===null?_=U:A.next=U,A=M;var $=o.alternate;$!==null&&(I=($=$.updateQueue).lastBaseUpdate)!==A&&(I===null?$.firstBaseUpdate=U:I.next=U,$.lastBaseUpdate=M)}if(_!==null){var Z=m.baseState;for(A=0,$=U=M=null,I=_;;){var G=I.lane,Q=I.eventTime;if((f&G)===G){$!==null&&($=$.next={eventTime:Q,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var oe=o,xe=I;switch(G=l,Q=d,xe.tag){case 1:if(typeof(oe=xe.payload)=="function"){Z=oe.call(Q,Z,G);break e}Z=oe;break e;case 3:oe.flags=-65537&oe.flags|128;case 0:if((G=typeof(oe=xe.payload)=="function"?oe.call(Q,Z,G):oe)==null)break e;Z=i({},Z,G);break e;case 2:li=!0}}I.callback!==null&&I.lane!==0&&(o.flags|=64,(G=m.effects)===null?m.effects=[I]:G.push(I))}else Q={eventTime:Q,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},$===null?(U=$=Q,M=Z):$=$.next=Q,A|=G;if((I=I.next)===null){if((I=m.shared.pending)===null)break;I=(G=I).next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}if($===null&&(M=Z),m.baseState=M,m.firstBaseUpdate=U,m.lastBaseUpdate=$,(l=m.shared.interleaved)!==null){m=l;do A|=m.lane,m=m.next;while(m!==l)}else _===null&&(m.shared.lanes=0);rs|=A,o.lanes=A,o.memoizedState=Z}}function f0(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var f=o[l],m=f.callback;if(m!==null){if(f.callback=null,f=d,typeof m!="function")throw Error(s(191,m));m.call(f)}}}var p0=new r.Component().refs;function jd(o,l,d,f){d=(d=d(f,l=o.memoizedState))==null?l:i({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var ou={isMounted:function(o){return!!(o=o._reactInternals)&&N(o)===o},enqueueSetState:function(o,l,d){o=o._reactInternals;var f=Dt(),m=fi(o),_=Un(f,m);_.payload=l,d!=null&&(_.callback=d),(l=ui(o,_,m))!==null&&(Rr(l,o,m,f),iu(l,o,m))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var f=Dt(),m=fi(o),_=Un(f,m);_.tag=1,_.payload=l,d!=null&&(_.callback=d),(l=ui(o,_,m))!==null&&(Rr(l,o,m,f),iu(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Dt(),f=fi(o),m=Un(d,f);m.tag=2,l!=null&&(m.callback=l),(l=ui(o,m,f))!==null&&(Rr(l,o,f,d),iu(l,o,f))}};function m0(o,l,d,f,m,_,A){return typeof(o=o.stateNode).shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,_,A):!l.prototype||!l.prototype.isPureReactComponent||!tu(d,f)||!tu(m,_)}function g0(o,l,d){var f=!1,m=ai,_=l.contextType;return typeof _=="object"&&_!==null?_=Ar(_):(m=ar(l)?Ki:Ot.current,_=(f=(f=l.contextTypes)!=null)?js(o,m):ai),l=new l(d,_),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ou,o.stateNode=l,l._reactInternals=o,f&&((o=o.stateNode).__reactInternalMemoizedUnmaskedChildContext=m,o.__reactInternalMemoizedMaskedChildContext=_),l}function y0(o,l,d,f){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,f),l.state!==o&&ou.enqueueReplaceState(l,l.state,null)}function Hd(o,l,d,f){var m=o.stateNode;m.props=d,m.state=o.memoizedState,m.refs=p0,$d(o);var _=l.contextType;typeof _=="object"&&_!==null?m.context=Ar(_):(_=ar(l)?Ki:Ot.current,m.context=js(o,_)),m.state=o.memoizedState,typeof(_=l.getDerivedStateFromProps)=="function"&&(jd(o,l,_,d),m.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(l=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),l!==m.state&&ou.enqueueReplaceState(m,m.state,null),su(o,d,m,f),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308)}function pa(o,l,d){if((o=d.ref)!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var f=d.stateNode}if(!f)throw Error(s(147,o));var m=f,_=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(A){var I=m.refs;I===p0&&(I=m.refs={}),A===null?delete I[_]:I[_]=A},l._stringRef=_,l)}if(typeof o!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,o))}return o}function au(o,l){throw o=Object.prototype.toString.call(l),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function v0(o){return(0,o._init)(o._payload)}function _0(o){function l(j,P){if(o){var B=j.deletions;B===null?(j.deletions=[P],j.flags|=16):B.push(P)}}function d(j,P){if(!o)return null;for(;P!==null;)l(j,P),P=P.sibling;return null}function f(j,P){for(j=new Map;P!==null;)P.key!==null?j.set(P.key,P):j.set(P.index,P),P=P.sibling;return j}function m(j,P){return(j=mi(j,P)).index=0,j.sibling=null,j}function _(j,P,B){return j.index=B,o?(B=j.alternate)!==null?(B=B.index)<P?(j.flags|=2,P):B:(j.flags|=2,P):(j.flags|=1048576,P)}function A(j){return o&&j.alternate===null&&(j.flags|=2),j}function I(j,P,B,V){return P===null||P.tag!==6?((P=kf(B,j.mode,V)).return=j,P):((P=m(P,B)).return=j,P)}function M(j,P,B,V){var de=B.type;return de===c?$(j,P,B.props.children,V,B.key):P!==null&&(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&v0(de)===P.type)?((V=m(P,B.props)).ref=pa(j,P,B),V.return=j,V):((V=Mu(B.type,B.key,B.props,null,j.mode,V)).ref=pa(j,P,B),V.return=j,V)}function U(j,P,B,V){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?((P=Nf(B,j.mode,V)).return=j,P):((P=m(P,B.children||[])).return=j,P)}function $(j,P,B,V,de){return P===null||P.tag!==7?((P=ss(B,j.mode,V,de)).return=j,P):((P=m(P,B)).return=j,P)}function Z(j,P,B){if(typeof P=="string"&&P!==""||typeof P=="number")return(P=kf(""+P,j.mode,B)).return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case u:return(B=Mu(P.type,P.key,P.props,null,j.mode,B)).ref=pa(j,null,P),B.return=j,B;case h:return(P=Nf(P,j.mode,B)).return=j,P;case b:return Z(j,(0,P._init)(P._payload),B)}if(ue(P)||k(P))return(P=ss(P,j.mode,B,null)).return=j,P;au(j,P)}return null}function G(j,P,B,V){var de=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return de!==null?null:I(j,P,""+B,V);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return B.key===de?M(j,P,B,V):null;case h:return B.key===de?U(j,P,B,V):null;case b:return G(j,P,(de=B._init)(B._payload),V)}if(ue(B)||k(B))return de!==null?null:$(j,P,B,V,null);au(j,B)}return null}function Q(j,P,B,V,de){if(typeof V=="string"&&V!==""||typeof V=="number")return I(P,j=j.get(B)||null,""+V,de);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case u:return M(P,j=j.get(V.key===null?B:V.key)||null,V,de);case h:return U(P,j=j.get(V.key===null?B:V.key)||null,V,de);case b:return Q(j,P,B,(0,V._init)(V._payload),de)}if(ue(V)||k(V))return $(P,j=j.get(B)||null,V,de,null);au(P,V)}return null}function oe(j,P,B,V){for(var de=null,Oe=null,ae=P,ke=P=0,Pt=null;ae!==null&&ke<B.length;ke++){ae.index>ke?(Pt=ae,ae=null):Pt=ae.sibling;var Le=G(j,ae,B[ke],V);if(Le===null){ae===null&&(ae=Pt);break}o&&ae&&Le.alternate===null&&l(j,ae),P=_(Le,P,ke),Oe===null?de=Le:Oe.sibling=Le,Oe=Le,ae=Pt}if(ke===B.length)return d(j,ae),We&&Ji(j,ke),de;if(ae===null){for(;ke<B.length;ke++)(ae=Z(j,B[ke],V))!==null&&(P=_(ae,P,ke),Oe===null?de=ae:Oe.sibling=ae,Oe=ae);return We&&Ji(j,ke),de}for(ae=f(j,ae);ke<B.length;ke++)(Pt=Q(ae,j,ke,B[ke],V))!==null&&(o&&Pt.alternate!==null&&ae.delete(Pt.key===null?ke:Pt.key),P=_(Pt,P,ke),Oe===null?de=Pt:Oe.sibling=Pt,Oe=Pt);return o&&ae.forEach(function(gi){return l(j,gi)}),We&&Ji(j,ke),de}function xe(j,P,B,V){var de=k(B);if(typeof de!="function")throw Error(s(150));if((B=de.call(B))==null)throw Error(s(151));for(var Oe=de=null,ae=P,ke=P=0,Pt=null,Le=B.next();ae!==null&&!Le.done;ke++,Le=B.next()){ae.index>ke?(Pt=ae,ae=null):Pt=ae.sibling;var gi=G(j,ae,Le.value,V);if(gi===null){ae===null&&(ae=Pt);break}o&&ae&&gi.alternate===null&&l(j,ae),P=_(gi,P,ke),Oe===null?de=gi:Oe.sibling=gi,Oe=gi,ae=Pt}if(Le.done)return d(j,ae),We&&Ji(j,ke),de;if(ae===null){for(;!Le.done;ke++,Le=B.next())(Le=Z(j,Le.value,V))!==null&&(P=_(Le,P,ke),Oe===null?de=Le:Oe.sibling=Le,Oe=Le);return We&&Ji(j,ke),de}for(ae=f(j,ae);!Le.done;ke++,Le=B.next())(Le=Q(ae,j,ke,Le.value,V))!==null&&(o&&Le.alternate!==null&&ae.delete(Le.key===null?ke:Le.key),P=_(Le,P,ke),Oe===null?de=Le:Oe.sibling=Le,Oe=Le);return o&&ae.forEach(function(nA){return l(j,nA)}),We&&Ji(j,ke),de}return function j(P,B,V,de){if(typeof V=="object"&&V!==null&&V.type===c&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case u:e:{for(var Oe=V.key,ae=B;ae!==null;){if(ae.key===Oe){if((Oe=V.type)===c){if(ae.tag===7){d(P,ae.sibling),(B=m(ae,V.props.children)).return=P,P=B;break e}}else if(ae.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===b&&v0(Oe)===ae.type){d(P,ae.sibling),(B=m(ae,V.props)).ref=pa(P,ae,V),B.return=P,P=B;break e}d(P,ae);break}l(P,ae),ae=ae.sibling}V.type===c?((B=ss(V.props.children,P.mode,de,V.key)).return=P,P=B):((de=Mu(V.type,V.key,V.props,null,P.mode,de)).ref=pa(P,B,V),de.return=P,P=de)}return A(P);case h:e:{for(ae=V.key;B!==null;){if(B.key===ae){if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){d(P,B.sibling),(B=m(B,V.children||[])).return=P,P=B;break e}d(P,B);break}l(P,B),B=B.sibling}(B=Nf(V,P.mode,de)).return=P,P=B}return A(P);case b:return j(P,B,(ae=V._init)(V._payload),de)}if(ue(V))return oe(P,B,V,de);if(k(V))return xe(P,B,V,de);au(P,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,B!==null&&B.tag===6?(d(P,B.sibling),(B=m(B,V)).return=P,P=B):(d(P,B),(B=kf(V,P.mode,de)).return=P,P=B),A(P)):d(P,B)}}var Qs=_0(!0),x0=_0(!1),ma={},Cr=oi(ma),ga=oi(ma),qs=oi(ma);function fn(o){if(o===ma)throw Error(s(174));return o}function Vd(o,l){De(qs,l),De(ga,o),De(Cr,ma),o=he(l),Ve(Cr),De(Cr,o)}function Ks(){Ve(Cr),Ve(ga),Ve(qs)}function w0(o){var l=fn(qs.current),d=fn(Cr.current);d!==(l=R(d,o.type,l))&&(De(ga,o),De(Cr,l))}function Wd(o){ga.current===o&&(Ve(Cr),Ve(ga))}var nt=oi(0);function lu(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&((d=d.dehydrated)===null||Qy(d)||_d(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(128&l.flags)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Xd=[];function Yd(){for(var o=0;o<Xd.length;o++){var l=Xd[o];rt?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}Xd.length=0}var uu=a.ReactCurrentDispatcher,Qd=a.ReactCurrentBatchConfig,ts=0,Qe=null,xt=null,wt=null,hu=!1,ya=!1,va=0,FE=0;function Lt(){throw Error(s(321))}function qd(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!jr(o[d],l[d]))return!1;return!0}function Kd(o,l,d,f,m,_){if(ts=_,Qe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,uu.current=o===null||o.memoizedState===null?DE:UE,o=d(f,m),ya){_=0;do{if(ya=!1,va=0,25<=_)throw Error(s(301));_+=1,wt=xt=null,l.updateQueue=null,uu.current=zE,o=d(f,m)}while(ya)}if(uu.current=fu,l=xt!==null&&xt.next!==null,ts=0,wt=xt=Qe=null,hu=!1,l)throw Error(s(300));return o}function Zd(){var o=va!==0;return va=0,o}function pn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Qe.memoizedState=wt=o:wt=wt.next=o,wt}function Ir(){if(xt===null){var o=Qe.alternate;o=o!==null?o.memoizedState:null}else o=xt.next;var l=wt===null?Qe.memoizedState:wt.next;if(l!==null)wt=l,xt=o;else{if(o===null)throw Error(s(310));o={memoizedState:(xt=o).memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},wt===null?Qe.memoizedState=wt=o:wt=wt.next=o}return wt}function _a(o,l){return typeof l=="function"?l(o):l}function Jd(o){var l=Ir(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var f=xt,m=f.baseQueue,_=d.pending;if(_!==null){if(m!==null){var A=m.next;m.next=_.next,_.next=A}f.baseQueue=m=_,d.pending=null}if(m!==null){_=m.next,f=f.baseState;var I=A=null,M=null,U=_;do{var $=U.lane;if((ts&$)===$)M!==null&&(M=M.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),f=U.hasEagerState?U.eagerState:o(f,U.action);else{var Z={lane:$,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};M===null?(I=M=Z,A=f):M=M.next=Z,Qe.lanes|=$,rs|=$}U=U.next}while(U!==null&&U!==_);M===null?A=f:M.next=I,jr(f,l.memoizedState)||(Zt=!0),l.memoizedState=f,l.baseState=A,l.baseQueue=M,d.lastRenderedState=f}if((o=d.interleaved)!==null){m=o;do _=m.lane,Qe.lanes|=_,rs|=_,m=m.next;while(m!==o)}else m===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function ef(o){var l=Ir(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var f=d.dispatch,m=d.pending,_=l.memoizedState;if(m!==null){d.pending=null;var A=m=m.next;do _=o(_,A.action),A=A.next;while(A!==m);jr(_,l.memoizedState)||(Zt=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),d.lastRenderedState=_}return[_,f]}function S0(){}function b0(o,l){var d=Qe,f=Ir(),m=l(),_=!jr(f.memoizedState,m);if(_&&(f.memoizedState=m,Zt=!0),f=f.queue,tf(A0.bind(null,d,f,o),[o]),f.getSnapshot!==l||_||wt!==null&&1&wt.memoizedState.tag){if(d.flags|=2048,xa(9,E0.bind(null,d,f,m,l),void 0,null),St===null)throw Error(s(349));30&ts||T0(d,l,m)}return m}function T0(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},(l=Qe.updateQueue)===null?(l={lastEffect:null,stores:null},Qe.updateQueue=l,l.stores=[o]):(d=l.stores)===null?l.stores=[o]:d.push(o)}function E0(o,l,d,f){l.value=d,l.getSnapshot=f,C0(l)&&I0(o)}function A0(o,l,d){return d(function(){C0(l)&&I0(o)})}function C0(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!jr(o,d)}catch{return!0}}function I0(o){var l=dn(o,1);l!==null&&Rr(l,o,1,-1)}function R0(o){var l=pn();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:o},l.queue=o,o=o.dispatch=BE.bind(null,Qe,o),[l.memoizedState,o]}function xa(o,l,d,f){return o={tag:o,create:l,destroy:d,deps:f,next:null},(l=Qe.updateQueue)===null?(l={lastEffect:null,stores:null},Qe.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect)===null?l.lastEffect=o.next=o:(f=d.next,d.next=o,o.next=f,l.lastEffect=o),o}function P0(){return Ir().memoizedState}function cu(o,l,d,f){var m=pn();Qe.flags|=o,m.memoizedState=xa(1|l,d,void 0,f===void 0?null:f)}function du(o,l,d,f){var m=Ir();f=f===void 0?null:f;var _=void 0;if(xt!==null){var A=xt.memoizedState;if(_=A.destroy,f!==null&&qd(f,A.deps))return void(m.memoizedState=xa(l,d,_,f))}Qe.flags|=o,m.memoizedState=xa(1|l,d,_,f)}function k0(o,l){return cu(8390656,8,o,l)}function tf(o,l){return du(2048,8,o,l)}function N0(o,l){return du(4,2,o,l)}function M0(o,l){return du(4,4,o,l)}function F0(o,l){return typeof l=="function"?(o=o(),l(o),function(){l(null)}):l!=null?(o=o(),l.current=o,function(){l.current=null}):void 0}function O0(o,l,d){return d=d!=null?d.concat([o]):null,du(4,4,F0.bind(null,l,o),d)}function rf(){}function L0(o,l){var d=Ir();l=l===void 0?null:l;var f=d.memoizedState;return f!==null&&l!==null&&qd(l,f[1])?f[0]:(d.memoizedState=[o,l],o)}function B0(o,l){var d=Ir();l=l===void 0?null:l;var f=d.memoizedState;return f!==null&&l!==null&&qd(l,f[1])?f[0]:(o=o(),d.memoizedState=[o,l],o)}function D0(o,l,d){return 21&ts?(jr(d,l)||(d=Jy(),Qe.lanes|=d,rs|=d,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,Zt=!0),o.memoizedState=d)}function OE(o,l){var d=Pe;Pe=d!==0&&4>d?d:4,o(!0);var f=Qd.transition;Qd.transition={};try{o(!1),l()}finally{Pe=d,Qd.transition=f}}function U0(){return Ir().memoizedState}function LE(o,l,d){var f=fi(o);d={lane:f,action:d,hasEagerState:!1,eagerState:null,next:null},z0(o)?G0(l,d):(d=h0(o,l,d,f))!==null&&(Rr(d,o,f,Dt()),$0(d,l,f))}function BE(o,l,d){var f=fi(o),m={lane:f,action:d,hasEagerState:!1,eagerState:null,next:null};if(z0(o))G0(l,m);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer)!==null)try{var A=l.lastRenderedState,I=_(A,d);if(m.hasEagerState=!0,m.eagerState=I,jr(I,A)){var M=l.interleaved;return M===null?(m.next=m,Gd(l)):(m.next=M.next,M.next=m),void(l.interleaved=m)}}catch{}(d=h0(o,l,m,f))!==null&&(Rr(d,o,f,m=Dt()),$0(d,l,f))}}function z0(o){var l=o.alternate;return o===Qe||l!==null&&l===Qe}function G0(o,l){ya=hu=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function $0(o,l,d){if(4194240&d){var f=l.lanes;d|=f&=o.pendingLanes,l.lanes=d,Id(o,d)}}var fu={readContext:Ar,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},DE={readContext:Ar,useCallback:function(o,l){return pn().memoizedState=[o,l===void 0?null:l],o},useContext:Ar,useEffect:k0,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,cu(4194308,4,F0.bind(null,l,o),d)},useLayoutEffect:function(o,l){return cu(4194308,4,o,l)},useInsertionEffect:function(o,l){return cu(4,2,o,l)},useMemo:function(o,l){var d=pn();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var f=pn();return l=d!==void 0?d(l):l,f.memoizedState=f.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},f.queue=o,o=o.dispatch=LE.bind(null,Qe,o),[f.memoizedState,o]},useRef:function(o){return o={current:o},pn().memoizedState=o},useState:R0,useDebugValue:rf,useDeferredValue:function(o){return pn().memoizedState=o},useTransition:function(){var o=R0(!1),l=o[0];return o=OE.bind(null,o[1]),pn().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var f=Qe,m=pn();if(We){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),St===null)throw Error(s(349));30&ts||T0(f,l,d)}m.memoizedState=d;var _={value:d,getSnapshot:l};return m.queue=_,k0(A0.bind(null,f,_,o),[o]),f.flags|=2048,xa(9,E0.bind(null,f,_,d,l),void 0,null),d},useId:function(){var o=pn(),l=St.identifierPrefix;if(We){var d=Dn;l=":"+l+"R"+(d=(cn&~(1<<32-$r(cn)-1)).toString(32)+d),0<(d=va++)&&(l+="H"+d.toString(32)),l+=":"}else l=":"+l+"r"+(d=FE++).toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},UE={readContext:Ar,useCallback:L0,useContext:Ar,useEffect:tf,useImperativeHandle:O0,useInsertionEffect:N0,useLayoutEffect:M0,useMemo:B0,useReducer:Jd,useRef:P0,useState:function(){return Jd(_a)},useDebugValue:rf,useDeferredValue:function(o){return D0(Ir(),xt.memoizedState,o)},useTransition:function(){return[Jd(_a)[0],Ir().memoizedState]},useMutableSource:S0,useSyncExternalStore:b0,useId:U0,unstable_isNewReconciler:!1},zE={readContext:Ar,useCallback:L0,useContext:Ar,useEffect:tf,useImperativeHandle:O0,useInsertionEffect:N0,useLayoutEffect:M0,useMemo:B0,useReducer:ef,useRef:P0,useState:function(){return ef(_a)},useDebugValue:rf,useDeferredValue:function(o){var l=Ir();return xt===null?l.memoizedState=o:D0(l,xt.memoizedState,o)},useTransition:function(){return[ef(_a)[0],Ir().memoizedState]},useMutableSource:S0,useSyncExternalStore:b0,useId:U0,unstable_isNewReconciler:!1};function Zs(o,l){try{var d="",f=l;do d+=ME(f),f=f.return;while(f);var m=d}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:l,stack:m,digest:null}}function nf(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function sf(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var GE=typeof WeakMap=="function"?WeakMap:Map;function j0(o,l,d){(d=Un(-1,d)).tag=3,d.payload={element:null};var f=l.value;return d.callback=function(){Cu||(Cu=!0,Tf=f),sf(0,l)},d}function H0(o,l,d){(d=Un(-1,d)).tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;d.payload=function(){return f(m)},d.callback=function(){sf(0,l)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){sf(0,l),typeof f!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),d}function V0(o,l,d){var f=o.pingCache;if(f===null){f=o.pingCache=new GE;var m=new Set;f.set(l,m)}else(m=f.get(l))===void 0&&(m=new Set,f.set(l,m));m.has(d)||(m.add(d),o=qE.bind(null,o,l,d),l.then(o,o))}function W0(o){do{var l;if((l=o.tag===13)&&(l=(l=o.memoizedState)===null||l.dehydrated!==null),l)return o;o=o.return}while(o!==null);return null}function X0(o,l,d,f,m){return 1&o.mode?(o.flags|=65536,o.lanes=m,o):(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((l=Un(-1,1)).tag=2,ui(d,l,1))),d.lanes|=1),o)}var $E=a.ReactCurrentOwner,Zt=!1;function Jt(o,l,d,f){l.child=o===null?x0(l,null,d,f):Qs(l,o.child,d,f)}function Y0(o,l,d,f,m){d=d.render;var _=l.ref;return Ys(l,m),f=Kd(o,l,d,f,_,m),d=Zd(),o===null||Zt?(We&&d&&Nd(l),l.flags|=1,Jt(o,l,f,m),l.child):(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~m,zn(o,l,m))}function Q0(o,l,d,f,m){if(o===null){var _=d.type;return typeof _!="function"||Pf(_)||_.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((o=Mu(d.type,null,f,l,l.mode,m)).ref=l.ref,o.return=l,l.child=o):(l.tag=15,l.type=_,q0(o,l,_,f,m))}if(_=o.child,(o.lanes&m)==0){var A=_.memoizedProps;if((d=(d=d.compare)!==null?d:tu)(A,f)&&o.ref===l.ref)return zn(o,l,m)}return l.flags|=1,(o=mi(_,f)).ref=l.ref,o.return=l,l.child=o}function q0(o,l,d,f,m){if(o!==null){var _=o.memoizedProps;if(tu(_,f)&&o.ref===l.ref){if(Zt=!1,l.pendingProps=f=_,(o.lanes&m)==0)return l.lanes=o.lanes,zn(o,l,m);131072&o.flags&&(Zt=!0)}}return of(o,l,d,f,m)}function K0(o,l,d){var f=l.pendingProps,m=f.children,_=o!==null?o.memoizedState:null;if(f.mode==="hidden")if(!(1&l.mode))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(eo,ur),ur|=d;else{if(!(1073741824&d))return o=_!==null?_.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,De(eo,ur),ur|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:d,De(eo,ur),ur|=f}else _!==null?(f=_.baseLanes|d,l.memoizedState=null):f=d,De(eo,ur),ur|=f;return Jt(o,l,m,d),l.child}function Z0(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function of(o,l,d,f,m){var _=ar(d)?Ki:Ot.current;return _=js(l,_),Ys(l,m),d=Kd(o,l,d,f,_,m),f=Zd(),o===null||Zt?(We&&f&&Nd(l),l.flags|=1,Jt(o,l,d,m),l.child):(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~m,zn(o,l,m))}function J0(o,l,d,f,m){if(ar(d)){var _=!0;Yl(l)}else _=!1;if(Ys(l,m),l.stateNode===null)yu(o,l),g0(l,d,f),Hd(l,d,f,m),f=!0;else if(o===null){var A=l.stateNode,I=l.memoizedProps;A.props=I;var M=A.context,U=d.contextType;typeof U=="object"&&U!==null?U=Ar(U):U=js(l,U=ar(d)?Ki:Ot.current);var $=d.getDerivedStateFromProps,Z=typeof $=="function"||typeof A.getSnapshotBeforeUpdate=="function";Z||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==f||M!==U)&&y0(l,A,f,U),li=!1;var G=l.memoizedState;A.state=G,su(l,f,A,m),M=l.memoizedState,I!==f||G!==M||Kt.current||li?(typeof $=="function"&&(jd(l,d,$,f),M=l.memoizedState),(I=li||m0(l,d,I,f,G,M,U))?(Z||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=M),A.props=f,A.state=M,A.context=U,f=I):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{A=l.stateNode,c0(o,l),I=l.memoizedProps,U=l.type===l.elementType?I:Vr(l.type,I),A.props=U,Z=l.pendingProps,G=A.context,typeof(M=d.contextType)=="object"&&M!==null?M=Ar(M):M=js(l,M=ar(d)?Ki:Ot.current);var Q=d.getDerivedStateFromProps;($=typeof Q=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==Z||G!==M)&&y0(l,A,f,M),li=!1,G=l.memoizedState,A.state=G,su(l,f,A,m);var oe=l.memoizedState;I!==Z||G!==oe||Kt.current||li?(typeof Q=="function"&&(jd(l,d,Q,f),oe=l.memoizedState),(U=li||m0(l,d,U,f,G,oe,M)||!1)?($||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(f,oe,M),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(f,oe,M)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===o.memoizedProps&&G===o.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&G===o.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=oe),A.props=f,A.state=oe,A.context=M,f=U):(typeof A.componentDidUpdate!="function"||I===o.memoizedProps&&G===o.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&G===o.memoizedState||(l.flags|=1024),f=!1)}return af(o,l,d,f,_,m)}function af(o,l,d,f,m,_){Z0(o,l);var A=(128&l.flags)!=0;if(!f&&!A)return m&&Zy(l,d,!1),zn(o,l,_);f=l.stateNode,$E.current=l;var I=A&&typeof d.getDerivedStateFromError!="function"?null:f.render();return l.flags|=1,o!==null&&A?(l.child=Qs(l,o.child,null,_),l.child=Qs(l,null,I,_)):Jt(o,l,I,_),l.memoizedState=f.state,m&&Zy(l,d,!0),l.child}function ev(o){var l=o.stateNode;l.pendingContext?qy(0,l.pendingContext,l.pendingContext!==l.context):l.context&&qy(0,l.context,!1),Vd(o,l.containerInfo)}function tv(o,l,d,f,m){return Ws(),Ld(m),l.flags|=256,Jt(o,l,d,f),l.child}var wa,Sa,pu,mu,lf={dehydrated:null,treeContext:null,retryLane:0};function uf(o){return{baseLanes:o,cachePool:null,transitions:null}}function rv(o,l,d){var f,m=l.pendingProps,_=nt.current,A=!1,I=(128&l.flags)!=0;if((f=I)||(f=(o===null||o.memoizedState!==null)&&(2&_)!=0),f?(A=!0,l.flags&=-129):o!==null&&o.memoizedState===null||(_|=1),De(nt,1&_),o===null)return Od(l),(o=l.memoizedState)!==null&&(o=o.dehydrated)!==null?(1&l.mode?_d(o)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(I=m.children,o=m.fallback,A?(m=l.mode,A=l.child,I={mode:"hidden",children:I},!(1&m)&&A!==null?(A.childLanes=0,A.pendingProps=I):A=Fu(I,m,0,null),o=ss(o,m,d,null),A.return=l,o.return=l,A.sibling=o,l.child=A,l.child.memoizedState=uf(d),l.memoizedState=lf,o):hf(l,I));if((_=o.memoizedState)!==null&&(f=_.dehydrated)!==null)return function(U,$,Z,G,Q,oe,xe){if(Z)return 256&$.flags?($.flags&=-257,gu(U,$,xe,G=nf(Error(s(422))))):$.memoizedState!==null?($.child=U.child,$.flags|=128,null):(oe=G.fallback,Q=$.mode,G=Fu({mode:"visible",children:G.children},Q,0,null),(oe=ss(oe,Q,xe,null)).flags|=2,G.return=$,oe.return=$,G.sibling=oe,$.child=G,1&$.mode&&Qs($,U.child,null,xe),$.child.memoizedState=uf(xe),$.memoizedState=lf,oe);if(!(1&$.mode))return gu(U,$,xe,null);if(_d(Q))return G=lE(Q).digest,oe=Error(s(419)),G=nf(oe,G,void 0),gu(U,$,xe,G);if(Z=(xe&U.childLanes)!=0,Zt||Z){if((G=St)!==null){switch(xe&-xe){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}(Q=Q&(G.suspendedLanes|xe)?0:Q)!==0&&Q!==oe.retryLane&&(oe.retryLane=Q,dn(U,Q),Rr(G,U,Q,-1))}return Rf(),gu(U,$,xe,G=nf(Error(s(421))))}return Qy(Q)?($.flags|=128,$.child=U.child,$=KE.bind(null,U),uE(Q,$),null):(U=oe.treeContext,Re&&(Er=dE(Q),lr=$,We=!0,Hr=null,fa=!1,U!==null&&(br[Tr++]=cn,br[Tr++]=Dn,br[Tr++]=Zi,cn=U.id,Dn=U.overflow,Zi=$)),$=hf($,G.children),$.flags|=4096,$)}(o,l,I,m,f,_,d);if(A){A=m.fallback,I=l.mode,f=(_=o.child).sibling;var M={mode:"hidden",children:m.children};return!(1&I)&&l.child!==_?((m=l.child).childLanes=0,m.pendingProps=M,l.deletions=null):(m=mi(_,M)).subtreeFlags=14680064&_.subtreeFlags,f!==null?A=mi(f,A):(A=ss(A,I,d,null)).flags|=2,A.return=l,m.return=l,m.sibling=A,l.child=m,m=A,A=l.child,I=(I=o.child.memoizedState)===null?uf(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=o.childLanes&~d,l.memoizedState=lf,m}return o=(A=o.child).sibling,m=mi(A,{mode:"visible",children:m.children}),!(1&l.mode)&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&((d=l.deletions)===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function hf(o,l){return(l=Fu({mode:"visible",children:l},o.mode,0,null)).return=o,o.child=l}function gu(o,l,d,f){return f!==null&&Ld(f),Qs(l,o.child,null,d),(o=hf(l,l.pendingProps.children)).flags|=2,l.memoizedState=null,o}function nv(o,l,d){o.lanes|=l;var f=o.alternate;f!==null&&(f.lanes|=l),zd(o.return,l,d)}function cf(o,l,d,f,m){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:m}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=d,_.tailMode=m)}function iv(o,l,d){var f=l.pendingProps,m=f.revealOrder,_=f.tail;if(Jt(o,l,f.children,d),(2&(f=nt.current))!=0)f=1&f|2,l.flags|=128;else{if(o!==null&&128&o.flags)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&nv(o,d,l);else if(o.tag===19)nv(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(De(nt,f),(1&l.mode)==0)l.memoizedState=null;else switch(m){case"forwards":for(d=l.child,m=null;d!==null;)(o=d.alternate)!==null&&lu(o)===null&&(m=d),d=d.sibling;(d=m)===null?(m=l.child,l.child=null):(m=d.sibling,d.sibling=null),cf(l,!1,m,d,_);break;case"backwards":for(d=null,m=l.child,l.child=null;m!==null;){if((o=m.alternate)!==null&&lu(o)===null){l.child=m;break}o=m.sibling,m.sibling=d,d=m,m=o}cf(l,!0,d,null,_);break;case"together":cf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function yu(o,l){!(1&l.mode)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function zn(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),rs|=l.lanes,(d&l.childLanes)==0)return null;if(o!==null&&l.child!==o.child)throw Error(s(153));if(l.child!==null){for(d=mi(o=l.child,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,(d=d.sibling=mi(o,o.pendingProps)).return=l;d.sibling=null}return l.child}function mn(o){o.flags|=4}function sv(o,l){if(o!==null&&o.child===l.child)return!0;if(16&l.flags)return!1;for(o=l.child;o!==null;){if(12854&o.flags||12854&o.subtreeFlags)return!1;o=o.sibling}return!0}if(Se)wa=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)J(o,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Sa=function(){},pu=function(o,l,d,f,m){if((o=o.memoizedProps)!==f){var _=l.stateNode,A=fn(Cr.current);d=ye(_,d,o,f,m,A),(l.updateQueue=d)&&mn(l)}},mu=function(o,l,d,f){d!==f&&mn(l)};else if(ze){wa=function(o,l,d,f){for(var m=l.child;m!==null;){if(m.tag===5){var _=m.stateNode;d&&f&&(_=Xy(_,m.type,m.memoizedProps,m)),J(o,_)}else if(m.tag===6)_=m.stateNode,d&&f&&(_=Yy(_,m.memoizedProps,m)),J(o,_);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)(_=m.child)!==null&&(_.return=m),wa(o,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===l)break;for(;m.sibling===null;){if(m.return===null||m.return===l)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};var ov=function(o,l,d,f){for(var m=l.child;m!==null;){if(m.tag===5){var _=m.stateNode;d&&f&&(_=Xy(_,m.type,m.memoizedProps,m)),Wy(o,_)}else if(m.tag===6)_=m.stateNode,d&&f&&(_=Yy(_,m.memoizedProps,m)),Wy(o,_);else if(m.tag!==4){if(m.tag===22&&m.memoizedState!==null)(_=m.child)!==null&&(_.return=m),ov(o,m,!0,!0);else if(m.child!==null){m.child.return=m,m=m.child;continue}}if(m===l)break;for(;m.sibling===null;){if(m.return===null||m.return===l)return;m=m.return}m.sibling.return=m.return,m=m.sibling}};Sa=function(o,l){var d=l.stateNode;if(!sv(o,l)){o=d.containerInfo;var f=Vy(o);ov(f,l,!1,!1),d.pendingChildren=f,mn(l),iE(o,f)}},pu=function(o,l,d,f,m){var _=o.stateNode,A=o.memoizedProps;if((o=sv(o,l))&&A===f)l.stateNode=_;else{var I=l.stateNode,M=fn(Cr.current),U=null;A!==f&&(U=ye(I,d,A,f,m,M)),o&&U===null?l.stateNode=_:(_=nE(_,U,d,A,f,l,o,I),_e(_,d,f,m,M)&&mn(l),l.stateNode=_,o?mn(l):wa(_,l,!1,!1))}},mu=function(o,l,d,f){d!==f?(o=fn(qs.current),d=fn(Cr.current),l.stateNode=we(f,o,d,l),mn(l)):l.stateNode=o.stateNode}}else Sa=function(){},pu=function(){},mu=function(){};function ba(o,l){if(!We)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Vt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,f=0;if(l)for(var m=o.child;m!==null;)d|=m.lanes|m.childLanes,f|=14680064&m.subtreeFlags,f|=14680064&m.flags,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)d|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=f,o.childLanes=d,l}function jE(o,l,d){var f=l.pendingProps;switch(Md(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(l),null;case 1:case 17:return ar(l.type)&&bd(),Vt(l),null;case 3:return d=l.stateNode,Ks(),Ve(Kt),Ve(Ot),Yd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),o!==null&&o.child!==null||(eu(l)?mn(l):o===null||o.memoizedState.isDehydrated&&!(256&l.flags)||(l.flags|=1024,Hr!==null&&(Cf(Hr),Hr=null))),Sa(o,l),Vt(l),null;case 5:Wd(l),d=fn(qs.current);var m=l.type;if(o!==null&&l.stateNode!=null)pu(o,l,m,f,d),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!f){if(l.stateNode===null)throw Error(s(166));return Vt(l),null}if(o=fn(Cr.current),eu(l)){if(!Re)throw Error(s(175));o=fE(l.stateNode,l.type,l.memoizedProps,d,o,l,!fa),l.updateQueue=o,o!==null&&mn(l)}else{var _=z(m,f,d,o,l);wa(_,l,!1,!1),l.stateNode=_,_e(_,m,f,d,o)&&mn(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Vt(l),null;case 6:if(o&&l.stateNode!=null)mu(o,l,o.memoizedProps,f);else{if(typeof f!="string"&&l.stateNode===null)throw Error(s(166));if(o=fn(qs.current),d=fn(Cr.current),eu(l)){if(!Re)throw Error(s(176));if(o=l.stateNode,d=l.memoizedProps,(f=pE(o,d,l,!fa))&&(m=lr)!==null)switch(m.tag){case 3:SE(m.stateNode.containerInfo,o,d,(1&m.mode)!=0);break;case 5:bE(m.type,m.memoizedProps,m.stateNode,o,d,(1&m.mode)!=0)}f&&mn(l)}else l.stateNode=we(f,o,d,l)}return Vt(l),null;case 13:if(Ve(nt),f=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(We&&Er!==null&&1&l.mode&&!(128&l.flags))l0(),Ws(),l.flags|=98560,m=!1;else if(m=eu(l),f!==null&&f.dehydrated!==null){if(o===null){if(!m)throw Error(s(318));if(!Re)throw Error(s(344));if(!(m=(m=l.memoizedState)!==null?m.dehydrated:null))throw Error(s(317));mE(m,l)}else Ws(),!(128&l.flags)&&(l.memoizedState=null),l.flags|=4;Vt(l),m=!1}else Hr!==null&&(Cf(Hr),Hr=null),m=!0;if(!m)return 65536&l.flags?l:null}return 128&l.flags?(l.lanes=d,l):((d=f!==null)!=(o!==null&&o.memoizedState!==null)&&d&&(l.child.flags|=8192,1&l.mode&&(o===null||1&nt.current?pt===0&&(pt=3):Rf())),l.updateQueue!==null&&(l.flags|=4),Vt(l),null);case 4:return Ks(),Sa(o,l),o===null&&Sr(l.stateNode.containerInfo),Vt(l),null;case 10:return Ud(l.type._context),Vt(l),null;case 19:if(Ve(nt),(m=l.memoizedState)===null)return Vt(l),null;if(f=(128&l.flags)!=0,(_=m.rendering)===null)if(f)ba(m,!1);else{if(pt!==0||o!==null&&128&o.flags)for(o=l.child;o!==null;){if((_=lu(o))!==null){for(l.flags|=128,ba(m,!1),(o=_.updateQueue)!==null&&(l.updateQueue=o,l.flags|=4),l.subtreeFlags=0,o=d,d=l.child;d!==null;)m=o,(f=d).flags&=14680066,(_=f.alternate)===null?(f.childLanes=0,f.lanes=m,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,m=_.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),d=d.sibling;return De(nt,1&nt.current|2),l.child}o=o.sibling}m.tail!==null&&_t()>bf&&(l.flags|=128,f=!0,ba(m,!1),l.lanes=4194304)}else{if(!f)if((o=lu(_))!==null){if(l.flags|=128,f=!0,(o=o.updateQueue)!==null&&(l.updateQueue=o,l.flags|=4),ba(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!We)return Vt(l),null}else 2*_t()-m.renderingStartTime>bf&&d!==1073741824&&(l.flags|=128,f=!0,ba(m,!1),l.lanes=4194304);m.isBackwards?(_.sibling=l.child,l.child=_):((o=m.last)!==null?o.sibling=_:l.child=_,m.last=_)}return m.tail!==null?(l=m.tail,m.rendering=l,m.tail=l.sibling,m.renderingStartTime=_t(),l.sibling=null,o=nt.current,De(nt,f?1&o|2:1&o),l):(Vt(l),null);case 22:case 23:return If(),d=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==d&&(l.flags|=8192),d&&1&l.mode?1073741824&ur&&(Vt(l),Se&&6&l.subtreeFlags&&(l.flags|=8192)):Vt(l),null;case 24:case 25:return null}throw Error(s(156,l.tag))}function HE(o,l){switch(Md(l),l.tag){case 1:return ar(l.type)&&bd(),65536&(o=l.flags)?(l.flags=-65537&o|128,l):null;case 3:return Ks(),Ve(Kt),Ve(Ot),Yd(),65536&(o=l.flags)&&!(128&o)?(l.flags=-65537&o|128,l):null;case 5:return Wd(l),null;case 13:if(Ve(nt),(o=l.memoizedState)!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(s(340));Ws()}return 65536&(o=l.flags)?(l.flags=-65537&o|128,l):null;case 19:return Ve(nt),null;case 4:return Ks(),null;case 10:return Ud(l.type._context),null;case 22:case 23:return If(),null;default:return null}}var vu=!1,Bt=!1,VE=typeof WeakSet=="function"?WeakSet:Set,re=null;function Js(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(f){Xe(o,l,f)}else d.current=null}function av(o,l,d){try{d()}catch(f){Xe(o,l,f)}}var lv=!1;function Ta(o,l,d){var f=l.updateQueue;if((f=f!==null?f.lastEffect:null)!==null){var m=f=f.next;do{if((m.tag&o)===o){var _=m.destroy;m.destroy=void 0,_!==void 0&&av(l,d,_)}m=m.next}while(m!==f)}}function _u(o,l){if((l=(l=l.updateQueue)!==null?l.lastEffect:null)!==null){var d=l=l.next;do{if((d.tag&o)===o){var f=d.create;d.destroy=f()}d=d.next}while(d!==l)}}function df(o){var l=o.ref;if(l!==null){var d=o.stateNode;o.tag===5?o=pe(d):o=d,typeof l=="function"?l(o):l.current=o}}function uv(o){var l=o.alternate;l!==null&&(o.alternate=null,uv(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode)!==null&&yd(l),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function hv(o){return o.tag===5||o.tag===3||o.tag===4}function cv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||hv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(2&o.flags||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(2&o.flags))return o.stateNode}}function ff(o,l,d){var f=o.tag;if(f===5||f===6)o=o.stateNode,l?QT(d,o,l):HT(d,o);else if(f!==4&&(o=o.child)!==null)for(ff(o,l,d),o=o.sibling;o!==null;)ff(o,l,d),o=o.sibling}function pf(o,l,d){var f=o.tag;if(f===5||f===6)o=o.stateNode,l?YT(d,o,l):jT(d,o);else if(f!==4&&(o=o.child)!==null)for(pf(o,l,d),o=o.sibling;o!==null;)pf(o,l,d),o=o.sibling}var Wt=null,gn=!1;function yn(o,l,d){for(d=d.child;d!==null;)mf(o,l,d),d=d.sibling}function mf(o,l,d){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(ql,d)}catch{}switch(d.tag){case 5:Bt||Js(d,l);case 6:if(Se){var f=Wt,m=gn;Wt=null,yn(o,l,d),gn=m,(Wt=f)!==null&&(gn?KT(Wt,d.stateNode):qT(Wt,d.stateNode))}else yn(o,l,d);break;case 18:Se&&Wt!==null&&(gn?xE(Wt,d.stateNode):_E(Wt,d.stateNode));break;case 4:Se?(f=Wt,m=gn,Wt=d.stateNode.containerInfo,gn=!0,yn(o,l,d),Wt=f,gn=m):(ze&&(f=d.stateNode.containerInfo,m=Vy(f),vd(f,m)),yn(o,l,d));break;case 0:case 11:case 14:case 15:if(!Bt&&(f=d.updateQueue)!==null&&(f=f.lastEffect)!==null){m=f=f.next;do{var _=m,A=_.destroy;_=_.tag,A!==void 0&&(2&_||4&_)&&av(d,l,A),m=m.next}while(m!==f)}yn(o,l,d);break;case 1:if(!Bt&&(Js(d,l),typeof(f=d.stateNode).componentWillUnmount=="function"))try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch(I){Xe(d,l,I)}yn(o,l,d);break;case 21:yn(o,l,d);break;case 22:1&d.mode?(Bt=(f=Bt)||d.memoizedState!==null,yn(o,l,d),Bt=f):yn(o,l,d);break;default:yn(o,l,d)}}function dv(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new VE),l.forEach(function(f){var m=ZE.bind(null,o,f);d.has(f)||(d.add(f),f.then(m,m))})}}function Wr(o,l){var d=l.deletions;if(d!==null)for(var f=0;f<d.length;f++){var m=d[f];try{var _=o,A=l;if(Se){var I=A;e:for(;I!==null;){switch(I.tag){case 5:Wt=I.stateNode,gn=!1;break e;case 3:case 4:Wt=I.stateNode.containerInfo,gn=!0;break e}I=I.return}if(Wt===null)throw Error(s(160));mf(_,A,m),Wt=null,gn=!1}else mf(_,A,m);var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(U){Xe(m,l,U)}}if(12854&l.subtreeFlags)for(l=l.child;l!==null;)fv(l,o),l=l.sibling}function fv(o,l){var d=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Wr(l,o),vn(o),4&f){try{Ta(3,o,o.return),_u(3,o)}catch(G){Xe(o,o.return,G)}try{Ta(5,o,o.return)}catch(G){Xe(o,o.return,G)}}break;case 1:Wr(l,o),vn(o),512&f&&d!==null&&Js(d,d.return);break;case 5:if(Wr(l,o),vn(o),512&f&&d!==null&&Js(d,d.return),Se){if(32&o.flags){var m=o.stateNode;try{Hy(m)}catch(G){Xe(o,o.return,G)}}if(4&f&&(m=o.stateNode)!=null){var _=o.memoizedProps;if(d=d!==null?d.memoizedProps:_,f=o.type,l=o.updateQueue,o.updateQueue=null,l!==null)try{XT(m,l,f,d,_,o)}catch(G){Xe(o,o.return,G)}}}break;case 6:if(Wr(l,o),vn(o),4&f&&Se){if(o.stateNode===null)throw Error(s(162));m=o.stateNode,_=o.memoizedProps,d=d!==null?d.memoizedProps:_;try{VT(m,d,_)}catch(G){Xe(o,o.return,G)}}break;case 3:if(Wr(l,o),vn(o),4&f){if(Se&&Re&&d!==null&&d.memoizedState.isDehydrated)try{yE(l.containerInfo)}catch(G){Xe(o,o.return,G)}if(ze){m=l.containerInfo,_=l.pendingChildren;try{vd(m,_)}catch(G){Xe(o,o.return,G)}}}break;case 4:if(Wr(l,o),vn(o),4&f&&ze){m=(_=o.stateNode).containerInfo,_=_.pendingChildren;try{vd(m,_)}catch(G){Xe(o,o.return,G)}}break;case 13:Wr(l,o),vn(o),8192&(m=o.child).flags&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(Sf=_t())),4&f&&dv(o);break;case 22:var A=d!==null&&d.memoizedState!==null;if(1&o.mode?(Bt=(d=Bt)||A,Wr(l,o),Bt=d):Wr(l,o),vn(o),8192&f){if(d=o.memoizedState!==null,(o.stateNode.isHidden=d)&&!A&&(1&o.mode)!=0)for(re=o,f=o.child;f!==null;){for(l=re=f;re!==null;){var I=(A=re).child;switch(A.tag){case 0:case 11:case 14:case 15:Ta(4,A,A.return);break;case 1:Js(A,A.return);var M=A.stateNode;if(typeof M.componentWillUnmount=="function"){var U=A,$=A.return;try{var Z=U;M.props=Z.memoizedProps,M.state=Z.memoizedState,M.componentWillUnmount()}catch(G){Xe(U,$,G)}}break;case 5:Js(A,A.return);break;case 22:if(A.memoizedState!==null){gv(l);continue}}I!==null?(I.return=A,re=I):gv(l)}f=f.sibling}if(Se){e:if(f=null,Se)for(l=o;;){if(l.tag===5){if(f===null){f=l;try{m=l.stateNode,d?ZT(m):eE(l.stateNode,l.memoizedProps)}catch(G){Xe(o,o.return,G)}}}else if(l.tag===6){if(f===null)try{_=l.stateNode,d?JT(_):tE(_,l.memoizedProps)}catch(G){Xe(o,o.return,G)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:Wr(l,o),vn(o),4&f&&dv(o);break;case 21:break;default:Wr(l,o),vn(o)}}function vn(o){var l=o.flags;if(2&l){try{if(Se){e:{for(var d=o.return;d!==null;){if(hv(d)){var f=d;break e}d=d.return}throw Error(s(160))}switch(f.tag){case 5:var m=f.stateNode;32&f.flags&&(Hy(m),f.flags&=-33),pf(o,cv(o),m);break;case 3:case 4:var _=f.stateNode.containerInfo;ff(o,cv(o),_);break;default:throw Error(s(161))}}}catch(A){Xe(o,o.return,A)}o.flags&=-3}4096&l&&(o.flags&=-4097)}function WE(o,l,d){re=o,pv(o)}function pv(o,l,d){for(var f=(1&o.mode)!=0;re!==null;){var m=re,_=m.child;if(m.tag===22&&f){var A=m.memoizedState!==null||vu;if(!A){var I=m.alternate,M=I!==null&&I.memoizedState!==null||Bt;I=vu;var U=Bt;if(vu=A,(Bt=M)&&!U)for(re=m;re!==null;)M=(A=re).child,A.tag===22&&A.memoizedState!==null?yv(m):M!==null?(M.return=A,re=M):yv(m);for(;_!==null;)re=_,pv(_),_=_.sibling;re=m,vu=I,Bt=U}mv(o)}else 8772&m.subtreeFlags&&_!==null?(_.return=m,re=_):mv(o)}}function mv(o){for(;re!==null;){var l=re;if(8772&l.flags){var d=l.alternate;try{if(8772&l.flags)switch(l.tag){case 0:case 11:case 15:Bt||_u(5,l);break;case 1:var f=l.stateNode;if(4&l.flags&&!Bt)if(d===null)f.componentDidMount();else{var m=l.elementType===l.type?d.memoizedProps:Vr(l.type,d.memoizedProps);f.componentDidUpdate(m,d.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&f0(l,_,f);break;case 3:var A=l.updateQueue;if(A!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=pe(l.child.stateNode);break;case 1:d=l.child.stateNode}f0(l,A,d)}break;case 5:var I=l.stateNode;d===null&&4&l.flags&&WT(I,l.type,l.memoizedProps,l);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Re&&l.memoizedState===null){var M=l.alternate;if(M!==null){var U=M.memoizedState;if(U!==null){var $=U.dehydrated;$!==null&&vE($)}}}break;default:throw Error(s(163))}Bt||512&l.flags&&df(l)}catch(Z){Xe(l,l.return,Z)}}if(l===o){re=null;break}if((d=l.sibling)!==null){d.return=l.return,re=d;break}re=l.return}}function gv(o){for(;re!==null;){var l=re;if(l===o){re=null;break}var d=l.sibling;if(d!==null){d.return=l.return,re=d;break}re=l.return}}function yv(o){for(;re!==null;){var l=re;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{_u(4,l)}catch(M){Xe(l,d,M)}break;case 1:var f=l.stateNode;if(typeof f.componentDidMount=="function"){var m=l.return;try{f.componentDidMount()}catch(M){Xe(l,m,M)}}var _=l.return;try{df(l)}catch(M){Xe(l,_,M)}break;case 5:var A=l.return;try{df(l)}catch(M){Xe(l,A,M)}}}catch(M){Xe(l,l.return,M)}if(l===o){re=null;break}var I=l.sibling;if(I!==null){I.return=l.return,re=I;break}re=l.return}}var xu=0,wu=1,Su=2,bu=3,Tu=4;if(typeof Symbol=="function"&&Symbol.for){var Ea=Symbol.for;xu=Ea("selector.component"),wu=Ea("selector.has_pseudo_class"),Su=Ea("selector.role"),bu=Ea("selector.test_id"),Tu=Ea("selector.text")}function gf(o){var l=wr(o);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(s(364));return l}if((o=BT(o))===null)throw Error(s(362));return o.stateNode.current}function yf(o,l){switch(l.$$typeof){case xu:if(o.type===l.value)return!0;break;case wu:e:{l=l.value,o=[o,0];for(var d=0;d<o.length;){var f=o[d++],m=o[d++],_=l[m];if(f.tag!==5||!ua(f)){for(;_!=null&&yf(f,_);)_=l[++m];if(m===l.length){l=!0;break e}for(f=f.child;f!==null;)o.push(f,m),f=f.sibling}}l=!1}return l;case Su:if(o.tag===5&&zT(o.stateNode,l.value))return!0;break;case Tu:if((o.tag===5||o.tag===6)&&(o=UT(o))!==null&&0<=o.indexOf(l.value))return!0;break;case bu:if(o.tag===5&&typeof(o=o.memoizedProps["data-testname"])=="string"&&o.toLowerCase()===l.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function vf(o){switch(o.$$typeof){case xu:return"<"+(L(o.value)||"Unknown")+">";case wu:return":has("+(vf(o)||"")+")";case Su:return'[role="'+o.value+'"]';case Tu:return'"'+o.value+'"';case bu:return'[data-testname="'+o.value+'"]';default:throw Error(s(365))}}function vv(o,l){var d=[];o=[o,0];for(var f=0;f<o.length;){var m=o[f++],_=o[f++],A=l[_];if(m.tag!==5||!ua(m)){for(;A!=null&&yf(m,A);)A=l[++_];if(_===l.length)d.push(m);else for(m=m.child;m!==null;)o.push(m,_),m=m.sibling}}return d}function _f(o,l){if(!la)throw Error(s(363));o=vv(o=gf(o),l),l=[],o=Array.from(o);for(var d=0;d<o.length;){var f=o[d++];if(f.tag===5)ua(f)||l.push(f.stateNode);else for(f=f.child;f!==null;)o.push(f),f=f.sibling}return l}var XE=Math.ceil,Eu=a.ReactCurrentDispatcher,xf=a.ReactCurrentOwner,at=a.ReactCurrentBatchConfig,Ee=0,St=null,ct=null,Rt=0,ur=0,eo=oi(0),pt=0,Aa=null,rs=0,Au=0,wf=0,Ca=null,hr=null,Sf=0,bf=1/0,hi=null;function to(){bf=_t()+500}var _v,Cu=!1,Tf=null,ci=null,Iu=!1,di=null,Ru=0,Ia=0,Ef=null,Pu=-1,ku=0;function Dt(){return 6&Ee?_t():Pu!==-1?Pu:Pu=_t()}function fi(o){return 1&o.mode?2&Ee&&Rt!==0?Rt&-Rt:NE.transition!==null?(ku===0&&(ku=Jy()),ku):(o=Pe)!==0?o:qi():1}function Rr(o,l,d,f){if(50<Ia)throw Ia=0,Ef=null,Error(s(185));da(o,d,f),2&Ee&&o===St||(o===St&&(!(2&Ee)&&(Au|=d),pt===4&&pi(o,Rt)),er(o,f),d===1&&Ee===0&&!(1&l.mode)&&(to(),Kl&&hn()))}function er(o,l){var d=o.callbackNode;(function(m,_){for(var A=m.suspendedLanes,I=m.pingedLanes,M=m.expirationTimes,U=m.pendingLanes;0<U;){var $=31-$r(U),Z=1<<$,G=M[$];G===-1?Z&A&&!(Z&I)||(M[$]=CE(Z,_)):G<=_&&(m.expiredLanes|=Z),U&=~Z}})(o,l);var f=Ql(o,o===St?Rt:0);if(f===0)d!==null&&t0(d),o.callbackNode=null,o.callbackPriority=0;else if(l=f&-f,o.callbackPriority!==l){if(d!=null&&t0(d),l===1)o.tag===0?function(m){Kl=!0,n0(m)}(wv.bind(null,o)):n0(wv.bind(null,o)),Gs?LT(function(){!(6&Ee)&&hn()}):Rd(Pd,hn),d=null;else{switch(e0(f)){case 1:d=Pd;break;case 4:d=PE;break;case 16:default:d=r0;break;case 536870912:d=kE}d=Rv(d,xv.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function xv(o,l){if(Pu=-1,ku=0,(6&Ee)!=0)throw Error(s(327));var d=o.callbackNode;if(is()&&o.callbackNode!==d)return null;var f=Ql(o,o===St?Rt:0);if(f===0)return null;if(30&f||f&o.expiredLanes||l)l=Nu(o,f);else{l=f;var m=Ee;Ee|=2;var _=Tv();for(St===o&&Rt===l||(hi=null,to(),ns(o,l));;)try{QE();break}catch(I){bv(o,I)}Dd(),Eu.current=_,Ee=m,ct!==null?l=0:(St=null,Rt=0,l=pt)}if(l!==0){if(l===2&&(m=Ad(o))!==0&&(f=m,l=Af(o,m)),l===1)throw d=Aa,ns(o,0),pi(o,f),er(o,_t()),d;if(l===6)pi(o,f);else{if(m=o.current.alternate,(30&f)==0&&!function(I){for(var M=I;;){if(16384&M.flags){var U=M.updateQueue;if(U!==null&&(U=U.stores)!==null)for(var $=0;$<U.length;$++){var Z=U[$],G=Z.getSnapshot;Z=Z.value;try{if(!jr(G(),Z))return!1}catch{return!1}}}if(U=M.child,16384&M.subtreeFlags&&U!==null)U.return=M,M=U;else{if(M===I)break;for(;M.sibling===null;){if(M.return===null||M.return===I)return!0;M=M.return}M.sibling.return=M.return,M=M.sibling}}return!0}(m)&&((l=Nu(o,f))===2&&(_=Ad(o))!==0&&(f=_,l=Af(o,_)),l===1))throw d=Aa,ns(o,0),pi(o,f),er(o,_t()),d;switch(o.finishedWork=m,o.finishedLanes=f,l){case 0:case 1:throw Error(s(345));case 2:case 5:ro(o,hr,hi);break;case 3:if(pi(o,f),(130023424&f)===f&&10<(l=Sf+500-_t())){if(Ql(o,0)!==0)break;if(((m=o.suspendedLanes)&f)!==f){Dt(),o.pingedLanes|=o.suspendedLanes&m;break}o.timeoutHandle=Me(ro.bind(null,o,hr,hi),l);break}ro(o,hr,hi);break;case 4:if(pi(o,f),(4194240&f)===f)break;for(l=o.eventTimes,m=-1;0<f;){var A=31-$r(f);_=1<<A,(A=l[A])>m&&(m=A),f&=~_}if(f=m,10<(f=(120>(f=_t()-f)?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*XE(f/1960))-f)){o.timeoutHandle=Me(ro.bind(null,o,hr,hi),f);break}ro(o,hr,hi);break;default:throw Error(s(329))}}}return er(o,_t()),o.callbackNode===d?xv.bind(null,o):null}function Af(o,l){var d=Ca;return o.current.memoizedState.isDehydrated&&(ns(o,l).flags|=256),(o=Nu(o,l))!==2&&(l=hr,hr=d,l!==null&&Cf(l)),o}function Cf(o){hr===null?hr=o:hr.push.apply(hr,o)}function pi(o,l){for(l&=~wf,l&=~Au,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-$r(l),f=1<<d;o[d]=-1,l&=~f}}function wv(o){if(6&Ee)throw Error(s(327));is();var l=Ql(o,0);if(!(1&l))return er(o,_t()),null;var d=Nu(o,l);if(o.tag!==0&&d===2){var f=Ad(o);f!==0&&(l=f,d=Af(o,f))}if(d===1)throw d=Aa,ns(o,0),pi(o,l),er(o,_t()),d;if(d===6)throw Error(s(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,ro(o,hr,hi),er(o,_t()),null}function Sv(o){di!==null&&di.tag===0&&!(6&Ee)&&is();var l=Ee;Ee|=1;var d=at.transition,f=Pe;try{if(at.transition=null,Pe=1,o)return o()}finally{Pe=f,at.transition=d,!(6&(Ee=l))&&hn()}}function If(){ur=eo.current,Ve(eo)}function ns(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==It&&(o.timeoutHandle=It,vt(d)),ct!==null)for(d=ct.return;d!==null;){var f=d;switch(Md(f),f.tag){case 1:(f=f.type.childContextTypes)!=null&&bd();break;case 3:Ks(),Ve(Kt),Ve(Ot),Yd();break;case 5:Wd(f);break;case 4:Ks();break;case 13:case 19:Ve(nt);break;case 10:Ud(f.type._context);break;case 22:case 23:If()}d=d.return}if(St=o,ct=o=mi(o.current,null),Rt=ur=l,pt=0,Aa=null,wf=Au=rs=0,hr=Ca=null,es!==null){for(l=0;l<es.length;l++)if((f=(d=es[l]).interleaved)!==null){d.interleaved=null;var m=f.next,_=d.pending;if(_!==null){var A=_.next;_.next=m,f.next=A}d.pending=f}es=null}return o}function bv(o,l){for(;;){var d=ct;try{if(Dd(),uu.current=fu,hu){for(var f=Qe.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}hu=!1}if(ts=0,wt=xt=Qe=null,ya=!1,va=0,xf.current=null,d===null||d.return===null){pt=1,Aa=l,ct=null;break}e:{var _=o,A=d.return,I=d,M=l;if(l=Rt,I.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var U=M,$=I,Z=$.tag;if(!(1&$.mode)&&(Z===0||Z===11||Z===15)){var G=$.alternate;G?($.updateQueue=G.updateQueue,$.memoizedState=G.memoizedState,$.lanes=G.lanes):($.updateQueue=null,$.memoizedState=null)}var Q=W0(A);if(Q!==null){Q.flags&=-257,X0(Q,A,I,0,l),1&Q.mode&&V0(_,U,l),M=U;var oe=(l=Q).updateQueue;if(oe===null){var xe=new Set;xe.add(M),l.updateQueue=xe}else oe.add(M);break e}if(!(1&l)){V0(_,U,l),Rf();break e}M=Error(s(426))}else if(We&&1&I.mode){var j=W0(A);if(j!==null){!(65536&j.flags)&&(j.flags|=256),X0(j,A,I,0,l),Ld(Zs(M,I));break e}}_=M=Zs(M,I),pt!==4&&(pt=2),Ca===null?Ca=[_]:Ca.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l,d0(_,j0(0,M,l));break e;case 1:I=M;var P=_.type,B=_.stateNode;if(!(128&_.flags)&&(typeof P.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ci===null||!ci.has(B)))){_.flags|=65536,l&=-l,_.lanes|=l,d0(_,H0(_,I,l));break e}}_=_.return}while(_!==null)}Av(d)}catch(V){l=V,ct===d&&d!==null&&(ct=d=d.return);continue}break}}function Tv(){var o=Eu.current;return Eu.current=fu,o===null?fu:o}function Rf(){pt!==0&&pt!==3&&pt!==2||(pt=4),St===null||!(268435455&rs)&&!(268435455&Au)||pi(St,Rt)}function Nu(o,l){var d=Ee;Ee|=2;var f=Tv();for(St===o&&Rt===l||(hi=null,ns(o,l));;)try{YE();break}catch(m){bv(o,m)}if(Dd(),Ee=d,Eu.current=f,ct!==null)throw Error(s(261));return St=null,Rt=0,pt}function YE(){for(;ct!==null;)Ev(ct)}function QE(){for(;ct!==null&&!IE();)Ev(ct)}function Ev(o){var l=_v(o.alternate,o,ur);o.memoizedProps=o.pendingProps,l===null?Av(o):ct=l,xf.current=null}function Av(o){var l=o;do{var d=l.alternate;if(o=l.return,(32768&l.flags)==0){if((d=jE(d,l,ur))!==null)return void(ct=d)}else{if((d=HE(d,l))!==null)return d.flags&=32767,void(ct=d);if(o===null)return pt=6,void(ct=null);o.flags|=32768,o.subtreeFlags=0,o.deletions=null}if((l=l.sibling)!==null)return void(ct=l);ct=l=o}while(l!==null);pt===0&&(pt=5)}function ro(o,l,d){var f=Pe,m=at.transition;try{at.transition=null,Pe=1,function(_,A,I,M){do is();while(di!==null);if(6&Ee)throw Error(s(327));I=_.finishedWork;var U=_.finishedLanes;if(I===null)return null;if(_.finishedWork=null,_.finishedLanes=0,I===_.current)throw Error(s(177));_.callbackNode=null,_.callbackPriority=0;var $=I.lanes|I.childLanes;if(function(Q,oe){var xe=Q.pendingLanes&~oe;Q.pendingLanes=oe,Q.suspendedLanes=0,Q.pingedLanes=0,Q.expiredLanes&=oe,Q.mutableReadLanes&=oe,Q.entangledLanes&=oe,oe=Q.entanglements;var j=Q.eventTimes;for(Q=Q.expirationTimes;0<xe;){var P=31-$r(xe),B=1<<P;oe[P]=0,j[P]=-1,Q[P]=-1,xe&=~B}}(_,$),_===St&&(ct=St=null,Rt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||Iu||(Iu=!0,Rv(r0,function(){return is(),null})),$=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||$){$=at.transition,at.transition=null;var Z=Pe;Pe=1;var G=Ee;Ee|=4,xf.current=null,function(Q,oe){for(H(Q.containerInfo),re=oe;re!==null;)if(oe=(Q=re).child,(1028&Q.subtreeFlags)!=0&&oe!==null)oe.return=Q,re=oe;else for(;re!==null;){Q=re;try{var xe=Q.alternate;if(1024&Q.flags)switch(Q.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(xe!==null){var j=xe.memoizedProps,P=xe.memoizedState,B=Q.stateNode,V=B.getSnapshotBeforeUpdate(Q.elementType===Q.type?j:Vr(Q.type,j),P);B.__reactInternalSnapshotBeforeUpdate=V}break;case 3:Se&&rE(Q.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(de){Xe(Q,Q.return,de)}if((oe=Q.sibling)!==null){oe.return=Q.return,re=oe;break}re=Q.return}xe=lv,lv=!1}(_,I),fv(I,_),F(_.containerInfo),_.current=I,WE(I),RE(),Ee=G,Pe=Z,at.transition=$}else _.current=I;if(Iu&&(Iu=!1,di=_,Ru=U),$=_.pendingLanes,$===0&&(ci=null),function(Q){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(ql,Q,void 0,(128&Q.current.flags)==128)}catch{}}(I.stateNode),er(_,_t()),A!==null)for(M=_.onRecoverableError,I=0;I<A.length;I++)U=A[I],M(U.value,{componentStack:U.stack,digest:U.digest});if(Cu)throw Cu=!1,_=Tf,Tf=null,_;1&Ru&&_.tag!==0&&is(),$=_.pendingLanes,1&$?_===Ef?Ia++:(Ia=0,Ef=_):Ia=0,hn()}(o,l,d,f)}finally{at.transition=m,Pe=f}return null}function is(){if(di!==null){var o=e0(Ru),l=at.transition,d=Pe;try{if(at.transition=null,Pe=16>o?16:o,di===null)var f=!1;else{if(o=di,di=null,Ru=0,(6&Ee)!=0)throw Error(s(331));var m=Ee;for(Ee|=4,re=o.current;re!==null;){var _=re,A=_.child;if(16&re.flags){var I=_.deletions;if(I!==null){for(var M=0;M<I.length;M++){var U=I[M];for(re=U;re!==null;){var $=re;switch($.tag){case 0:case 11:case 15:Ta(8,$,_)}var Z=$.child;if(Z!==null)Z.return=$,re=Z;else for(;re!==null;){var G=($=re).sibling,Q=$.return;if(uv($),$===U){re=null;break}if(G!==null){G.return=Q,re=G;break}re=Q}}}var oe=_.alternate;if(oe!==null){var xe=oe.child;if(xe!==null){oe.child=null;do{var j=xe.sibling;xe.sibling=null,xe=j}while(xe!==null)}}re=_}}if(2064&_.subtreeFlags&&A!==null)A.return=_,re=A;else e:for(;re!==null;){if(2048&(_=re).flags)switch(_.tag){case 0:case 11:case 15:Ta(9,_,_.return)}var P=_.sibling;if(P!==null){P.return=_.return,re=P;break e}re=_.return}}var B=o.current;for(re=B;re!==null;){var V=(A=re).child;if(2064&A.subtreeFlags&&V!==null)V.return=A,re=V;else e:for(A=B;re!==null;){if(2048&(I=re).flags)try{switch(I.tag){case 0:case 11:case 15:_u(9,I)}}catch(Oe){Xe(I,I.return,Oe)}if(I===A){re=null;break e}var de=I.sibling;if(de!==null){de.return=I.return,re=de;break e}re=I.return}}if(Ee=m,hn(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(ql,o)}catch{}f=!0}return f}finally{Pe=d,at.transition=l}}return!1}function Cv(o,l,d){o=ui(o,l=j0(0,l=Zs(d,l),1),1),l=Dt(),o!==null&&(da(o,1,l),er(o,l))}function Xe(o,l,d){if(o.tag===3)Cv(o,o,d);else for(;l!==null;){if(l.tag===3){Cv(l,o,d);break}if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ci===null||!ci.has(f))){l=ui(l,o=H0(l,o=Zs(d,o),1),1),o=Dt(),l!==null&&(da(l,1,o),er(l,o));break}}l=l.return}}function qE(o,l,d){var f=o.pingCache;f!==null&&f.delete(l),l=Dt(),o.pingedLanes|=o.suspendedLanes&d,St===o&&(Rt&d)===d&&(pt===4||pt===3&&(130023424&Rt)===Rt&&500>_t()-Sf?ns(o,0):wf|=d),er(o,l)}function Iv(o,l){l===0&&(1&o.mode?(l=Ed,!(130023424&(Ed<<=1))&&(Ed=4194304)):l=1);var d=Dt();(o=dn(o,l))!==null&&(da(o,l,d),er(o,d))}function KE(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),Iv(o,d)}function ZE(o,l){var d=0;switch(o.tag){case 13:var f=o.stateNode,m=o.memoizedState;m!==null&&(d=m.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(s(314))}f!==null&&f.delete(l),Iv(o,d)}function Rv(o,l){return Rd(o,l)}function JE(o,l,d,f){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(o,l,d,f){return new JE(o,l,d,f)}function Pf(o){return!(!(o=o.prototype)||!o.isReactComponent)}function mi(o,l){var d=o.alternate;return d===null?((d=Pr(o.tag,l,o.key,o.mode)).elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&o.flags,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Mu(o,l,d,f,m,_){var A=2;if(f=o,typeof o=="function")Pf(o)&&(A=1);else if(typeof o=="string")A=5;else e:switch(o){case c:return ss(d.children,m,_,l);case p:A=8,m|=8;break;case y:return(o=Pr(12,d,l,2|m)).elementType=y,o.lanes=_,o;case T:return(o=Pr(13,d,l,m)).elementType=T,o.lanes=_,o;case E:return(o=Pr(19,d,l,m)).elementType=E,o.lanes=_,o;case S:return Fu(d,m,_,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case g:A=10;break e;case v:A=9;break e;case x:A=11;break e;case w:A=14;break e;case b:A=16,f=null;break e}throw Error(s(130,o==null?o:typeof o,""))}return(l=Pr(A,d,l,m)).elementType=o,l.type=f,l.lanes=_,l}function ss(o,l,d,f){return(o=Pr(7,o,f,l)).lanes=d,o}function Fu(o,l,d,f){return(o=Pr(22,o,f,l)).elementType=S,o.lanes=d,o.stateNode={isHidden:!1},o}function kf(o,l,d){return(o=Pr(6,o,null,l)).lanes=d,o}function Nf(o,l,d){return(l=Pr(4,o.children!==null?o.children:[],o.key,l)).lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function eA(o,l,d,f,m){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=It,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cd(0),this.expirationTimes=Cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.identifierPrefix=f,this.onRecoverableError=m,Re&&(this.mutableSourceEagerHydrationData=null)}function Pv(o,l,d,f,m,_,A,I,M){return o=new eA(o,l,d,I,M),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Pr(3,null,null,l),o.current=_,_.stateNode=o,_.memoizedState={element:f,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},$d(_),o}function kv(o){if(!o)return ai;e:{if(N(o=o._reactInternals)!==o||o.tag!==1)throw Error(s(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ar(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(s(171))}if(o.tag===1){var d=o.type;if(ar(d))return Ky(o,d,l)}return l}function Nv(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return(o=fe(l))===null?null:o.stateNode}function Mv(o,l){if((o=o.memoizedState)!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Ou(o,l){Mv(o,l),(o=o.alternate)&&Mv(o,l)}function tA(o){return(o=fe(o))===null?null:o.stateNode}function rA(){return null}return _v=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||Kt.current)Zt=!0;else{if(!(o.lanes&d)&&!(128&l.flags))return Zt=!1,function(Z,G,Q){switch(G.tag){case 3:ev(G),Ws();break;case 5:w0(G);break;case 1:ar(G.type)&&Yl(G);break;case 4:Vd(G,G.stateNode.containerInfo);break;case 10:u0(0,G.type._context,G.memoizedProps.value);break;case 13:var oe=G.memoizedState;if(oe!==null)return oe.dehydrated!==null?(De(nt,1&nt.current),G.flags|=128,null):Q&G.child.childLanes?rv(Z,G,Q):(De(nt,1&nt.current),(Z=zn(Z,G,Q))!==null?Z.sibling:null);De(nt,1&nt.current);break;case 19:if(oe=(Q&G.childLanes)!=0,(128&Z.flags)!=0){if(oe)return iv(Z,G,Q);G.flags|=128}var xe=G.memoizedState;if(xe!==null&&(xe.rendering=null,xe.tail=null,xe.lastEffect=null),De(nt,nt.current),oe)break;return null;case 22:case 23:return G.lanes=0,K0(Z,G,Q)}return zn(Z,G,Q)}(o,l,d);Zt=(131072&o.flags)!=0}else Zt=!1,We&&1048576&l.flags&&i0(l,Jl,l.index);switch(l.lanes=0,l.tag){case 2:var f=l.type;yu(o,l),o=l.pendingProps;var m=js(l,Ot.current);Ys(l,d),m=Kd(null,l,f,o,m,d);var _=Zd();return l.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ar(f)?(_=!0,Yl(l)):_=!1,l.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,$d(l),m.updater=ou,l.stateNode=m,m._reactInternals=l,Hd(l,f,o,d),l=af(null,l,f,!0,_,d)):(l.tag=0,We&&_&&Nd(l),Jt(null,l,m,d),l=l.child),l;case 16:f=l.elementType;e:{switch(yu(o,l),o=l.pendingProps,f=(m=f._init)(f._payload),l.type=f,m=l.tag=function(Z){if(typeof Z=="function")return Pf(Z)?1:0;if(Z!=null){if((Z=Z.$$typeof)===x)return 11;if(Z===w)return 14}return 2}(f),o=Vr(f,o),m){case 0:l=of(null,l,f,o,d);break e;case 1:l=J0(null,l,f,o,d);break e;case 11:l=Y0(null,l,f,o,d);break e;case 14:l=Q0(null,l,f,Vr(f.type,o),d);break e}throw Error(s(306,f,""))}return l;case 0:return f=l.type,m=l.pendingProps,of(o,l,f,m=l.elementType===f?m:Vr(f,m),d);case 1:return f=l.type,m=l.pendingProps,J0(o,l,f,m=l.elementType===f?m:Vr(f,m),d);case 3:e:{if(ev(l),o===null)throw Error(s(387));f=l.pendingProps,m=(_=l.memoizedState).element,c0(o,l),su(l,f,null,d);var A=l.memoizedState;if(f=A.element,Re&&_.isDehydrated){if(_={element:f,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=_,l.memoizedState=_,256&l.flags){l=tv(o,l,f,d,m=Zs(Error(s(423)),l));break e}if(f!==m){l=tv(o,l,f,d,m=Zs(Error(s(424)),l));break e}for(Re&&(Er=cE(l.stateNode.containerInfo),lr=l,We=!0,Hr=null,fa=!1),d=x0(l,null,f,d),l.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(Ws(),f===m){l=zn(o,l,d);break e}Jt(o,l,f,d)}l=l.child}return l;case 5:return w0(l),o===null&&Od(l),f=l.type,m=l.pendingProps,_=o!==null?o.memoizedProps:null,A=m.children,Fe(f,m)?A=null:_!==null&&Fe(f,_)&&(l.flags|=32),Z0(o,l),Jt(o,l,A,d),l.child;case 6:return o===null&&Od(l),null;case 13:return rv(o,l,d);case 4:return Vd(l,l.stateNode.containerInfo),f=l.pendingProps,o===null?l.child=Qs(l,null,f,d):Jt(o,l,f,d),l.child;case 11:return f=l.type,m=l.pendingProps,Y0(o,l,f,m=l.elementType===f?m:Vr(f,m),d);case 7:return Jt(o,l,l.pendingProps,d),l.child;case 8:case 12:return Jt(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(f=l.type._context,m=l.pendingProps,_=l.memoizedProps,u0(0,f,A=m.value),_!==null)if(jr(_.value,A)){if(_.children===m.children&&!Kt.current){l=zn(o,l,d);break e}}else for((_=l.child)!==null&&(_.return=l);_!==null;){var I=_.dependencies;if(I!==null){A=_.child;for(var M=I.firstContext;M!==null;){if(M.context===f){if(_.tag===1){(M=Un(-1,d&-d)).tag=2;var U=_.updateQueue;if(U!==null){var $=(U=U.shared).pending;$===null?M.next=M:(M.next=$.next,$.next=M),U.pending=M}}_.lanes|=d,(M=_.alternate)!==null&&(M.lanes|=d),zd(_.return,d,l),I.lanes|=d;break}M=M.next}}else if(_.tag===10)A=_.type===l.type?null:_.child;else if(_.tag===18){if((A=_.return)===null)throw Error(s(341));A.lanes|=d,(I=A.alternate)!==null&&(I.lanes|=d),zd(A,d,l),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===l){A=null;break}if((_=A.sibling)!==null){_.return=A.return,A=_;break}A=A.return}_=A}Jt(o,l,m.children,d),l=l.child}return l;case 9:return m=l.type,f=l.pendingProps.children,Ys(l,d),f=f(m=Ar(m)),l.flags|=1,Jt(o,l,f,d),l.child;case 14:return m=Vr(f=l.type,l.pendingProps),Q0(o,l,f,m=Vr(f.type,m),d);case 15:return q0(o,l,l.type,l.pendingProps,d);case 17:return f=l.type,m=l.pendingProps,m=l.elementType===f?m:Vr(f,m),yu(o,l),l.tag=1,ar(f)?(o=!0,Yl(l)):o=!1,Ys(l,d),g0(l,f,m),Hd(l,f,m,d),af(null,l,f,!0,o,d);case 19:return iv(o,l,d);case 22:return K0(o,l,d)}throw Error(s(156,l.tag))},e.attemptContinuousHydration=function(o){if(o.tag===13){var l=dn(o,134217728);l!==null&&Rr(l,o,134217728,Dt()),Ou(o,134217728)}},e.attemptDiscreteHydration=function(o){if(o.tag===13){var l=dn(o,1);l!==null&&Rr(l,o,1,Dt()),Ou(o,1)}},e.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var l=fi(o),d=dn(o,l);d!==null&&Rr(d,o,l,Dt()),Ou(o,l)}},e.attemptSynchronousHydration=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=ca(l.pendingLanes);d!==0&&(Id(l,1|d),er(l,_t()),!(6&Ee)&&(to(),hn()))}break;case 13:Sv(function(){var f=dn(o,1);if(f!==null){var m=Dt();Rr(f,o,1,m)}}),Ou(o,1)}},e.batchedUpdates=function(o,l){var d=Ee;Ee|=1;try{return o(l)}finally{(Ee=d)===0&&(to(),Kl&&hn())}},e.createComponentSelector=function(o){return{$$typeof:xu,value:o}},e.createContainer=function(o,l,d,f,m,_,A){return Pv(o,l,!1,null,0,f,0,_,A)},e.createHasPseudoClassSelector=function(o){return{$$typeof:wu,value:o}},e.createHydrationContainer=function(o,l,d,f,m,_,A,I,M){return(o=Pv(d,f,!0,o,0,_,0,I,M)).context=kv(null),d=o.current,(_=Un(f=Dt(),m=fi(d))).callback=l??null,ui(d,_,m),o.current.lanes=m,da(o,m,f),er(o,f),o},e.createPortal=function(o,l,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:f==null?null:""+f,children:o,containerInfo:l,implementation:d}},e.createRoleSelector=function(o){return{$$typeof:Su,value:o}},e.createTestNameSelector=function(o){return{$$typeof:bu,value:o}},e.createTextSelector=function(o){return{$$typeof:Tu,value:o}},e.deferredUpdates=function(o){var l=Pe,d=at.transition;try{return at.transition=null,Pe=16,o()}finally{Pe=l,at.transition=d}},e.discreteUpdates=function(o,l,d,f,m){var _=Pe,A=at.transition;try{return at.transition=null,Pe=1,o(l,d,f,m)}finally{Pe=_,at.transition=A,Ee===0&&to()}},e.findAllNodes=_f,e.findBoundingRects=function(o,l){if(!la)throw Error(s(363));l=_f(o,l),o=[];for(var d=0;d<l.length;d++)o.push(DT(l[d]));for(l=o.length-1;0<l;l--)for(var f=(d=o[l]).x,m=f+d.width,_=d.y,A=_+d.height,I=l-1;0<=I;I--)if(l!==I){var M=o[I],U=M.x,$=U+M.width,Z=M.y,G=Z+M.height;if(f>=U&&_>=Z&&m<=$&&A<=G){o.splice(l,1);break}if(!(f!==U||d.width!==M.width||G<_||Z>A)){Z>_&&(M.height+=Z-_,M.y=_),G<A&&(M.height=A-Z),o.splice(l,1);break}if(!(_!==Z||d.height!==M.height||$<f||U>m)){U>f&&(M.width+=U-f,M.x=f),$<m&&(M.width=m-U),o.splice(l,1);break}}return o},e.findHostInstance=Nv,e.findHostInstanceWithNoPortals=function(o){return(o=(o=X(o))!==null?D(o):null)===null?null:o.stateNode},e.findHostInstanceWithWarning=function(o){return Nv(o)},e.flushControlled=function(o){var l=Ee;Ee|=1;var d=at.transition,f=Pe;try{at.transition=null,Pe=1,o()}finally{Pe=f,at.transition=d,(Ee=l)===0&&(to(),hn())}},e.flushPassiveEffects=is,e.flushSync=Sv,e.focusWithin=function(o,l){if(!la)throw Error(s(363));for(l=vv(o=gf(o),l),l=Array.from(l),o=0;o<l.length;){var d=l[o++];if(!ua(d)){if(d.tag===5&&GT(d.stateNode))return!0;for(d=d.child;d!==null;)l.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Pe},e.getFindAllNodesFailureDescription=function(o,l){if(!la)throw Error(s(363));var d=0,f=[];o=[gf(o),0];for(var m=0;m<o.length;){var _=o[m++],A=o[m++],I=l[A];if((_.tag!==5||!ua(_))&&(yf(_,I)&&(f.push(vf(I)),++A>d&&(d=A)),A<l.length))for(_=_.child;_!==null;)o.push(_,A),_=_.sibling}if(d<l.length){for(o=[];d<l.length;d++)o.push(vf(l[d]));return`findAllNodes was able to match part of the selector:
  `+f.join(" > ")+`

No matching component was found for:
  `+o.join(" > ")}return null},e.getPublicRootInstance=function(o){return(o=o.current).child?o.child.tag===5?pe(o.child.stateNode):o.child.stateNode:null},e.injectIntoDevTools=function(o){if(o={bundleType:o.bundleType,version:o.version,rendererPackageName:o.rendererPackageName,rendererConfig:o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:tA,findFiberByHostInstance:o.findFiberByHostInstance||rA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)o=!0;else{try{ql=l.inject(o),un=l}catch{}o=!!l.checkDCE}}return o},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(o,l,d,f){if(!la)throw Error(s(363));o=_f(o,l);var m=$T(o,d,f).disconnect;return{disconnect:function(){m()}}},e.registerMutableSourceForHydration=function(o,l){var d=l._getVersion;d=d(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,d]:o.mutableSourceEagerHydrationData.push(l,d)},e.runWithPriority=function(o,l){var d=Pe;try{return Pe=o,l()}finally{Pe=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(o,l,d,f){var m=l.current,_=Dt(),A=fi(m);return d=kv(d),l.context===null?l.context=d:l.pendingContext=d,(l=Un(_,A)).payload={element:o},(f=f===void 0?null:f)!==null&&(l.callback=f),(o=ui(m,l,A))!==null&&(Rr(o,m,A,_),iu(o,m,A)),A},e}),wx}({get exports(){return Ag},set exports(t){Ag=t}}).exports=nF();var iF=PM(Ag),IT={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Ig={},xh={get exports(){return Ig},set exports(t){Ig=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?xh.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(xh.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var a;return 1e9*(a=e())[0]+a[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(xh.exports=function(){return Date.now()-r},r=Date.now()):(xh.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(RM);var Tx,Mo={},ls={};({get exports(){return Mo},set exports(t){Mo=t}}).exports=(Tx||(Tx=1,ls.ConcurrentRoot=1,ls.ContinuousEventPriority=4,ls.DefaultEventPriority=16,ls.DiscreteEventPriority=1,ls.IdleEventPriority=536870912,ls.LegacyRoot=0),ls);var sF={};function Hp(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function RT(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&ii(t.children).forEach(function(s){RT(s,t)})}function Ex(t,e){var r;RT(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,a=n.destroyChildren,u=a===void 0||a,h=n.destroyTexture,c=h!==void 0&&h,p=n.destroyBaseTexture,y=p!==void 0&&p;s&&e.destroy({children:u,texture:c,baseTexture:y})}function Ax(t,e,r){ot(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var Cx=null,rn=iF({getRootHostContext:function(){return sF},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Mo.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Mo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Mo.ContinuousEventPriority;default:return Mo.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=JM[t];if(typeof s=="function"&&(e=s(i,n)),!e){var a=CT[t];a&&((e=a.create(n,{root:i})).didMount=a.didMount?a.didMount.bind(e):void 0,e.willUnmount=a.willUnmount?a.willUnmount.bind(e):void 0,e.applyProps=a.applyProps?a.applyProps.bind(e):void 0,e.config=a.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:On)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return Cx=function(a,u,h,c){var p=null;for(var y in h)!c.hasOwnProperty(y)&&h.hasOwnProperty(y)&&h[y]!==null&&(y===Tg||(p||(p=[]),p.push(y,null)));for(var g in c){var v=c[g],x=h!==null?h[g]:void 0;!c.hasOwnProperty(g)||v===x||v===null&&x===null||g===Tg||(p||(p=[]),p.push(g,v))}return p}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){ot(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Ig,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Hp.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Hp.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Hp.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ex.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ex.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Ax,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ax.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,a,u=t&&t.applyProps;typeof u!="function"&&(u=On),(u(t,n,i)||Cx)&&((s=t.__reactpixi)===null||s===void 0||(a=s.root)===null||a===void 0||a.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),oF=IT.dependencies["react-dom"].replace(/[^0-9.]/g,""),aF=IT.name;rn.injectIntoDevTools({bundleType:0,version:oF,rendererPackageName:aF,findHostInstanceByFiber:rn.findHostInstance});var Di=new Map;function PT(t){if(ot(vr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),Di.has(t)){var e=Di.get(t).pixiFiberContainer;rn.updateContainer(null,e,void 0,function(){Di.delete(t)})}}function kT(t){ot(vr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=Di.get(t);if(ot(!e,"Pixi React: createRoot should only be called once"),!e){var r=rn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return rn.updateContainer(n,r,void 0),rn.getPublicRootInstance(r)},unmount:function(){PT(t),Di.delete(t)}}},Di.set(t,e)}return e.reactRoot}function lF(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Di.has(e)?n=Di.get(e).reactRoot:n=kT(e),n.render(t)}function uF(t){PT(t)}function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zl.apply(this,arguments)}function hF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TT(n.key),n)}}function jn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lc(t,e){return Lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Lc(t,e)}function dF(t,e){if(e&&(gr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jn(t)}function Bc(t){return Bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bc(t)}var gd=Rn.createContext(null),NT=gd.Provider,MT=gd.Consumer,fF=function(t){var e=Rn.forwardRef(function(r,n){return Rn.createElement(MT,null,function(i){return Rn.createElement(t,zl({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function pF(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Bc(t);if(e){var i=Bc(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return dF(this,r)}}function Ix(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ix(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Rx=function(){},FT={width:$e.number,height:$e.number,onMount:$e.func,onUnmount:$e.func,raf:$e.bool,renderOnComponentChange:$e.bool,children:$e.node,options:$e.shape({autoStart:$e.bool,width:$e.number,height:$e.number,useContextAlpha:$e.bool,backgroundAlpha:$e.number,autoDensity:$e.bool,antialias:$e.bool,preserveDrawingBuffer:$e.bool,resolution:$e.number,forceCanvas:$e.bool,backgroundColor:$e.number,clearBeforeRender:$e.bool,powerPreference:$e.string,sharedTicker:$e.bool,sharedLoader:$e.bool,resizeTo:function(t,e){var r=t[e];r&&ot(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(gr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&ot(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(gr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},mF={width:800,height:600,onMount:Rx,onUnmount:Rx,raf:!0,renderOnComponentChange:!0},Rg=function(t){(function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Lc(s,a)})(i,Rn.Component);var e,r,n=pF(i);function i(){var s;hF(this,i);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return lt(jn(s=n.call.apply(n,[this].concat(u))),"_canvas",null),lt(jn(s),"_mediaQuery",null),lt(jn(s),"_ticker",null),lt(jn(s),"_needsUpdate",!0),lt(jn(s),"app",null),lt(jn(s),"updateSize",function(){var c=s.props,p=c.width,y=c.height,g=c.options;g!=null&&g.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(p,y)}),lt(jn(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),lt(jn(s),"renderStage",function(){var c=s.props,p=c.renderOnComponentChange;!c.raf&&p&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,a=s.onMount,u=s.width,h=s.height,c=s.options,p=s.raf,y=s.renderOnComponentChange;this.app=new md(wh(wh({width:u,height:h,view:this._canvas},c),{},{autoDensity:(c==null?void 0:c.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[p?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=rn.createContainer(this.app.stage),rn.updateContainer(this.getChildren(),this.mountNode,this),a(this.app),c!=null&&c.autoDensity&&window.matchMedia&&(c==null?void 0:c.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),y&&!p&&(this._ticker=new pr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,a,u){var h,c=this.props,p=c.width,y=c.height,g=c.raf,v=c.renderOnComponentChange,x=c.options;(x==null?void 0:x.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(x==null?void 0:x.resolution)&&(this.app.renderer.resolution=x.resolution,this.resetInteractionManager()),s.height===y&&s.width===p&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(x==null?void 0:x.resolution)||this.updateSize(),s.raf!==g&&this.app.ticker[g?"start":"stop"](),rn.updateContainer(this.getChildren(),this.mountNode,this),s.width===p&&s.height===y&&s.raf===g&&s.renderOnComponentChange===v&&s.options===x||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Rn.createElement(NT,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,a){console.error("Error occurred in `Stage`."),console.error(s),console.error(a)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),rn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,a,u=this,h=this.props.options;return h&&h.view?(ot(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Rn.createElement("canvas",zl({},(s=this.props,a=[].concat(ii(Object.keys(FT)),ii(Object.keys(Eg))),Object.keys(s).filter(function(c){return!a.includes(c)}).reduce(function(c,p){return wh(wh({},c),{},lt({},p,s[p]))},{})),{ref:function(c){return u._canvas=c}}))}}])&&cF(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Rg.propTypes=FT,Rg.defaultProps=mF;var gF=Rg;function OT(){var t=en.useContext(gd);return ot(t instanceof md,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function yF(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=OT();ot(typeof t=="function","`useTick` needs a callback function."),ot(r instanceof md,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=en.useRef(null);en.useEffect(function(){n.current=t},[t]),en.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function vF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pg(t,e,r){return Pg=vF()?Reflect.construct.bind():function(n,i,s){var a=[null];a.push.apply(a,i);var u=new(Function.bind.apply(n,a));return s&&Lc(u,s.prototype),u},Pg.apply(null,arguments)}var _F=["children","apply"];function Px(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var xF=function(t,e){ot(gr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,a=i.apply,u=Qi(i,_F),h=en.useRef(en.useMemo(function(){return r.map(function(y){var g,v=(u==null||(g=u[y])===null||g===void 0?void 0:g.construct)||[];return Pg(e[y],ii(v))})},[r])),c=en.useMemo(function(){return r.reduce(function(y,g,v){return Sh(Sh({},y),{},lt({},g,h.current[v]))},{})},[r]),p=en.useMemo(function(){return Object.keys(u).filter(AT(ET(r))).reduce(function(y,g){return Sh(Sh({},y),{},lt({},g,u[g]))},{})},[u,r]);return r.forEach(function(y,g){return Object.assign(h.current[g],u[y])}),a&&function(){for(var y=arguments.length,g=new Array(y),v=0;v<y;v++)g[v]=arguments[v];return g.every(function(x){return typeof x=="function"})}(a)&&a.call(t,c),Rn.createElement(t,zl({},p,{filters:h.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:$e.node,apply:$e.func},n},wF=or.BitmapText,SF=or.Container,bF=or.Graphics,TF=or.NineSlicePlane,EF=or.ParticleContainer,AF=or.Sprite,CF=or.AnimatedSprite,IF=or.Text,RF=or.TilingSprite,PF=or.SimpleMesh,kF=or.SimpleRope,NF=Object.freeze({__proto__:null,AnimatedSprite:CF,AppConsumer:MT,AppContext:gd,AppProvider:NT,BitmapText:wF,Container:SF,Graphics:bF,NineSlicePlane:TF,ParticleContainer:EF,PixiComponent:eF,PixiFiber:rn,SimpleMesh:PF,SimpleRope:kF,Sprite:AF,Stage:gF,TYPES:or,Text:IF,TilingSprite:RF,applyDefaultProps:On,createRoot:kT,eventHandlers:Oc,render:lF,unmountComponentAtNode:uF,useApp:OT,useTick:yF,withFilters:xF,withPixiApp:fF}),MF=kx(NF);td.exports=MF;var bh=td.exports;function FF(){return mo.jsxs(bh.Stage,{children:[mo.jsx(bh.Sprite,{image:"https://pixijs.io/pixi-react/img/bunny.png",x:400,y:270,anchor:{x:.5,y:.5}}),mo.jsx(bh.Container,{x:400,y:330,children:mo.jsx(bh.Text,{text:"Hello World",anchor:{x:.5,y:.5}})})]})}Rune.initClient({onChange:()=>{}});Vp.createRoot(document.getElementById("root")).render(mo.jsx(Rn.StrictMode,{children:mo.jsx(FF,{})}))});export default OF();
